var _N=Object.defineProperty,wN=Object.defineProperties;var EN=Object.getOwnPropertyDescriptors;var Ru=Object.getOwnPropertySymbols;var R0=Object.prototype.hasOwnProperty,I0=Object.prototype.propertyIsEnumerable;var P0=(n,e,r)=>e in n?_N(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,ce=(n,e)=>{for(var r in e||(e={}))R0.call(e,r)&&P0(n,r,e[r]);if(Ru)for(var r of Ru(e))I0.call(e,r)&&P0(n,r,e[r]);return n},Bt=(n,e)=>wN(n,EN(e));var L0=(n,e)=>{var r={};for(var i in n)R0.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ru)for(var i of Ru(n))e.indexOf(i)<0&&I0.call(n,i)&&(r[i]=n[i]);return r};function up(n,e){const r=Object.create(null),i=n.split(",");for(let o=0;o<i.length;o++)r[i[o]]=!0;return e?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const SN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kN=up(SN);function B0(n){return!!n||n===""}function fp(n){if(ze(n)){const e={};for(let r=0;r<n.length;r++){const i=n[r],o=Ft(i)?AN(i):fp(i);if(o)for(const s in o)e[s]=o[s]}return e}else{if(Ft(n))return n;if(Nt(n))return n}}const CN=/;(?![^(]*\))/g,xN=/:(.+)/;function AN(n){const e={};return n.split(CN).forEach(r=>{if(r){const i=r.split(xN);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function dp(n){let e="";if(Ft(n))e=n;else if(ze(n))for(let r=0;r<n.length;r++){const i=dp(n[r]);i&&(e+=i+" ")}else if(Nt(n))for(const r in n)n[r]&&(e+=r+" ");return e.trim()}const rne=n=>n==null?"":ze(n)||Nt(n)&&(n.toString===H0||!je(n.toString))?JSON.stringify(n,F0,2):String(n),F0=(n,e)=>e&&e.__v_isRef?F0(n,e.value):Js(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,o])=>(r[`${i} =>`]=o,r),{})}:z0(e)?{[`Set(${e.size})`]:[...e.values()]}:Nt(e)&&!ze(e)&&!V0(e)?String(e):e,st={},Ys=[],wr=()=>{},ON=()=>!1,DN=/^on[^a-z]/,Iu=n=>DN.test(n),hp=n=>n.startsWith("onUpdate:"),gn=Object.assign,$0=(n,e)=>{const r=n.indexOf(e);r>-1&&n.splice(r,1)},TN=Object.prototype.hasOwnProperty,Qe=(n,e)=>TN.call(n,e),ze=Array.isArray,Js=n=>Pu(n)==="[object Map]",z0=n=>Pu(n)==="[object Set]",je=n=>typeof n=="function",Ft=n=>typeof n=="string",pp=n=>typeof n=="symbol",Nt=n=>n!==null&&typeof n=="object",U0=n=>Nt(n)&&je(n.then)&&je(n.catch),H0=Object.prototype.toString,Pu=n=>H0.call(n),MN=n=>Pu(n).slice(8,-1),V0=n=>Pu(n)==="[object Object]",gp=n=>Ft(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Lu=up(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bu=n=>{const e=Object.create(null);return r=>e[r]||(e[r]=n(r))},NN=/-(\w)/g,jr=Bu(n=>n.replace(NN,(e,r)=>r?r.toUpperCase():"")),RN=/\B([A-Z])/g,Ko=Bu(n=>n.replace(RN,"-$1").toLowerCase()),Fu=Bu(n=>n.charAt(0).toUpperCase()+n.slice(1)),mp=Bu(n=>n?`on${Fu(n)}`:""),El=(n,e)=>!Object.is(n,e),$u=(n,e)=>{for(let r=0;r<n.length;r++)n[r](e)},zu=(n,e,r)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:r})},vp=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let j0;const IN=()=>j0||(j0=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let qr;const Uu=[];class PN{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&qr&&(this.parent=qr,this.index=(qr.scopes||(qr.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(Uu.push(this),qr=this)}off(){this.active&&(Uu.pop(),qr=Uu[Uu.length-1])}stop(e){if(this.active){if(this.effects.forEach(r=>r.stop()),this.cleanups.forEach(r=>r()),this.scopes&&this.scopes.forEach(r=>r.stop(!0)),this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function LN(n,e){e=e||qr,e&&e.active&&e.effects.push(n)}function BN(){return qr}function FN(n){qr&&qr.cleanups.push(n)}const yp=n=>{const e=new Set(n);return e.w=0,e.n=0,e},q0=n=>(n.w&Xi)>0,W0=n=>(n.n&Xi)>0,$N=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=Xi},zN=n=>{const{deps:e}=n;if(e.length){let r=0;for(let i=0;i<e.length;i++){const o=e[i];q0(o)&&!W0(o)?o.delete(n):e[r++]=o,o.w&=~Xi,o.n&=~Xi}e.length=r}},bp=new WeakMap;let Sl=0,Xi=1;const _p=30,kl=[];let Go;const Yo=Symbol(""),wp=Symbol("");class Ep{constructor(e,r=null,i){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],LN(this,i)}run(){if(!this.active)return this.fn();if(!kl.includes(this))try{return kl.push(Go=this),UN(),Xi=1<<++Sl,Sl<=_p?$N(this):K0(this),this.fn()}finally{Sl<=_p&&zN(this),Xi=1<<--Sl,Jo(),kl.pop();const e=kl.length;Go=e>0?kl[e-1]:void 0}}stop(){this.active&&(K0(this),this.onStop&&this.onStop(),this.active=!1)}}function K0(n){const{deps:e}=n;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(n);e.length=0}}let Xs=!0;const Sp=[];function Zs(){Sp.push(Xs),Xs=!1}function UN(){Sp.push(Xs),Xs=!0}function Jo(){const n=Sp.pop();Xs=n===void 0?!0:n}function Ln(n,e,r){if(!G0())return;let i=bp.get(n);i||bp.set(n,i=new Map);let o=i.get(r);o||i.set(r,o=yp()),Y0(o)}function G0(){return Xs&&Go!==void 0}function Y0(n,e){let r=!1;Sl<=_p?W0(n)||(n.n|=Xi,r=!q0(n)):r=!n.has(Go),r&&(n.add(Go),Go.deps.push(n))}function wi(n,e,r,i,o,s){const a=bp.get(n);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(r==="length"&&ze(n))a.forEach((c,u)=>{(u==="length"||u>=i)&&l.push(c)});else switch(r!==void 0&&l.push(a.get(r)),e){case"add":ze(n)?gp(r)&&l.push(a.get("length")):(l.push(a.get(Yo)),Js(n)&&l.push(a.get(wp)));break;case"delete":ze(n)||(l.push(a.get(Yo)),Js(n)&&l.push(a.get(wp)));break;case"set":Js(n)&&l.push(a.get(Yo));break}if(l.length===1)l[0]&&kp(l[0]);else{const c=[];for(const u of l)u&&c.push(...u);kp(yp(c))}}function kp(n,e){for(const r of ze(n)?n:[...n])(r!==Go||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const HN=up("__proto__,__v_isRef,__isVue"),J0=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(pp)),VN=Cp(),jN=Cp(!1,!0),qN=Cp(!0),X0=WN();function WN(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...r){const i=tt(this);for(let s=0,a=this.length;s<a;s++)Ln(i,"get",s+"");const o=i[e](...r);return o===-1||o===!1?i[e](...r.map(tt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...r){Zs();const i=tt(this)[e].apply(this,r);return Jo(),i}}),n}function Cp(n=!1,e=!1){return function(i,o,s){if(o==="__v_isReactive")return!n;if(o==="__v_isReadonly")return n;if(o==="__v_raw"&&s===(n?e?lR:s_:e?o_:i_).get(i))return i;const a=ze(i);if(!n&&a&&Qe(X0,o))return Reflect.get(X0,o,s);const l=Reflect.get(i,o,s);return(pp(o)?J0.has(o):HN(o))||(n||Ln(i,"get",o),e)?l:Wt(l)?!a||!gp(o)?l.value:l:Nt(l)?n?a_(l):qe(l):l}}const KN=Z0(),GN=Z0(!0);function Z0(n=!1){return function(r,i,o,s){let a=r[i];if(!n&&(o=tt(o),a=tt(a),!ze(r)&&Wt(a)&&!Wt(o)))return a.value=o,!0;const l=ze(r)&&gp(i)?Number(i)<r.length:Qe(r,i),c=Reflect.set(r,i,o,s);return r===tt(s)&&(l?El(o,a)&&wi(r,"set",i,o):wi(r,"add",i,o)),c}}function YN(n,e){const r=Qe(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&r&&wi(n,"delete",e,void 0),i}function JN(n,e){const r=Reflect.has(n,e);return(!pp(e)||!J0.has(e))&&Ln(n,"has",e),r}function XN(n){return Ln(n,"iterate",ze(n)?"length":Yo),Reflect.ownKeys(n)}const Q0={get:VN,set:KN,deleteProperty:YN,has:JN,ownKeys:XN},ZN={get:qN,set(n,e){return!0},deleteProperty(n,e){return!0}},QN=gn({},Q0,{get:jN,set:GN}),xp=n=>n,Hu=n=>Reflect.getPrototypeOf(n);function Vu(n,e,r=!1,i=!1){n=n.__v_raw;const o=tt(n),s=tt(e);e!==s&&!r&&Ln(o,"get",e),!r&&Ln(o,"get",s);const{has:a}=Hu(o),l=i?xp:r?Dp:Cl;if(a.call(o,e))return l(n.get(e));if(a.call(o,s))return l(n.get(s));n!==o&&n.get(e)}function ju(n,e=!1){const r=this.__v_raw,i=tt(r),o=tt(n);return n!==o&&!e&&Ln(i,"has",n),!e&&Ln(i,"has",o),n===o?r.has(n):r.has(n)||r.has(o)}function qu(n,e=!1){return n=n.__v_raw,!e&&Ln(tt(n),"iterate",Yo),Reflect.get(n,"size",n)}function e_(n){n=tt(n);const e=tt(this);return Hu(e).has.call(e,n)||(e.add(n),wi(e,"add",n,n)),this}function t_(n,e){e=tt(e);const r=tt(this),{has:i,get:o}=Hu(r);let s=i.call(r,n);s||(n=tt(n),s=i.call(r,n));const a=o.call(r,n);return r.set(n,e),s?El(e,a)&&wi(r,"set",n,e):wi(r,"add",n,e),this}function n_(n){const e=tt(this),{has:r,get:i}=Hu(e);let o=r.call(e,n);o||(n=tt(n),o=r.call(e,n)),i&&i.call(e,n);const s=e.delete(n);return o&&wi(e,"delete",n,void 0),s}function r_(){const n=tt(this),e=n.size!==0,r=n.clear();return e&&wi(n,"clear",void 0,void 0),r}function Wu(n,e){return function(i,o){const s=this,a=s.__v_raw,l=tt(a),c=e?xp:n?Dp:Cl;return!n&&Ln(l,"iterate",Yo),a.forEach((u,f)=>i.call(o,c(u),c(f),s))}}function Ku(n,e,r){return function(...i){const o=this.__v_raw,s=tt(o),a=Js(s),l=n==="entries"||n===Symbol.iterator&&a,c=n==="keys"&&a,u=o[n](...i),f=r?xp:e?Dp:Cl;return!e&&Ln(s,"iterate",c?wp:Yo),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:l?[f(d[0]),f(d[1])]:f(d),done:h}},[Symbol.iterator](){return this}}}}function Zi(n){return function(...e){return n==="delete"?!1:this}}function eR(){const n={get(s){return Vu(this,s)},get size(){return qu(this)},has:ju,add:e_,set:t_,delete:n_,clear:r_,forEach:Wu(!1,!1)},e={get(s){return Vu(this,s,!1,!0)},get size(){return qu(this)},has:ju,add:e_,set:t_,delete:n_,clear:r_,forEach:Wu(!1,!0)},r={get(s){return Vu(this,s,!0)},get size(){return qu(this,!0)},has(s){return ju.call(this,s,!0)},add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear"),forEach:Wu(!0,!1)},i={get(s){return Vu(this,s,!0,!0)},get size(){return qu(this,!0)},has(s){return ju.call(this,s,!0)},add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear"),forEach:Wu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Ku(s,!1,!1),r[s]=Ku(s,!0,!1),e[s]=Ku(s,!1,!0),i[s]=Ku(s,!0,!0)}),[n,r,e,i]}const[tR,nR,rR,iR]=eR();function Ap(n,e){const r=e?n?iR:rR:n?nR:tR;return(i,o,s)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?i:Reflect.get(Qe(r,o)&&o in i?r:i,o,s)}const oR={get:Ap(!1,!1)},sR={get:Ap(!1,!0)},aR={get:Ap(!0,!1)},i_=new WeakMap,o_=new WeakMap,s_=new WeakMap,lR=new WeakMap;function cR(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uR(n){return n.__v_skip||!Object.isExtensible(n)?0:cR(MN(n))}function qe(n){return n&&n.__v_isReadonly?n:Op(n,!1,Q0,oR,i_)}function fR(n){return Op(n,!1,QN,sR,o_)}function a_(n){return Op(n,!0,ZN,aR,s_)}function Op(n,e,r,i,o){if(!Nt(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=o.get(n);if(s)return s;const a=uR(n);if(a===0)return n;const l=new Proxy(n,a===2?i:r);return o.set(n,l),l}function Qs(n){return l_(n)?Qs(n.__v_raw):!!(n&&n.__v_isReactive)}function l_(n){return!!(n&&n.__v_isReadonly)}function c_(n){return Qs(n)||l_(n)}function tt(n){const e=n&&n.__v_raw;return e?tt(e):n}function Gu(n){return zu(n,"__v_skip",!0),n}const Cl=n=>Nt(n)?qe(n):n,Dp=n=>Nt(n)?a_(n):n;function Tp(n){G0()&&(n=tt(n),n.dep||(n.dep=yp()),Y0(n.dep))}function Mp(n,e){n=tt(n),n.dep&&kp(n.dep)}function Wt(n){return Boolean(n&&n.__v_isRef===!0)}function le(n){return f_(n,!1)}function u_(n){return f_(n,!0)}function f_(n,e){return Wt(n)?n:new dR(n,e)}class dR{constructor(e,r){this._shallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:tt(e),this._value=r?e:Cl(e)}get value(){return Tp(this),this._value}set value(e){e=this._shallow?e:tt(e),El(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Cl(e),Mp(this))}}function $t(n){return Wt(n)?n.value:n}const hR={get:(n,e,r)=>$t(Reflect.get(n,e,r)),set:(n,e,r,i)=>{const o=n[e];return Wt(o)&&!Wt(r)?(o.value=r,!0):Reflect.set(n,e,r,i)}};function d_(n){return Qs(n)?n:new Proxy(n,hR)}class pR{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:i}=e(()=>Tp(this),()=>Mp(this));this._get=r,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function h_(n){return new pR(n)}function p_(n){const e=ze(n)?new Array(n.length):{};for(const r in n)e[r]=mR(n,r);return e}class gR{constructor(e,r){this._object=e,this._key=r,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function mR(n,e){const r=n[e];return Wt(r)?r:new gR(n,e)}class vR{constructor(e,r,i){this._setter=r,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new Ep(e,()=>{this._dirty||(this._dirty=!0,Mp(this))}),this.__v_isReadonly=i}get value(){const e=tt(this);return Tp(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Je(n,e){let r,i;const o=je(n);return o?(r=n,i=wr):(r=n.get,i=n.set),new vR(r,i,o||!i)}Promise.resolve();function yR(n,e,...r){const i=n.vnode.props||st;let o=r;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:h}=i[f]||st;h?o=r.map(p=>p.trim()):d&&(o=r.map(vp))}let l,c=i[l=mp(e)]||i[l=mp(jr(e))];!c&&s&&(c=i[l=mp(Ko(e))]),c&&Sr(c,n,6,o);const u=i[l+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,Sr(u,n,6,o)}}function g_(n,e,r=!1){const i=e.emitsCache,o=i.get(n);if(o!==void 0)return o;const s=n.emits;let a={},l=!1;if(!je(n)){const c=u=>{const f=g_(u,e,!0);f&&(l=!0,gn(a,f))};!r&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!s&&!l?(i.set(n,null),null):(ze(s)?s.forEach(c=>a[c]=null):gn(a,s),i.set(n,a),a)}function Np(n,e){return!n||!Iu(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qe(n,e[0].toLowerCase()+e.slice(1))||Qe(n,Ko(e))||Qe(n,e))}let rr=null,m_=null;function Yu(n){const e=rr;return rr=n,m_=n&&n.type.__scopeId||null,e}function bR(n,e=rr,r){if(!e||n._n)return n;const i=(...o)=>{i._d&&F_(-1);const s=Yu(e),a=n(...o);return Yu(s),i._d&&F_(1),a};return i._n=!0,i._c=!0,i._d=!0,i}function Rp(n){const{type:e,vnode:r,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:c,emit:u,render:f,renderCache:d,data:h,setupState:p,ctx:g,inheritAttrs:v}=n;let w,b;const S=Yu(n);try{if(r.shapeFlag&4){const y=o||i;w=Kr(f.call(y,y,d,s,p,h,g)),b=c}else{const y=e;w=Kr(y.length>1?y(s,{attrs:c,slots:l,emit:u}):y(s,null)),b=e.props?c:_R(c)}}catch(y){Al.length=0,sf(y,n,1),w=Bn(es)}let E=w;if(b&&v!==!1){const y=Object.keys(b),{shapeFlag:k}=E;y.length&&k&(1|6)&&(a&&y.some(hp)&&(b=wR(b,a)),E=ea(E,b))}return r.dirs&&(E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&(E.transition=r.transition),w=E,Yu(S),w}const _R=n=>{let e;for(const r in n)(r==="class"||r==="style"||Iu(r))&&((e||(e={}))[r]=n[r]);return e},wR=(n,e)=>{const r={};for(const i in n)(!hp(i)||!(i.slice(9)in e))&&(r[i]=n[i]);return r};function ER(n,e,r){const{props:i,children:o,component:s}=n,{props:a,children:l,patchFlag:c}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return i?v_(i,a,u):!!a;if(c&8){const f=e.dynamicProps;for(let d=0;d<f.length;d++){const h=f[d];if(a[h]!==i[h]&&!Np(u,h))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?v_(i,a,u):!0:!!a;return!1}function v_(n,e,r){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(e[s]!==n[s]&&!Np(r,s))return!0}return!1}function SR({vnode:n,parent:e},r){for(;e&&e.subTree===n;)(n=e.vnode).el=r,e=e.parent}const kR=n=>n.__isSuspense;function CR(n,e){e&&e.pendingBranch?ze(n)?e.effects.push(...n):e.effects.push(n):EI(n)}function mn(n,e){if(zt){let r=zt.provides;const i=zt.parent&&zt.parent.provides;i===r&&(r=zt.provides=Object.create(i)),r[n]=e}}function Dt(n,e,r=!1){const i=zt||rr;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&n in o)return o[n];if(arguments.length>1)return r&&je(e)?e.call(i.proxy):e}}function Ne(n){return je(n)?{setup:n,name:n.name}:n}const Ip=n=>!!n.type.__asyncLoader,y_=n=>n.type.__isKeepAlive;function xR(n,e){b_(n,"a",e)}function AR(n,e){b_(n,"da",e)}function b_(n,e,r=zt){const i=n.__wdc||(n.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}n()});if(Ju(e,i,r),r){let o=r.parent;for(;o&&o.parent;)y_(o.parent.vnode)&&OR(i,e,r,o),o=o.parent}}function OR(n,e,r,i){const o=Ju(e,n,i,!0);Xo(()=>{$0(i[e],o)},r)}function Ju(n,e,r=zt,i=!1){if(r){const o=r[n]||(r[n]=[]),s=e.__weh||(e.__weh=(...a)=>{if(r.isUnmounted)return;Zs(),ta(r);const l=Sr(e,r,n,a);return ns(),Jo(),l});return i?o.unshift(s):o.push(s),s}}const Ei=n=>(e,r=zt)=>(!of||n==="sp")&&Ju(n,e,r),DR=Ei("bm"),Er=Ei("m"),TR=Ei("bu"),Pp=Ei("u"),Xu=Ei("bum"),Xo=Ei("um"),MR=Ei("sp"),NR=Ei("rtg"),RR=Ei("rtc");function IR(n,e=zt){Ju("ec",n,e)}let Lp=!0;function PR(n){const e=E_(n),r=n.proxy,i=n.ctx;Lp=!1,e.beforeCreate&&__(e.beforeCreate,n,"bc");const{data:o,computed:s,methods:a,watch:l,provide:c,inject:u,created:f,beforeMount:d,mounted:h,beforeUpdate:p,updated:g,activated:v,deactivated:w,beforeDestroy:b,beforeUnmount:S,destroyed:E,unmounted:y,render:k,renderTracked:D,renderTriggered:T,errorCaptured:N,serverPrefetch:$,expose:I,inheritAttrs:L,components:j,directives:K,filters:V}=e;if(u&&LR(u,i,null,n.appContext.config.unwrapInjectedRef),a)for(const W in a){const X=a[W];je(X)&&(i[W]=X.bind(r))}if(o){const W=o.call(r,r);Nt(W)&&(n.data=qe(W))}if(Lp=!0,s)for(const W in s){const X=s[W],J=je(X)?X.bind(r,r):je(X.get)?X.get.bind(r,r):wr,ee=!je(X)&&je(X.set)?X.set.bind(r):wr,de=Je({get:J,set:ee});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>de.value,set:ge=>de.value=ge})}if(l)for(const W in l)w_(l[W],i,r,W);if(c){const W=je(c)?c.call(r):c;Reflect.ownKeys(W).forEach(X=>{mn(X,W[X])})}f&&__(f,n,"c");function B(W,X){ze(X)?X.forEach(J=>W(J.bind(r))):X&&W(X.bind(r))}if(B(DR,d),B(Er,h),B(TR,p),B(Pp,g),B(xR,v),B(AR,w),B(IR,N),B(RR,D),B(NR,T),B(Xu,S),B(Xo,y),B(MR,$),ze(I))if(I.length){const W=n.exposed||(n.exposed={});I.forEach(X=>{Object.defineProperty(W,X,{get:()=>r[X],set:J=>r[X]=J})})}else n.exposed||(n.exposed={});k&&n.render===wr&&(n.render=k),L!=null&&(n.inheritAttrs=L),j&&(n.components=j),K&&(n.directives=K)}function LR(n,e,r=wr,i=!1){ze(n)&&(n=Bp(n));for(const o in n){const s=n[o];let a;Nt(s)?"default"in s?a=Dt(s.from||o,s.default,!0):a=Dt(s.from||o):a=Dt(s),Wt(a)&&i?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[o]=a}}function __(n,e,r){Sr(ze(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,r)}function w_(n,e,r,i){const o=i.includes(".")?ew(r,i):()=>r[i];if(Ft(n)){const s=e[n];je(s)&&Cn(o,s)}else if(je(n))Cn(o,n.bind(r));else if(Nt(n))if(ze(n))n.forEach(s=>w_(s,e,r,i));else{const s=je(n.handler)?n.handler.bind(r):e[n.handler];je(s)&&Cn(o,s,n)}}function E_(n){const e=n.type,{mixins:r,extends:i}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=n.appContext,l=s.get(e);let c;return l?c=l:!o.length&&!r&&!i?c=e:(c={},o.length&&o.forEach(u=>Zu(c,u,a,!0)),Zu(c,e,a)),s.set(e,c),c}function Zu(n,e,r,i=!1){const{mixins:o,extends:s}=e;s&&Zu(n,s,r,!0),o&&o.forEach(a=>Zu(n,a,r,!0));for(const a in e)if(!(i&&a==="expose")){const l=BR[a]||r&&r[a];n[a]=l?l(n[a],e[a]):e[a]}return n}const BR={data:S_,props:Zo,emits:Zo,methods:Zo,computed:Zo,beforeCreate:vn,created:vn,beforeMount:vn,mounted:vn,beforeUpdate:vn,updated:vn,beforeDestroy:vn,beforeUnmount:vn,destroyed:vn,unmounted:vn,activated:vn,deactivated:vn,errorCaptured:vn,serverPrefetch:vn,components:Zo,directives:Zo,watch:$R,provide:S_,inject:FR};function S_(n,e){return e?n?function(){return gn(je(n)?n.call(this,this):n,je(e)?e.call(this,this):e)}:e:n}function FR(n,e){return Zo(Bp(n),Bp(e))}function Bp(n){if(ze(n)){const e={};for(let r=0;r<n.length;r++)e[n[r]]=n[r];return e}return n}function vn(n,e){return n?[...new Set([].concat(n,e))]:e}function Zo(n,e){return n?gn(gn(Object.create(null),n),e):e}function $R(n,e){if(!n)return e;if(!e)return n;const r=gn(Object.create(null),n);for(const i in e)r[i]=vn(n[i],e[i]);return r}function zR(n,e,r,i=!1){const o={},s={};zu(s,tf,1),n.propsDefaults=Object.create(null),k_(n,e,o,s);for(const a in n.propsOptions[0])a in o||(o[a]=void 0);r?n.props=i?o:fR(o):n.type.props?n.props=o:n.props=s,n.attrs=s}function UR(n,e,r,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=n,l=tt(o),[c]=n.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const f=n.vnode.dynamicProps;for(let d=0;d<f.length;d++){let h=f[d];const p=e[h];if(c)if(Qe(s,h))p!==s[h]&&(s[h]=p,u=!0);else{const g=jr(h);o[g]=Fp(c,l,g,p,n,!1)}else p!==s[h]&&(s[h]=p,u=!0)}}}else{k_(n,e,o,s)&&(u=!0);let f;for(const d in l)(!e||!Qe(e,d)&&((f=Ko(d))===d||!Qe(e,f)))&&(c?r&&(r[d]!==void 0||r[f]!==void 0)&&(o[d]=Fp(c,l,d,void 0,n,!0)):delete o[d]);if(s!==l)for(const d in s)(!e||!Qe(e,d))&&(delete s[d],u=!0)}u&&wi(n,"set","$attrs")}function k_(n,e,r,i){const[o,s]=n.propsOptions;let a=!1,l;if(e)for(let c in e){if(Lu(c))continue;const u=e[c];let f;o&&Qe(o,f=jr(c))?!s||!s.includes(f)?r[f]=u:(l||(l={}))[f]=u:Np(n.emitsOptions,c)||u!==i[c]&&(i[c]=u,a=!0)}if(s){const c=tt(r),u=l||st;for(let f=0;f<s.length;f++){const d=s[f];r[d]=Fp(o,c,d,u[d],n,!Qe(u,d))}}return a}function Fp(n,e,r,i,o,s){const a=n[r];if(a!=null){const l=Qe(a,"default");if(l&&i===void 0){const c=a.default;if(a.type!==Function&&je(c)){const{propsDefaults:u}=o;r in u?i=u[r]:(ta(o),i=u[r]=c.call(null,e),ns())}else i=c}a[0]&&(s&&!l?i=!1:a[1]&&(i===""||i===Ko(r))&&(i=!0))}return i}function C_(n,e,r=!1){const i=e.propsCache,o=i.get(n);if(o)return o;const s=n.props,a={},l=[];let c=!1;if(!je(n)){const f=d=>{c=!0;const[h,p]=C_(d,e,!0);gn(a,h),p&&l.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!s&&!c)return i.set(n,Ys),Ys;if(ze(s))for(let f=0;f<s.length;f++){const d=jr(s[f]);x_(d)&&(a[d]=st)}else if(s)for(const f in s){const d=jr(f);if(x_(d)){const h=s[f],p=a[d]=ze(h)||je(h)?{type:h}:h;if(p){const g=D_(Boolean,p.type),v=D_(String,p.type);p[0]=g>-1,p[1]=v<0||g<v,(g>-1||Qe(p,"default"))&&l.push(d)}}}const u=[a,l];return i.set(n,u),u}function x_(n){return n[0]!=="$"}function A_(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function O_(n,e){return A_(n)===A_(e)}function D_(n,e){return ze(e)?e.findIndex(r=>O_(r,n)):je(e)&&O_(e,n)?0:-1}const T_=n=>n[0]==="_"||n==="$stable",$p=n=>ze(n)?n.map(Kr):[Kr(n)],HR=(n,e,r)=>{const i=bR((...o)=>$p(e(...o)),r);return i._c=!1,i},M_=(n,e,r)=>{const i=n._ctx;for(const o in n){if(T_(o))continue;const s=n[o];if(je(s))e[o]=HR(o,s,i);else if(s!=null){const a=$p(s);e[o]=()=>a}}},N_=(n,e)=>{const r=$p(e);n.slots.default=()=>r},VR=(n,e)=>{if(n.vnode.shapeFlag&32){const r=e._;r?(n.slots=tt(e),zu(e,"_",r)):M_(e,n.slots={})}else n.slots={},e&&N_(n,e);zu(n.slots,tf,1)},jR=(n,e,r)=>{const{vnode:i,slots:o}=n;let s=!0,a=st;if(i.shapeFlag&32){const l=e._;l?r&&l===1?s=!1:(gn(o,e),!r&&l===1&&delete o._):(s=!e.$stable,M_(e,o)),a=e}else e&&(N_(n,e),a={default:1});if(s)for(const l in o)!T_(l)&&!(l in a)&&delete o[l]};function ine(n,e){const r=rr;if(r===null)return n;const i=r.proxy,o=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[a,l,c,u=st]=e[s];je(a)&&(a={mounted:a,updated:a}),a.deep&&rs(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:c,modifiers:u})}return n}function Qo(n,e,r,i){const o=n.dirs,s=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let c=l.dir[i];c&&(Zs(),Sr(c,r,8,[n.el,l,n,e]),Jo())}}function R_(){return{app:null,config:{isNativeTag:ON,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qR=0;function WR(n,e){return function(i,o=null){o!=null&&!Nt(o)&&(o=null);const s=R_(),a=new Set;let l=!1;const c=s.app={_uid:qR++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:kI,get config(){return s.config},set config(u){},use(u,...f){return a.has(u)||(u&&je(u.install)?(a.add(u),u.install(c,...f)):je(u)&&(a.add(u),u(c,...f))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,f){return f?(s.components[u]=f,c):s.components[u]},directive(u,f){return f?(s.directives[u]=f,c):s.directives[u]},mount(u,f,d){if(!l){const h=Bn(i,o);return h.appContext=s,f&&e?e(h,u):n(h,u,d),l=!0,c._container=u,u.__vue_app__=c,Gp(h.component)||h.component.proxy}},unmount(){l&&(n(null,c._container),delete c._container.__vue_app__)},provide(u,f){return s.provides[u]=f,c}};return c}}const yn=CR;function KR(n){return GR(n)}function GR(n,e){const r=IN();r.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:a,createText:l,createComment:c,setText:u,setElementText:f,parentNode:d,nextSibling:h,setScopeId:p=wr,cloneNode:g,insertStaticContent:v}=n,w=(O,R,A,P=null,F=null,q=null,M=!1,m=null,C=!!R.dynamicChildren)=>{if(O===R)return;O&&!Ol(O,R)&&(P=ue(O),Z(O,F,q,!0),O=null),R.patchFlag===-2&&(C=!1,R.dynamicChildren=null);const{type:x,ref:U,shapeFlag:H}=R;switch(x){case Vp:b(O,R,A,P);break;case es:S(O,R,A,P);break;case jp:O==null&&E(R,A,P,M);break;case Si:K(O,R,A,P,F,q,M,m,C);break;default:H&1?D(O,R,A,P,F,q,M,m,C):H&6?V(O,R,A,P,F,q,M,m,C):(H&64||H&128)&&x.process(O,R,A,P,F,q,M,m,C,ke)}U!=null&&F&&zp(U,O&&O.ref,q,R||O,!R)},b=(O,R,A,P)=>{if(O==null)i(R.el=l(R.children),A,P);else{const F=R.el=O.el;R.children!==O.children&&u(F,R.children)}},S=(O,R,A,P)=>{O==null?i(R.el=c(R.children||""),A,P):R.el=O.el},E=(O,R,A,P)=>{[O.el,O.anchor]=v(O.children,R,A,P)},y=({el:O,anchor:R},A,P)=>{let F;for(;O&&O!==R;)F=h(O),i(O,A,P),O=F;i(R,A,P)},k=({el:O,anchor:R})=>{let A;for(;O&&O!==R;)A=h(O),o(O),O=A;o(R)},D=(O,R,A,P,F,q,M,m,C)=>{M=M||R.type==="svg",O==null?T(R,A,P,F,q,M,m,C):I(O,R,F,q,M,m,C)},T=(O,R,A,P,F,q,M,m)=>{let C,x;const{type:U,props:H,shapeFlag:z,transition:Q,patchFlag:ae,dirs:ve}=O;if(O.el&&g!==void 0&&ae===-1)C=O.el=g(O.el);else{if(C=O.el=a(O.type,q,H&&H.is,H),z&8?f(C,O.children):z&16&&$(O.children,C,null,P,F,q&&U!=="foreignObject",M,m),ve&&Qo(O,null,P,"created"),H){for(const ie in H)ie!=="value"&&!Lu(ie)&&s(C,ie,null,H[ie],q,O.children,P,F,re);"value"in H&&s(C,"value",null,H.value),(x=H.onVnodeBeforeMount)&&Wr(x,P,O)}N(C,O,O.scopeId,M,P)}ve&&Qo(O,null,P,"beforeMount");const me=(!F||F&&!F.pendingBranch)&&Q&&!Q.persisted;me&&Q.beforeEnter(C),i(C,R,A),((x=H&&H.onVnodeMounted)||me||ve)&&yn(()=>{x&&Wr(x,P,O),me&&Q.enter(C),ve&&Qo(O,null,P,"mounted")},F)},N=(O,R,A,P,F)=>{if(A&&p(O,A),P)for(let q=0;q<P.length;q++)p(O,P[q]);if(F){let q=F.subTree;if(R===q){const M=F.vnode;N(O,M,M.scopeId,M.slotScopeIds,F.parent)}}},$=(O,R,A,P,F,q,M,m,C=0)=>{for(let x=C;x<O.length;x++){const U=O[x]=m?Qi(O[x]):Kr(O[x]);w(null,U,R,A,P,F,q,M,m)}},I=(O,R,A,P,F,q,M)=>{const m=R.el=O.el;let{patchFlag:C,dynamicChildren:x,dirs:U}=R;C|=O.patchFlag&16;const H=O.props||st,z=R.props||st;let Q;(Q=z.onVnodeBeforeUpdate)&&Wr(Q,A,R,O),U&&Qo(R,O,A,"beforeUpdate");const ae=F&&R.type!=="foreignObject";if(x?L(O.dynamicChildren,x,m,A,P,ae,q):M||J(O,R,m,null,A,P,ae,q,!1),C>0){if(C&16)j(m,R,H,z,A,P,F);else if(C&2&&H.class!==z.class&&s(m,"class",null,z.class,F),C&4&&s(m,"style",H.style,z.style,F),C&8){const ve=R.dynamicProps;for(let me=0;me<ve.length;me++){const ie=ve[me],be=H[ie],De=z[ie];(De!==be||ie==="value")&&s(m,ie,be,De,F,O.children,A,P,re)}}C&1&&O.children!==R.children&&f(m,R.children)}else!M&&x==null&&j(m,R,H,z,A,P,F);((Q=z.onVnodeUpdated)||U)&&yn(()=>{Q&&Wr(Q,A,R,O),U&&Qo(R,O,A,"updated")},P)},L=(O,R,A,P,F,q,M)=>{for(let m=0;m<R.length;m++){const C=O[m],x=R[m],U=C.el&&(C.type===Si||!Ol(C,x)||C.shapeFlag&(6|64))?d(C.el):A;w(C,x,U,null,P,F,q,M,!0)}},j=(O,R,A,P,F,q,M)=>{if(A!==P){for(const m in P){if(Lu(m))continue;const C=P[m],x=A[m];C!==x&&m!=="value"&&s(O,m,x,C,M,R.children,F,q,re)}if(A!==st)for(const m in A)!Lu(m)&&!(m in P)&&s(O,m,A[m],null,M,R.children,F,q,re);"value"in P&&s(O,"value",A.value,P.value)}},K=(O,R,A,P,F,q,M,m,C)=>{const x=R.el=O?O.el:l(""),U=R.anchor=O?O.anchor:l("");let{patchFlag:H,dynamicChildren:z,slotScopeIds:Q}=R;Q&&(m=m?m.concat(Q):Q),O==null?(i(x,A,P),i(U,A,P),$(R.children,A,U,F,q,M,m,C)):H>0&&H&64&&z&&O.dynamicChildren?(L(O.dynamicChildren,z,A,F,q,M,m),(R.key!=null||F&&R===F.subTree)&&Up(O,R,!0)):J(O,R,A,U,F,q,M,m,C)},V=(O,R,A,P,F,q,M,m,C)=>{R.slotScopeIds=m,O==null?R.shapeFlag&512?F.ctx.activate(R,A,P,M,C):G(R,A,P,F,q,M,C):B(O,R,C)},G=(O,R,A,P,F,q,M)=>{const m=O.component=fI(O,P,F);if(y_(O)&&(m.ctx.renderer=ke),dI(m),m.asyncDep){if(F&&F.registerDep(m,W),!O.el){const C=m.subTree=Bn(es);S(null,C,R,A)}return}W(m,O,R,A,F,q,M)},B=(O,R,A)=>{const P=R.component=O.component;if(ER(O,R,A))if(P.asyncDep&&!P.asyncResolved){X(P,R,A);return}else P.next=R,_I(P.update),P.update();else R.component=O.component,R.el=O.el,P.vnode=R},W=(O,R,A,P,F,q,M)=>{const m=()=>{if(O.isMounted){let{next:U,bu:H,u:z,parent:Q,vnode:ae}=O,ve=U,me;C.allowRecurse=!1,U?(U.el=ae.el,X(O,U,M)):U=ae,H&&$u(H),(me=U.props&&U.props.onVnodeBeforeUpdate)&&Wr(me,Q,U,ae),C.allowRecurse=!0;const ie=Rp(O),be=O.subTree;O.subTree=ie,w(be,ie,d(be.el),ue(be),O,F,q),U.el=ie.el,ve===null&&SR(O,ie.el),z&&yn(z,F),(me=U.props&&U.props.onVnodeUpdated)&&yn(()=>Wr(me,Q,U,ae),F)}else{let U;const{el:H,props:z}=R,{bm:Q,m:ae,parent:ve}=O,me=Ip(R);if(C.allowRecurse=!1,Q&&$u(Q),!me&&(U=z&&z.onVnodeBeforeMount)&&Wr(U,ve,R),C.allowRecurse=!0,H&&Se){const ie=()=>{O.subTree=Rp(O),Se(H,O.subTree,O,F,null)};me?R.type.__asyncLoader().then(()=>!O.isUnmounted&&ie()):ie()}else{const ie=O.subTree=Rp(O);w(null,ie,A,P,O,F,q),R.el=ie.el}if(ae&&yn(ae,F),!me&&(U=z&&z.onVnodeMounted)){const ie=R;yn(()=>Wr(U,ve,ie),F)}R.shapeFlag&256&&O.a&&yn(O.a,F),O.isMounted=!0,R=A=P=null}},C=new Ep(m,()=>G_(O.update),O.scope),x=O.update=C.run.bind(C);x.id=O.uid,C.allowRecurse=x.allowRecurse=!0,x()},X=(O,R,A)=>{R.component=O;const P=O.vnode.props;O.vnode=R,O.next=null,UR(O,R.props,P,A),jR(O,R.children,A),Zs(),Zp(void 0,O.update),Jo()},J=(O,R,A,P,F,q,M,m,C=!1)=>{const x=O&&O.children,U=O?O.shapeFlag:0,H=R.children,{patchFlag:z,shapeFlag:Q}=R;if(z>0){if(z&128){de(x,H,A,P,F,q,M,m,C);return}else if(z&256){ee(x,H,A,P,F,q,M,m,C);return}}Q&8?(U&16&&re(x,F,q),H!==x&&f(A,H)):U&16?Q&16?de(x,H,A,P,F,q,M,m,C):re(x,F,q,!0):(U&8&&f(A,""),Q&16&&$(H,A,P,F,q,M,m,C))},ee=(O,R,A,P,F,q,M,m,C)=>{O=O||Ys,R=R||Ys;const x=O.length,U=R.length,H=Math.min(x,U);let z;for(z=0;z<H;z++){const Q=R[z]=C?Qi(R[z]):Kr(R[z]);w(O[z],Q,A,null,F,q,M,m,C)}x>U?re(O,F,q,!0,!1,H):$(R,A,P,F,q,M,m,C,H)},de=(O,R,A,P,F,q,M,m,C)=>{let x=0;const U=R.length;let H=O.length-1,z=U-1;for(;x<=H&&x<=z;){const Q=O[x],ae=R[x]=C?Qi(R[x]):Kr(R[x]);if(Ol(Q,ae))w(Q,ae,A,null,F,q,M,m,C);else break;x++}for(;x<=H&&x<=z;){const Q=O[H],ae=R[z]=C?Qi(R[z]):Kr(R[z]);if(Ol(Q,ae))w(Q,ae,A,null,F,q,M,m,C);else break;H--,z--}if(x>H){if(x<=z){const Q=z+1,ae=Q<U?R[Q].el:P;for(;x<=z;)w(null,R[x]=C?Qi(R[x]):Kr(R[x]),A,ae,F,q,M,m,C),x++}}else if(x>z)for(;x<=H;)Z(O[x],F,q,!0),x++;else{const Q=x,ae=x,ve=new Map;for(x=ae;x<=z;x++){const xe=R[x]=C?Qi(R[x]):Kr(R[x]);xe.key!=null&&ve.set(xe.key,x)}let me,ie=0;const be=z-ae+1;let De=!1,He=0;const ne=new Array(be);for(x=0;x<be;x++)ne[x]=0;for(x=Q;x<=H;x++){const xe=O[x];if(ie>=be){Z(xe,F,q,!0);continue}let Ve;if(xe.key!=null)Ve=ve.get(xe.key);else for(me=ae;me<=z;me++)if(ne[me-ae]===0&&Ol(xe,R[me])){Ve=me;break}Ve===void 0?Z(xe,F,q,!0):(ne[Ve-ae]=x+1,Ve>=He?He=Ve:De=!0,w(xe,R[Ve],A,null,F,q,M,m,C),ie++)}const Ee=De?YR(ne):Ys;for(me=Ee.length-1,x=be-1;x>=0;x--){const xe=ae+x,Ve=R[xe],Ye=xe+1<U?R[xe+1].el:P;ne[x]===0?w(null,Ve,A,Ye,F,q,M,m,C):De&&(me<0||x!==Ee[me]?ge(Ve,A,Ye,2):me--)}}},ge=(O,R,A,P,F=null)=>{const{el:q,type:M,transition:m,children:C,shapeFlag:x}=O;if(x&6){ge(O.component.subTree,R,A,P);return}if(x&128){O.suspense.move(R,A,P);return}if(x&64){M.move(O,R,A,ke);return}if(M===Si){i(q,R,A);for(let H=0;H<C.length;H++)ge(C[H],R,A,P);i(O.anchor,R,A);return}if(M===jp){y(O,R,A);return}if(P!==2&&x&1&&m)if(P===0)m.beforeEnter(q),i(q,R,A),yn(()=>m.enter(q),F);else{const{leave:H,delayLeave:z,afterLeave:Q}=m,ae=()=>i(q,R,A),ve=()=>{H(q,()=>{ae(),Q&&Q()})};z?z(q,ae,ve):ve()}else i(q,R,A)},Z=(O,R,A,P=!1,F=!1)=>{const{type:q,props:M,ref:m,children:C,dynamicChildren:x,shapeFlag:U,patchFlag:H,dirs:z}=O;if(m!=null&&zp(m,null,A,O,!0),U&256){R.ctx.deactivate(O);return}const Q=U&1&&z,ae=!Ip(O);let ve;if(ae&&(ve=M&&M.onVnodeBeforeUnmount)&&Wr(ve,R,O),U&6)oe(O.component,A,P);else{if(U&128){O.suspense.unmount(A,P);return}Q&&Qo(O,null,R,"beforeUnmount"),U&64?O.type.remove(O,R,A,F,ke,P):x&&(q!==Si||H>0&&H&64)?re(x,R,A,!1,!0):(q===Si&&H&(128|256)||!F&&U&16)&&re(C,R,A),P&&te(O)}(ae&&(ve=M&&M.onVnodeUnmounted)||Q)&&yn(()=>{ve&&Wr(ve,R,O),Q&&Qo(O,null,R,"unmounted")},A)},te=O=>{const{type:R,el:A,anchor:P,transition:F}=O;if(R===Si){Y(A,P);return}if(R===jp){k(O);return}const q=()=>{o(A),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(O.shapeFlag&1&&F&&!F.persisted){const{leave:M,delayLeave:m}=F,C=()=>M(A,q);m?m(O.el,q,C):C()}else q()},Y=(O,R)=>{let A;for(;O!==R;)A=h(O),o(O),O=A;o(R)},oe=(O,R,A)=>{const{bum:P,scope:F,update:q,subTree:M,um:m}=O;P&&$u(P),F.stop(),q&&(q.active=!1,Z(M,O,R,A)),m&&yn(m,R),yn(()=>{O.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},re=(O,R,A,P=!1,F=!1,q=0)=>{for(let M=q;M<O.length;M++)Z(O[M],R,A,P,F)},ue=O=>O.shapeFlag&6?ue(O.component.subTree):O.shapeFlag&128?O.suspense.next():h(O.anchor||O.el),fe=(O,R,A)=>{O==null?R._vnode&&Z(R._vnode,null,null,!0):w(R._vnode||null,O,R,null,null,null,A),X_(),R._vnode=O},ke={p:w,um:Z,m:ge,r:te,mt:G,mc:$,pc:J,pbc:L,n:ue,o:n};let Ce,Se;return e&&([Ce,Se]=e(ke)),{render:fe,hydrate:Ce,createApp:WR(fe,Ce)}}function zp(n,e,r,i,o=!1){if(ze(n)){n.forEach((h,p)=>zp(h,e&&(ze(e)?e[p]:e),r,i,o));return}if(Ip(i)&&!o)return;const s=i.shapeFlag&4?Gp(i.component)||i.component.proxy:i.el,a=o?null:s,{i:l,r:c}=n,u=e&&e.r,f=l.refs===st?l.refs={}:l.refs,d=l.setupState;if(u!=null&&u!==c&&(Ft(u)?(f[u]=null,Qe(d,u)&&(d[u]=null)):Wt(u)&&(u.value=null)),Ft(c)){const h=()=>{f[c]=a,Qe(d,c)&&(d[c]=a)};a?(h.id=-1,yn(h,r)):h()}else if(Wt(c)){const h=()=>{c.value=a};a?(h.id=-1,yn(h,r)):h()}else je(c)&&eo(c,l,12,[a,f])}function Wr(n,e,r,i=null){Sr(n,e,7,[r,i])}function Up(n,e,r=!1){const i=n.children,o=e.children;if(ze(i)&&ze(o))for(let s=0;s<i.length;s++){const a=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Qi(o[s]),l.el=a.el),r||Up(a,l))}}function YR(n){const e=n.slice(),r=[0];let i,o,s,a,l;const c=n.length;for(i=0;i<c;i++){const u=n[i];if(u!==0){if(o=r[r.length-1],n[o]<u){e[i]=o,r.push(i);continue}for(s=0,a=r.length-1;s<a;)l=s+a>>1,n[r[l]]<u?s=l+1:a=l;u<n[r[s]]&&(s>0&&(e[i]=r[s-1]),r[s]=i)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=e[a];return r}const JR=n=>n.__isTeleport,xl=n=>n&&(n.disabled||n.disabled===""),I_=n=>typeof SVGElement!="undefined"&&n instanceof SVGElement,Hp=(n,e)=>{const r=n&&n.to;return Ft(r)?e?e(r):null:r},XR={__isTeleport:!0,process(n,e,r,i,o,s,a,l,c,u){const{mc:f,pc:d,pbc:h,o:{insert:p,querySelector:g,createText:v,createComment:w}}=u,b=xl(e.props);let{shapeFlag:S,children:E,dynamicChildren:y}=e;if(n==null){const k=e.el=v(""),D=e.anchor=v("");p(k,r,i),p(D,r,i);const T=e.target=Hp(e.props,g),N=e.targetAnchor=v("");T&&(p(N,T),a=a||I_(T));const $=(I,L)=>{S&16&&f(E,I,L,o,s,a,l,c)};b?$(r,D):T&&$(T,N)}else{e.el=n.el;const k=e.anchor=n.anchor,D=e.target=n.target,T=e.targetAnchor=n.targetAnchor,N=xl(n.props),$=N?r:D,I=N?k:T;if(a=a||I_(D),y?(h(n.dynamicChildren,y,$,o,s,a,l),Up(n,e,!0)):c||d(n,e,$,I,o,s,a,l,!1),b)N||Qu(e,r,k,u,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const L=e.target=Hp(e.props,g);L&&Qu(e,L,null,u,0)}else N&&Qu(e,D,T,u,1)}},remove(n,e,r,i,{um:o,o:{remove:s}},a){const{shapeFlag:l,children:c,anchor:u,targetAnchor:f,target:d,props:h}=n;if(d&&s(f),(a||!xl(h))&&(s(u),l&16))for(let p=0;p<c.length;p++){const g=c[p];o(g,e,r,!0,!!g.dynamicChildren)}},move:Qu,hydrate:ZR};function Qu(n,e,r,{o:{insert:i},m:o},s=2){s===0&&i(n.targetAnchor,e,r);const{el:a,anchor:l,shapeFlag:c,children:u,props:f}=n,d=s===2;if(d&&i(a,e,r),(!d||xl(f))&&c&16)for(let h=0;h<u.length;h++)o(u[h],e,r,2);d&&i(l,e,r)}function ZR(n,e,r,i,o,s,{o:{nextSibling:a,parentNode:l,querySelector:c}},u){const f=e.target=Hp(e.props,c);if(f){const d=f._lpa||f.firstChild;e.shapeFlag&16&&(xl(e.props)?(e.anchor=u(a(n),e,l(n),r,i,o,s),e.targetAnchor=d):(e.anchor=a(n),e.targetAnchor=u(d,e,f,r,i,o,s)),f._lpa=e.targetAnchor&&a(e.targetAnchor))}return e.anchor&&a(e.anchor)}const P_=XR,L_="components";function one(n,e){return eI(L_,n,!0,e)||n}const QR=Symbol();function eI(n,e,r=!0,i=!1){const o=rr||zt;if(o){const s=o.type;if(n===L_){const l=mI(s);if(l&&(l===e||l===jr(e)||l===Fu(jr(e))))return s}const a=B_(o[n]||s[n],e)||B_(o.appContext[n],e);return!a&&i?s:a}}function B_(n,e){return n&&(n[e]||n[jr(e)]||n[Fu(jr(e))])}const Si=Symbol(void 0),Vp=Symbol(void 0),es=Symbol(void 0),jp=Symbol(void 0),Al=[];let ts=null;function tI(n=!1){Al.push(ts=n?null:[])}function nI(){Al.pop(),ts=Al[Al.length-1]||null}let ef=1;function F_(n){ef+=n}function $_(n){return n.dynamicChildren=ef>0?ts||Ys:null,nI(),ef>0&&ts&&ts.push(n),n}function sne(n,e,r,i,o,s){return $_(U_(n,e,r,i,o,s,!0))}function rI(n,e,r,i,o){return $_(Bn(n,e,r,i,o,!0))}function qp(n){return n?n.__v_isVNode===!0:!1}function Ol(n,e){return n.type===e.type&&n.key===e.key}const tf="__vInternal",z_=({key:n})=>n!=null?n:null,nf=({ref:n})=>n!=null?Ft(n)||Wt(n)||je(n)?{i:rr,r:n}:n:null;function U_(n,e=null,r=null,i=0,o=null,s=n===Si?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&z_(e),ref:e&&nf(e),scopeId:m_,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(Wp(c,r),s&128&&n.normalize(c)):r&&(c.shapeFlag|=Ft(r)?8:16),ef>0&&!a&&ts&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&ts.push(c),c}const Bn=iI;function iI(n,e=null,r=null,i=0,o=null,s=!1){if((!n||n===QR)&&(n=es),qp(n)){const l=ea(n,e,!0);return r&&Wp(l,r),l}if(vI(n)&&(n=n.__vccOpts),e){e=oI(e);let{class:l,style:c}=e;l&&!Ft(l)&&(e.class=dp(l)),Nt(c)&&(c_(c)&&!ze(c)&&(c=gn({},c)),e.style=fp(c))}const a=Ft(n)?1:kR(n)?128:JR(n)?64:Nt(n)?4:je(n)?2:0;return U_(n,e,r,i,o,a,s,!0)}function oI(n){return n?c_(n)||tf in n?gn({},n):n:null}function ea(n,e,r=!1){const{props:i,ref:o,patchFlag:s,children:a}=n,l=e?aI(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:l,key:l&&z_(l),ref:e&&e.ref?r&&o?ze(o)?o.concat(nf(e)):[o,nf(e)]:nf(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Si?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ea(n.ssContent),ssFallback:n.ssFallback&&ea(n.ssFallback),el:n.el,anchor:n.anchor}}function sI(n=" ",e=0){return Bn(Vp,null,n,e)}function ane(n="",e=!1){return e?(tI(),rI(es,null,n)):Bn(es,null,n)}function Kr(n){return n==null||typeof n=="boolean"?Bn(es):ze(n)?Bn(Si,null,n.slice()):typeof n=="object"?Qi(n):Bn(Vp,null,String(n))}function Qi(n){return n.el===null||n.memo?n:ea(n)}function Wp(n,e){let r=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(ze(e))r=16;else if(typeof e=="object")if(i&(1|64)){const o=e.default;o&&(o._c&&(o._d=!1),Wp(n,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!(tf in e)?e._ctx=rr:o===3&&rr&&(rr.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else je(e)?(e={default:e,_ctx:rr},r=32):(e=String(e),i&64?(r=16,e=[sI(e)]):r=8);n.children=e,n.shapeFlag|=r}function aI(...n){const e={};for(let r=0;r<n.length;r++){const i=n[r];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=dp([e.class,i.class]));else if(o==="style")e.style=fp([e.style,i.style]);else if(Iu(o)){const s=e[o],a=i[o];s!==a&&(e[o]=s?[].concat(s,a):a)}else o!==""&&(e[o]=i[o])}return e}function lne(n,e,r,i){let o;const s=r&&r[i];if(ze(n)||Ft(n)){o=new Array(n.length);for(let a=0,l=n.length;a<l;a++)o[a]=e(n[a],a,void 0,s&&s[a])}else if(typeof n=="number"){o=new Array(n);for(let a=0;a<n;a++)o[a]=e(a+1,a,void 0,s&&s[a])}else if(Nt(n))if(n[Symbol.iterator])o=Array.from(n,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(n);o=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];o[l]=e(n[u],u,l,s&&s[l])}}else o=[];return r&&(r[i]=o),o}const Kp=n=>n?V_(n)?Gp(n)||n.proxy:Kp(n.parent):null,rf=gn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Kp(n.parent),$root:n=>Kp(n.root),$emit:n=>n.emit,$options:n=>E_(n),$forceUpdate:n=>()=>G_(n.update),$nextTick:n=>Nl.bind(n.proxy),$watch:n=>SI.bind(n)}),lI={get({_:n},e){const{ctx:r,setupState:i,data:o,props:s,accessCache:a,type:l,appContext:c}=n;let u;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 0:return i[e];case 1:return o[e];case 3:return r[e];case 2:return s[e]}else{if(i!==st&&Qe(i,e))return a[e]=0,i[e];if(o!==st&&Qe(o,e))return a[e]=1,o[e];if((u=n.propsOptions[0])&&Qe(u,e))return a[e]=2,s[e];if(r!==st&&Qe(r,e))return a[e]=3,r[e];Lp&&(a[e]=4)}}const f=rf[e];let d,h;if(f)return e==="$attrs"&&Ln(n,"get",e),f(n);if((d=l.__cssModules)&&(d=d[e]))return d;if(r!==st&&Qe(r,e))return a[e]=3,r[e];if(h=c.config.globalProperties,Qe(h,e))return h[e]},set({_:n},e,r){const{data:i,setupState:o,ctx:s}=n;if(o!==st&&Qe(o,e))o[e]=r;else if(i!==st&&Qe(i,e))i[e]=r;else if(Qe(n.props,e))return!1;return e[0]==="$"&&e.slice(1)in n?!1:(s[e]=r,!0)},has({_:{data:n,setupState:e,accessCache:r,ctx:i,appContext:o,propsOptions:s}},a){let l;return r[a]!==void 0||n!==st&&Qe(n,a)||e!==st&&Qe(e,a)||(l=s[0])&&Qe(l,a)||Qe(i,a)||Qe(rf,a)||Qe(o.config.globalProperties,a)}},cI=R_();let uI=0;function fI(n,e,r){const i=n.type,o=(e?e.appContext:n.appContext)||cI,s={uid:uI++,vnode:n,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,update:null,scope:new PN(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:C_(i,o),emitsOptions:g_(i,o),emit:null,emitted:null,propsDefaults:st,inheritAttrs:i.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=yR.bind(null,s),n.ce&&n.ce(s),s}let zt=null;const H_=()=>zt||rr,ta=n=>{zt=n,n.scope.on()},ns=()=>{zt&&zt.scope.off(),zt=null};function V_(n){return n.vnode.shapeFlag&4}let of=!1;function dI(n,e=!1){of=e;const{props:r,children:i}=n.vnode,o=V_(n);zR(n,r,o,e),VR(n,i);const s=o?hI(n,e):void 0;return of=!1,s}function hI(n,e){const r=n.type;n.accessCache=Object.create(null),n.proxy=Gu(new Proxy(n.ctx,lI));const{setup:i}=r;if(i){const o=n.setupContext=i.length>1?gI(n):null;ta(n),Zs();const s=eo(i,n,0,[n.props,o]);if(Jo(),ns(),U0(s)){if(s.then(ns,ns),e)return s.then(a=>{j_(n,a,e)}).catch(a=>{sf(a,n,0)});n.asyncDep=s}else j_(n,s,e)}else W_(n,e)}function j_(n,e,r){je(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Nt(e)&&(n.setupState=d_(e)),W_(n,r)}let q_;function W_(n,e,r){const i=n.type;if(!n.render){if(!e&&q_&&!i.render){const o=i.template;if(o){const{isCustomElement:s,compilerOptions:a}=n.appContext.config,{delimiters:l,compilerOptions:c}=i,u=gn(gn({isCustomElement:s,delimiters:l},a),c);i.render=q_(o,u)}}n.render=i.render||wr}ta(n),Zs(),PR(n),Jo(),ns()}function pI(n){return new Proxy(n.attrs,{get(e,r){return Ln(n,"get","$attrs"),e[r]}})}function gI(n){const e=i=>{n.exposed=i||{}};let r;return{get attrs(){return r||(r=pI(n))},slots:n.slots,emit:n.emit,expose:e}}function Gp(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(d_(Gu(n.exposed)),{get(e,r){if(r in e)return e[r];if(r in rf)return rf[r](n)}}))}function mI(n){return je(n)&&n.displayName||n.name}function vI(n){return je(n)&&"__vccOpts"in n}function eo(n,e,r,i){let o;try{o=i?n(...i):n()}catch(s){sf(s,e,r)}return o}function Sr(n,e,r,i){if(je(n)){const s=eo(n,e,r,i);return s&&U0(s)&&s.catch(a=>{sf(a,e,r)}),s}const o=[];for(let s=0;s<n.length;s++)o.push(Sr(n[s],e,r,i));return o}function sf(n,e,r,i=!0){const o=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,l=r;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](n,a,l)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){eo(c,null,10,[n,a,l]);return}}yI(n,r,o,i)}function yI(n,e,r,i=!0){console.error(n)}let af=!1,Yp=!1;const Fn=[];let ki=0;const Dl=[];let Tl=null,na=0;const Ml=[];let to=null,ra=0;const K_=Promise.resolve();let Jp=null,Xp=null;function Nl(n){const e=Jp||K_;return n?e.then(this?n.bind(this):n):e}function bI(n){let e=ki+1,r=Fn.length;for(;e<r;){const i=e+r>>>1;Rl(Fn[i])<n?e=i+1:r=i}return e}function G_(n){(!Fn.length||!Fn.includes(n,af&&n.allowRecurse?ki+1:ki))&&n!==Xp&&(n.id==null?Fn.push(n):Fn.splice(bI(n.id),0,n),Y_())}function Y_(){!af&&!Yp&&(Yp=!0,Jp=K_.then(Z_))}function _I(n){const e=Fn.indexOf(n);e>ki&&Fn.splice(e,1)}function J_(n,e,r,i){ze(n)?r.push(...n):(!e||!e.includes(n,n.allowRecurse?i+1:i))&&r.push(n),Y_()}function wI(n){J_(n,Tl,Dl,na)}function EI(n){J_(n,to,Ml,ra)}function Zp(n,e=null){if(Dl.length){for(Xp=e,Tl=[...new Set(Dl)],Dl.length=0,na=0;na<Tl.length;na++)Tl[na]();Tl=null,na=0,Xp=null,Zp(n,e)}}function X_(n){if(Ml.length){const e=[...new Set(Ml)];if(Ml.length=0,to){to.push(...e);return}for(to=e,to.sort((r,i)=>Rl(r)-Rl(i)),ra=0;ra<to.length;ra++)to[ra]();to=null,ra=0}}const Rl=n=>n.id==null?1/0:n.id;function Z_(n){Yp=!1,af=!0,Zp(n),Fn.sort((r,i)=>Rl(r)-Rl(i));const e=wr;try{for(ki=0;ki<Fn.length;ki++){const r=Fn[ki];r&&r.active!==!1&&eo(r,null,14)}}finally{ki=0,Fn.length=0,X_(),af=!1,Jp=null,(Fn.length||Dl.length||Ml.length)&&Z_(n)}}function $n(n,e){return Qp(n,null,e)}const Q_={};function Cn(n,e,r){return Qp(n,e,r)}function Qp(n,e,{immediate:r,deep:i,flush:o,onTrack:s,onTrigger:a}=st){const l=zt;let c,u=!1,f=!1;if(Wt(n)?(c=()=>n.value,u=!!n._shallow):Qs(n)?(c=()=>n,i=!0):ze(n)?(f=!0,u=n.some(Qs),c=()=>n.map(b=>{if(Wt(b))return b.value;if(Qs(b))return rs(b);if(je(b))return eo(b,l,2)})):je(n)?e?c=()=>eo(n,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),Sr(n,l,3,[h])}:c=wr,e&&i){const b=c;c=()=>rs(b())}let d,h=b=>{d=w.onStop=()=>{eo(b,l,4)}};if(of)return h=wr,e?r&&Sr(e,l,3,[c(),f?[]:void 0,h]):c(),wr;let p=f?[]:Q_;const g=()=>{if(!!w.active)if(e){const b=w.run();(i||u||(f?b.some((S,E)=>El(S,p[E])):El(b,p)))&&(d&&d(),Sr(e,l,3,[b,p===Q_?void 0:p,h]),p=b)}else w.run()};g.allowRecurse=!!e;let v;o==="sync"?v=g:o==="post"?v=()=>yn(g,l&&l.suspense):v=()=>{!l||l.isMounted?wI(g):g()};const w=new Ep(c,v);return e?r?g():p=w.run():o==="post"?yn(w.run.bind(w),l&&l.suspense):w.run(),()=>{w.stop(),l&&l.scope&&$0(l.scope.effects,w)}}function SI(n,e,r){const i=this.proxy,o=Ft(n)?n.includes(".")?ew(i,n):()=>i[n]:n.bind(i,i);let s;je(e)?s=e:(s=e.handler,r=e);const a=zt;ta(this);const l=Qp(o,s.bind(i),r);return a?ta(a):ns(),l}function ew(n,e){const r=e.split(".");return()=>{let i=n;for(let o=0;o<r.length&&i;o++)i=i[r[o]];return i}}function rs(n,e){if(!Nt(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Wt(n))rs(n.value,e);else if(ze(n))for(let r=0;r<n.length;r++)rs(n[r],e);else if(z0(n)||Js(n))n.forEach(r=>{rs(r,e)});else if(V0(n))for(const r in n)rs(n[r],e);return n}function rt(n,e,r){const i=arguments.length;return i===2?Nt(e)&&!ze(e)?qp(e)?Bn(n,null,[e]):Bn(n,e):Bn(n,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&qp(r)&&(r=[r]),Bn(n,e,r))}const kI="3.2.21",CI="http://www.w3.org/2000/svg",ia=typeof document!="undefined"?document:null,tw=new Map,xI={insert:(n,e,r)=>{e.insertBefore(n,r||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,r,i)=>{const o=e?ia.createElementNS(CI,n):ia.createElement(n,r?{is:r}:void 0);return n==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:n=>ia.createTextNode(n),createComment:n=>ia.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ia.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,r,i){const o=r?r.previousSibling:e.lastChild;let s=tw.get(n);if(!s){const a=ia.createElement("template");if(a.innerHTML=i?`<svg>${n}</svg>`:n,s=a.content,i){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}tw.set(n,s)}return e.insertBefore(s.cloneNode(!0),r),[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function AI(n,e,r){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):r?n.setAttribute("class",e):n.className=e}function OI(n,e,r){const i=n.style,o=Ft(r);if(r&&!o){for(const s in r)eg(i,s,r[s]);if(e&&!Ft(e))for(const s in e)r[s]==null&&eg(i,s,"")}else{const s=i.display;o?e!==r&&(i.cssText=r):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=s)}}const nw=/\s*!important$/;function eg(n,e,r){if(ze(r))r.forEach(i=>eg(n,e,i));else if(e.startsWith("--"))n.setProperty(e,r);else{const i=DI(n,e);nw.test(r)?n.setProperty(Ko(i),r.replace(nw,""),"important"):n[i]=r}}const rw=["Webkit","Moz","ms"],tg={};function DI(n,e){const r=tg[e];if(r)return r;let i=jr(e);if(i!=="filter"&&i in n)return tg[e]=i;i=Fu(i);for(let o=0;o<rw.length;o++){const s=rw[o]+i;if(s in n)return tg[e]=s}return e}const iw="http://www.w3.org/1999/xlink";function TI(n,e,r,i,o){if(i&&e.startsWith("xlink:"))r==null?n.removeAttributeNS(iw,e.slice(6,e.length)):n.setAttributeNS(iw,e,r);else{const s=kN(e);r==null||s&&!B0(r)?n.removeAttribute(e):n.setAttribute(e,s?"":r)}}function MI(n,e,r,i,o,s,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,o,s),n[e]=r==null?"":r;return}if(e==="value"&&n.tagName!=="PROGRESS"){n._value=r;const l=r==null?"":r;n.value!==l&&(n.value=l),r==null&&n.removeAttribute(e);return}if(r===""||r==null){const l=typeof n[e];if(l==="boolean"){n[e]=B0(r);return}else if(r==null&&l==="string"){n[e]="",n.removeAttribute(e);return}else if(l==="number"){try{n[e]=0}catch(c){}n.removeAttribute(e);return}}try{n[e]=r}catch(l){}}let lf=Date.now,ow=!1;if(typeof window!="undefined"){lf()>document.createEvent("Event").timeStamp&&(lf=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);ow=!!(n&&Number(n[1])<=53)}let ng=0;const NI=Promise.resolve(),RI=()=>{ng=0},II=()=>ng||(NI.then(RI),ng=lf());function oa(n,e,r,i){n.addEventListener(e,r,i)}function PI(n,e,r,i){n.removeEventListener(e,r,i)}function LI(n,e,r,i,o=null){const s=n._vei||(n._vei={}),a=s[e];if(i&&a)a.value=i;else{const[l,c]=BI(e);if(i){const u=s[e]=FI(i,o);oa(n,l,u,c)}else a&&(PI(n,l,a,c),s[e]=void 0)}}const sw=/(?:Once|Passive|Capture)$/;function BI(n){let e;if(sw.test(n)){e={};let r;for(;r=n.match(sw);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[Ko(n.slice(2)),e]}function FI(n,e){const r=i=>{const o=i.timeStamp||lf();(ow||o>=r.attached-1)&&Sr($I(i,r.value),e,5,[i])};return r.value=n,r.attached=II(),r}function $I(n,e){if(ze(e)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},e.map(i=>o=>!o._stopped&&i(o))}else return e}const aw=/^on[a-z]/,zI=(n,e,r,i,o=!1,s,a,l,c)=>{e==="class"?AI(n,i,o):e==="style"?OI(n,r,i):Iu(e)?hp(e)||LI(n,e,r,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):UI(n,e,i,o))?MI(n,e,i,s,a,l,c):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),TI(n,e,i,o))};function UI(n,e,r,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&aw.test(e)&&je(r)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||aw.test(e)&&Ft(r)?!1:e in n}const lw=n=>{const e=n.props["onUpdate:modelValue"];return ze(e)?r=>$u(e,r):e};function HI(n){n.target.composing=!0}function cw(n){const e=n.target;e.composing&&(e.composing=!1,VI(e,"input"))}function VI(n,e){const r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),n.dispatchEvent(r)}const cne={created(n,{modifiers:{lazy:e,trim:r,number:i}},o){n._assign=lw(o);const s=i||o.props&&o.props.type==="number";oa(n,e?"change":"input",a=>{if(a.target.composing)return;let l=n.value;r?l=l.trim():s&&(l=vp(l)),n._assign(l)}),r&&oa(n,"change",()=>{n.value=n.value.trim()}),e||(oa(n,"compositionstart",HI),oa(n,"compositionend",cw),oa(n,"change",cw))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:r,trim:i,number:o}},s){if(n._assign=lw(s),n.composing||document.activeElement===n&&(r||i&&n.value.trim()===e||(o||n.type==="number")&&vp(n.value)===e))return;const a=e==null?"":e;n.value!==a&&(n.value=a)}},jI=["ctrl","shift","alt","meta"],qI={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>jI.some(r=>n[`${r}Key`]&&!e.includes(r))},une=(n,e)=>(r,...i)=>{for(let o=0;o<e.length;o++){const s=qI[e[o]];if(s&&s(r,e))return}return n(r,...i)},WI={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fne=(n,e)=>r=>{if(!("key"in r))return;const i=Ko(r.key);if(e.some(o=>o===i||WI[o]===i))return n(r)},KI=gn({patchProp:zI},xI);let uw;function GI(){return uw||(uw=KR(KI))}const dne=(...n)=>{const e=GI().createApp(...n),{mount:r}=e;return e.mount=i=>{const o=YI(i);if(!o)return;const s=e._component;!je(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function YI(n){return Ft(n)?document.querySelector(n):n}try{self["workbox:window:6.2.4"]&&_()}catch(n){}function fw(n,e){return new Promise(function(r){var i=new MessageChannel;i.port1.onmessage=function(o){r(o.data)},n.postMessage(e,[i.port2])})}function JI(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function dw(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function XI(n,e){var r;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(r=function(o,s){if(o){if(typeof o=="string")return dw(o,s);var a=Object.prototype.toString.call(o).slice(8,-1);return a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set"?Array.from(o):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?dw(o,s):void 0}}(n))||e&&n&&typeof n.length=="number"){r&&(n=r);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(r=n[Symbol.iterator]()).next.bind(r)}try{self["workbox:core:6.2.4"]&&_()}catch(n){}var rg=function(){var n=this;this.promise=new Promise(function(e,r){n.resolve=e,n.reject=r})};function ig(n,e){var r=location.href;return new URL(n,r).href===new URL(e,r).href}var Il=function(n,e){this.type=n,Object.assign(this,e)};function cf(n,e,r){return r?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}function ZI(){}var QI={type:"SKIP_WAITING"};function hw(n,e){if(!e)return n&&n.then?n.then(ZI):Promise.resolve()}var hne=function(n){var e,r;function i(l,c){var u,f;return c===void 0&&(c={}),(u=n.call(this)||this).nn={},u.tn=0,u.rn=new rg,u.en=new rg,u.on=new rg,u.un=0,u.an=new Set,u.cn=function(){var d=u.fn,h=d.installing;u.tn>0||!ig(h.scriptURL,u.sn.toString())||performance.now()>u.un+6e4?(u.vn=h,d.removeEventListener("updatefound",u.cn)):(u.hn=h,u.an.add(h),u.rn.resolve(h)),++u.tn,h.addEventListener("statechange",u.ln)},u.ln=function(d){var h=u.fn,p=d.target,g=p.state,v=p===u.vn,w={sw:p,isExternal:v,originalEvent:d};!v&&u.mn&&(w.isUpdate=!0),u.dispatchEvent(new Il(g,w)),g==="installed"?u.wn=self.setTimeout(function(){g==="installed"&&h.waiting===p&&u.dispatchEvent(new Il("waiting",w))},200):g==="activating"&&(clearTimeout(u.wn),v||u.en.resolve(p))},u.dn=function(d){var h=u.hn,p=h!==navigator.serviceWorker.controller;u.dispatchEvent(new Il("controlling",{isExternal:p,originalEvent:d,sw:h,isUpdate:u.mn})),p||u.on.resolve(h)},u.gn=(f=function(d){var h=d.data,p=d.ports,g=d.source;return cf(u.getSW(),function(){u.an.has(g)&&u.dispatchEvent(new Il("message",{data:h,originalEvent:d,ports:p,sw:g}))})},function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];try{return Promise.resolve(f.apply(this,d))}catch(p){return Promise.reject(p)}}),u.sn=l,u.nn=c,navigator.serviceWorker.addEventListener("message",u.gn),u}r=n,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o,s,a=i.prototype;return a.register=function(l){var c=(l===void 0?{}:l).immediate,u=c!==void 0&&c;try{var f=this;return function(d,h){var p=d();return p&&p.then?p.then(h):h(p)}(function(){if(!u&&document.readyState!=="complete")return hw(new Promise(function(d){return window.addEventListener("load",d)}))},function(){return f.mn=Boolean(navigator.serviceWorker.controller),f.yn=f.pn(),cf(f.bn(),function(d){f.fn=d,f.yn&&(f.hn=f.yn,f.en.resolve(f.yn),f.on.resolve(f.yn),f.yn.addEventListener("statechange",f.ln,{once:!0}));var h=f.fn.waiting;return h&&ig(h.scriptURL,f.sn.toString())&&(f.hn=h,Promise.resolve().then(function(){f.dispatchEvent(new Il("waiting",{sw:h,wasWaitingBeforeRegister:!0}))}).then(function(){})),f.hn&&(f.rn.resolve(f.hn),f.an.add(f.hn)),f.fn.addEventListener("updatefound",f.cn),navigator.serviceWorker.addEventListener("controllerchange",f.dn),f.fn})})}catch(d){return Promise.reject(d)}},a.update=function(){try{return this.fn?hw(this.fn.update()):void 0}catch(l){return Promise.reject(l)}},a.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},a.messageSW=function(l){try{return cf(this.getSW(),function(c){return fw(c,l)})}catch(c){return Promise.reject(c)}},a.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&fw(this.fn.waiting,QI)},a.pn=function(){var l=navigator.serviceWorker.controller;return l&&ig(l.scriptURL,this.sn.toString())?l:void 0},a.bn=function(){try{var l=this;return function(c,u){try{var f=c()}catch(d){return u(d)}return f&&f.then?f.then(void 0,u):f}(function(){return cf(navigator.serviceWorker.register(l.sn,l.nn),function(c){return l.un=performance.now(),c})},function(c){throw c})}catch(c){return Promise.reject(c)}},o=i,(s=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&JI(o.prototype,s),i}(function(){function n(){this.Pn=new Map}var e=n.prototype;return e.addEventListener=function(r,i){this.Sn(r).add(i)},e.removeEventListener=function(r,i){this.Sn(r).delete(i)},e.dispatchEvent=function(r){r.target=this;for(var i,o=XI(this.Sn(r.type));!(i=o()).done;)(0,i.value)(r)},e.Sn=function(r){return this.Pn.has(r)||this.Pn.set(r,new Set),this.Pn.get(r)},n}());/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const pw=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",sa=n=>pw?Symbol(n):"_vr_"+n,eP=sa("rvlm"),gw=sa("rvd"),uf=sa("r"),og=sa("rl"),sg=sa("rvl"),aa=typeof window!="undefined";function tP(n){return n.__esModule||pw&&n[Symbol.toStringTag]==="Module"}const at=Object.assign;function ag(n,e){const r={};for(const i in e){const o=e[i];r[i]=Array.isArray(o)?o.map(n):n(o)}return r}const Pl=()=>{},nP=/\/$/,rP=n=>n.replace(nP,"");function lg(n,e,r="/"){let i,o={},s="",a="";const l=e.indexOf("?"),c=e.indexOf("#",l>-1?l:0);return l>-1&&(i=e.slice(0,l),s=e.slice(l+1,c>-1?c:e.length),o=n(s)),c>-1&&(i=i||e.slice(0,c),a=e.slice(c,e.length)),i=aP(i!=null?i:e,r),{fullPath:i+(s&&"?")+s+a,path:i,query:o,hash:a}}function iP(n,e){const r=e.query?n(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function mw(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function oP(n,e,r){const i=e.matched.length-1,o=r.matched.length-1;return i>-1&&i===o&&la(e.matched[i],r.matched[o])&&vw(e.params,r.params)&&n(e.query)===n(r.query)&&e.hash===r.hash}function la(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function vw(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(!sP(n[r],e[r]))return!1;return!0}function sP(n,e){return Array.isArray(n)?yw(n,e):Array.isArray(e)?yw(e,n):n===e}function yw(n,e){return Array.isArray(e)?n.length===e.length&&n.every((r,i)=>r===e[i]):n.length===1&&n[0]===e}function aP(n,e){if(n.startsWith("/"))return n;if(!n)return e;const r=e.split("/"),i=n.split("/");let o=r.length-1,s,a;for(s=0;s<i.length;s++)if(a=i[s],!(o===1||a==="."))if(a==="..")o--;else break;return r.slice(0,o).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var Ll;(function(n){n.pop="pop",n.push="push"})(Ll||(Ll={}));var Bl;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Bl||(Bl={}));function lP(n){if(!n)if(aa){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),rP(n)}const cP=/^[^#]+#/;function uP(n,e){return n.replace(cP,"#")+e}function fP(n,e){const r=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-r.left-(e.left||0),top:i.top-r.top-(e.top||0)}}const ff=()=>({left:window.pageXOffset,top:window.pageYOffset});function dP(n){let e;if("el"in n){const r=n.el,i=typeof r=="string"&&r.startsWith("#"),o=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!o)return;e=fP(o,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function bw(n,e){return(history.state?history.state.position-e:-1)+n}const cg=new Map;function hP(n,e){cg.set(n,e)}function pP(n){const e=cg.get(n);return cg.delete(n),e}let gP=()=>location.protocol+"//"+location.host;function _w(n,e){const{pathname:r,search:i,hash:o}=e,s=n.indexOf("#");if(s>-1){let l=o.includes(n.slice(s))?n.slice(s).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),mw(c,"")}return mw(r,n)+i+o}function mP(n,e,r,i){let o=[],s=[],a=null;const l=({state:h})=>{const p=_w(n,location),g=r.value,v=e.value;let w=0;if(h){if(r.value=p,e.value=h,a&&a===g){a=null;return}w=v?h.position-v.position:0}else i(p);o.forEach(b=>{b(r.value,g,{delta:w,type:Ll.pop,direction:w?w>0?Bl.forward:Bl.back:Bl.unknown})})};function c(){a=r.value}function u(h){o.push(h);const p=()=>{const g=o.indexOf(h);g>-1&&o.splice(g,1)};return s.push(p),p}function f(){const{history:h}=window;!h.state||h.replaceState(at({},h.state,{scroll:ff()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f),{pauseListeners:c,listen:u,destroy:d}}function ww(n,e,r,i=!1,o=!1){return{back:n,current:e,forward:r,replaced:i,position:window.history.length,scroll:o?ff():null}}function vP(n){const{history:e,location:r}=window,i={value:_w(n,r)},o={value:e.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,u,f){const d=n.indexOf("#"),h=d>-1?(r.host&&document.querySelector("base")?n:n.slice(d))+c:gP()+n+c;try{e[f?"replaceState":"pushState"](u,"",h),o.value=u}catch(p){console.error(p),r[f?"replace":"assign"](h)}}function a(c,u){const f=at({},e.state,ww(o.value.back,c,o.value.forward,!0),u,{position:o.value.position});s(c,f,!0),i.value=c}function l(c,u){const f=at({},o.value,e.state,{forward:c,scroll:ff()});s(f.current,f,!0);const d=at({},ww(i.value,c,null),{position:f.position+1},u);s(c,d,!1),i.value=c}return{location:i,state:o,push:l,replace:a}}function yP(n){n=lP(n);const e=vP(n),r=mP(n,e.state,e.location,e.replace);function i(s,a=!0){a||r.pauseListeners(),history.go(s)}const o=at({location:"",base:n,go:i,createHref:uP.bind(null,n)},e,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function pne(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),yP(n)}function bP(n){return typeof n=="string"||n&&typeof n=="object"}function Ew(n){return typeof n=="string"||typeof n=="symbol"}const no={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Sw=sa("nf");var kw;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(kw||(kw={}));function ca(n,e){return at(new Error,{type:n,[Sw]:!0},e)}function is(n,e){return n instanceof Error&&Sw in n&&(e==null||!!(n.type&e))}const Cw="[^/]+?",_P={sensitive:!1,strict:!1,start:!0,end:!0},wP=/[.+*?^${}()[\]/\\]/g;function EP(n,e){const r=at({},_P,e),i=[];let o=r.start?"^":"";const s=[];for(const u of n){const f=u.length?[]:[90];r.strict&&!u.length&&(o+="/");for(let d=0;d<u.length;d++){const h=u[d];let p=40+(r.sensitive?.25:0);if(h.type===0)d||(o+="/"),o+=h.value.replace(wP,"\\$&"),p+=40;else if(h.type===1){const{value:g,repeatable:v,optional:w,regexp:b}=h;s.push({name:g,repeatable:v,optional:w});const S=b||Cw;if(S!==Cw){p+=10;try{new RegExp(`(${S})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${g}" (${S}): `+y.message)}}let E=v?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;d||(E=w&&u.length<2?`(?:/${E})`:"/"+E),w&&(E+="?"),o+=E,p+=20,w&&(p+=-8),v&&(p+=-20),S===".*"&&(p+=-50)}f.push(p)}i.push(f)}if(r.strict&&r.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}r.strict||(o+="/?"),r.end?o+="$":r.strict&&(o+="(?:/|$)");const a=new RegExp(o,r.sensitive?"":"i");function l(u){const f=u.match(a),d={};if(!f)return null;for(let h=1;h<f.length;h++){const p=f[h]||"",g=s[h-1];d[g.name]=p&&g.repeatable?p.split("/"):p}return d}function c(u){let f="",d=!1;for(const h of n){(!d||!f.endsWith("/"))&&(f+="/"),d=!1;for(const p of h)if(p.type===0)f+=p.value;else if(p.type===1){const{value:g,repeatable:v,optional:w}=p,b=g in u?u[g]:"";if(Array.isArray(b)&&!v)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const S=Array.isArray(b)?b.join("/"):b;if(!S)if(w)h.length<2&&(f.endsWith("/")?f=f.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);f+=S}}return f}return{re:a,score:i,keys:s,parse:l,stringify:c}}function SP(n,e){let r=0;for(;r<n.length&&r<e.length;){const i=e[r]-n[r];if(i)return i;r++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function kP(n,e){let r=0;const i=n.score,o=e.score;for(;r<i.length&&r<o.length;){const s=SP(i[r],o[r]);if(s)return s;r++}return o.length-i.length}const CP={type:0,value:""},xP=/[a-zA-Z0-9_]/;function AP(n){if(!n)return[[]];if(n==="/")return[[CP]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(p){throw new Error(`ERR (${r})/"${u}": ${p}`)}let r=0,i=r;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,c,u="",f="";function d(){!u||(r===0?s.push({type:0,value:u}):r===1||r===2||r===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;l<n.length;){if(c=n[l++],c==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:c==="/"?(u&&d(),a()):c===":"?(d(),r=1):h();break;case 4:h(),r=i;break;case 1:c==="("?r=2:xP.test(c)?h():(d(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:r=3:f+=c;break;case 3:d(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,f="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),a(),o}function OP(n,e,r){const i=EP(AP(n.path),r),o=at(i,{record:n,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function DP(n,e){const r=[],i=new Map;e=Aw({strict:!1,end:!0,sensitive:!1},e);function o(f){return i.get(f)}function s(f,d,h){const p=!h,g=MP(f);g.aliasOf=h&&h.record;const v=Aw(e,f),w=[g];if("alias"in f){const E=typeof f.alias=="string"?[f.alias]:f.alias;for(const y of E)w.push(at({},g,{components:h?h.record.components:g.components,path:y,aliasOf:h?h.record:g}))}let b,S;for(const E of w){const{path:y}=E;if(d&&y[0]!=="/"){const k=d.record.path,D=k[k.length-1]==="/"?"":"/";E.path=d.record.path+(y&&D+y)}if(b=OP(E,d,v),h?h.alias.push(b):(S=S||b,S!==b&&S.alias.push(b),p&&f.name&&!xw(b)&&a(f.name)),"children"in g){const k=g.children;for(let D=0;D<k.length;D++)s(k[D],b,h&&h.children[D])}h=h||b,c(b)}return S?()=>{a(S)}:Pl}function a(f){if(Ew(f)){const d=i.get(f);d&&(i.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return r}function c(f){let d=0;for(;d<r.length&&kP(f,r[d])>=0;)d++;r.splice(d,0,f),f.record.name&&!xw(f)&&i.set(f.record.name,f)}function u(f,d){let h,p={},g,v;if("name"in f&&f.name){if(h=i.get(f.name),!h)throw ca(1,{location:f});v=h.record.name,p=at(TP(d.params,h.keys.filter(S=>!S.optional).map(S=>S.name)),f.params),g=h.stringify(p)}else if("path"in f)g=f.path,h=r.find(S=>S.re.test(g)),h&&(p=h.parse(g),v=h.record.name);else{if(h=d.name?i.get(d.name):r.find(S=>S.re.test(d.path)),!h)throw ca(1,{location:f,currentLocation:d});v=h.record.name,p=at({},d.params,f.params),g=h.stringify(p)}const w=[];let b=h;for(;b;)w.unshift(b.record),b=b.parent;return{name:v,path:g,params:p,matched:w,meta:RP(w)}}return n.forEach(f=>s(f)),{addRoute:s,resolve:u,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function TP(n,e){const r={};for(const i of e)i in n&&(r[i]=n[i]);return r}function MP(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:NP(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function NP(n){const e={},r=n.props||!1;if("component"in n)e.default=r;else for(const i in n.components)e[i]=typeof r=="boolean"?r:r[i];return e}function xw(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function RP(n){return n.reduce((e,r)=>at(e,r.meta),{})}function Aw(n,e){const r={};for(const i in n)r[i]=i in e?e[i]:n[i];return r}const Ow=/#/g,IP=/&/g,PP=/\//g,LP=/=/g,BP=/\?/g,Dw=/\+/g,FP=/%5B/g,$P=/%5D/g,Tw=/%5E/g,zP=/%60/g,Mw=/%7B/g,UP=/%7C/g,Nw=/%7D/g,HP=/%20/g;function ug(n){return encodeURI(""+n).replace(UP,"|").replace(FP,"[").replace($P,"]")}function VP(n){return ug(n).replace(Mw,"{").replace(Nw,"}").replace(Tw,"^")}function fg(n){return ug(n).replace(Dw,"%2B").replace(HP,"+").replace(Ow,"%23").replace(IP,"%26").replace(zP,"`").replace(Mw,"{").replace(Nw,"}").replace(Tw,"^")}function jP(n){return fg(n).replace(LP,"%3D")}function qP(n){return ug(n).replace(Ow,"%23").replace(BP,"%3F")}function WP(n){return n==null?"":qP(n).replace(PP,"%2F")}function df(n){try{return decodeURIComponent(""+n)}catch(e){}return""+n}function KP(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace(Dw," "),a=s.indexOf("="),l=df(a<0?s:s.slice(0,a)),c=a<0?null:df(s.slice(a+1));if(l in e){let u=e[l];Array.isArray(u)||(u=e[l]=[u]),u.push(c)}else e[l]=c}return e}function Rw(n){let e="";for(let r in n){const i=n[r];if(r=jP(r),i==null){i!==void 0&&(e+=(e.length?"&":"")+r);continue}(Array.isArray(i)?i.map(s=>s&&fg(s)):[i&&fg(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function GP(n){const e={};for(const r in n){const i=n[r];i!==void 0&&(e[r]=Array.isArray(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}function Fl(){let n=[];function e(i){return n.push(i),()=>{const o=n.indexOf(i);o>-1&&n.splice(o,1)}}function r(){n=[]}return{add:e,list:()=>n,reset:r}}function ro(n,e,r,i,o){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(ca(4,{from:r,to:e})):d instanceof Error?l(d):bP(d)?l(ca(2,{from:e,to:d})):(s&&i.enterCallbacks[o]===s&&typeof d=="function"&&s.push(d),a())},u=n.call(i&&i.instances[o],e,r,c);let f=Promise.resolve(u);n.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function dg(n,e,r,i){const o=[];for(const s of n)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(YP(l)){const u=(l.__vccOpts||l)[e];u&&o.push(ro(u,r,i,s,a))}else{let c=l();o.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const f=tP(u)?u.default:u;s.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&ro(h,r,i,s,a)()}))}}return o}function YP(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Iw(n){const e=Dt(uf),r=Dt(og),i=Je(()=>e.resolve($t(n.to))),o=Je(()=>{const{matched:c}=i.value,{length:u}=c,f=c[u-1],d=r.matched;if(!f||!d.length)return-1;const h=d.findIndex(la.bind(null,f));if(h>-1)return h;const p=Pw(c[u-2]);return u>1&&Pw(f)===p&&d[d.length-1].path!==p?d.findIndex(la.bind(null,c[u-2])):h}),s=Je(()=>o.value>-1&&QP(r.params,i.value.params)),a=Je(()=>o.value>-1&&o.value===r.matched.length-1&&vw(r.params,i.value.params));function l(c={}){return ZP(c)?e[$t(n.replace)?"replace":"push"]($t(n.to)).catch(Pl):Promise.resolve()}return{route:i,href:Je(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const JP=Ne({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Iw,setup(n,{slots:e}){const r=qe(Iw(n)),{options:i}=Dt(uf),o=Je(()=>({[Lw(n.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Lw(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return n.custom?s:rt("a",{"aria-current":r.isExactActive?n.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:o.value},s)}}}),XP=JP;function ZP(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function QP(n,e){for(const r in e){const i=e[r],o=n[r];if(typeof i=="string"){if(i!==o)return!1}else if(!Array.isArray(o)||o.length!==i.length||i.some((s,a)=>s!==o[a]))return!1}return!0}function Pw(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Lw=(n,e,r)=>n!=null?n:e!=null?e:r,e2=Ne({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(n,{attrs:e,slots:r}){const i=Dt(sg),o=Je(()=>n.route||i.value),s=Dt(gw,0),a=Je(()=>o.value.matched[s]);mn(gw,s+1),mn(eP,a),mn(sg,o);const l=le();return Cn(()=>[l.value,a.value,n.name],([c,u,f],[d,h,p])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!la(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=o.value,u=a.value,f=u&&u.components[n.name],d=n.name;if(!f)return Bw(r.default,{Component:f,route:c});const h=u.props[n.name],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,v=rt(f,at({},p,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(u.instances[d]=null)},ref:l}));return Bw(r.default,{Component:v,route:c})||v}}});function Bw(n,e){if(!n)return null;const r=n(e);return r.length===1?r[0]:r}const t2=e2;function gne(n){const e=DP(n.routes,n),r=n.parseQuery||KP,i=n.stringifyQuery||Rw,o=n.history,s=Fl(),a=Fl(),l=Fl(),c=u_(no);let u=no;aa&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=ag.bind(null,Y=>""+Y),d=ag.bind(null,WP),h=ag.bind(null,df);function p(Y,oe){let re,ue;return Ew(Y)?(re=e.getRecordMatcher(Y),ue=oe):ue=Y,e.addRoute(ue,re)}function g(Y){const oe=e.getRecordMatcher(Y);oe&&e.removeRoute(oe)}function v(){return e.getRoutes().map(Y=>Y.record)}function w(Y){return!!e.getRecordMatcher(Y)}function b(Y,oe){if(oe=at({},oe||c.value),typeof Y=="string"){const Se=lg(r,Y,oe.path),O=e.resolve({path:Se.path},oe),R=o.createHref(Se.fullPath);return at(Se,O,{params:h(O.params),hash:df(Se.hash),redirectedFrom:void 0,href:R})}let re;if("path"in Y)re=at({},Y,{path:lg(r,Y.path,oe.path).path});else{const Se=at({},Y.params);for(const O in Se)Se[O]==null&&delete Se[O];re=at({},Y,{params:d(Y.params)}),oe.params=d(oe.params)}const ue=e.resolve(re,oe),fe=Y.hash||"";ue.params=f(h(ue.params));const ke=iP(i,at({},Y,{hash:VP(fe),path:ue.path})),Ce=o.createHref(ke);return at({fullPath:ke,hash:fe,query:i===Rw?GP(Y.query):Y.query||{}},ue,{redirectedFrom:void 0,href:Ce})}function S(Y){return typeof Y=="string"?lg(r,Y,c.value.path):at({},Y)}function E(Y,oe){if(u!==Y)return ca(8,{from:oe,to:Y})}function y(Y){return T(Y)}function k(Y){return y(at(S(Y),{replace:!0}))}function D(Y){const oe=Y.matched[Y.matched.length-1];if(oe&&oe.redirect){const{redirect:re}=oe;let ue=typeof re=="function"?re(Y):re;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=S(ue):{path:ue},ue.params={}),at({query:Y.query,hash:Y.hash,params:Y.params},ue)}}function T(Y,oe){const re=u=b(Y),ue=c.value,fe=Y.state,ke=Y.force,Ce=Y.replace===!0,Se=D(re);if(Se)return T(at(S(Se),{state:fe,force:ke,replace:Ce}),oe||re);const O=re;O.redirectedFrom=oe;let R;return!ke&&oP(i,ue,re)&&(R=ca(16,{to:O,from:ue}),ee(ue,ue,!0,!1)),(R?Promise.resolve(R):$(O,ue)).catch(A=>is(A)?A:W(A,O,ue)).then(A=>{if(A){if(is(A,2))return T(at(S(A.to),{state:fe,force:ke,replace:Ce}),oe||O)}else A=L(O,ue,!0,Ce,fe);return I(O,ue,A),A})}function N(Y,oe){const re=E(Y,oe);return re?Promise.reject(re):Promise.resolve()}function $(Y,oe){let re;const[ue,fe,ke]=n2(Y,oe);re=dg(ue.reverse(),"beforeRouteLeave",Y,oe);for(const Se of ue)Se.leaveGuards.forEach(O=>{re.push(ro(O,Y,oe))});const Ce=N.bind(null,Y,oe);return re.push(Ce),ua(re).then(()=>{re=[];for(const Se of s.list())re.push(ro(Se,Y,oe));return re.push(Ce),ua(re)}).then(()=>{re=dg(fe,"beforeRouteUpdate",Y,oe);for(const Se of fe)Se.updateGuards.forEach(O=>{re.push(ro(O,Y,oe))});return re.push(Ce),ua(re)}).then(()=>{re=[];for(const Se of Y.matched)if(Se.beforeEnter&&!oe.matched.includes(Se))if(Array.isArray(Se.beforeEnter))for(const O of Se.beforeEnter)re.push(ro(O,Y,oe));else re.push(ro(Se.beforeEnter,Y,oe));return re.push(Ce),ua(re)}).then(()=>(Y.matched.forEach(Se=>Se.enterCallbacks={}),re=dg(ke,"beforeRouteEnter",Y,oe),re.push(Ce),ua(re))).then(()=>{re=[];for(const Se of a.list())re.push(ro(Se,Y,oe));return re.push(Ce),ua(re)}).catch(Se=>is(Se,8)?Se:Promise.reject(Se))}function I(Y,oe,re){for(const ue of l.list())ue(Y,oe,re)}function L(Y,oe,re,ue,fe){const ke=E(Y,oe);if(ke)return ke;const Ce=oe===no,Se=aa?history.state:{};re&&(ue||Ce?o.replace(Y.fullPath,at({scroll:Ce&&Se&&Se.scroll},fe)):o.push(Y.fullPath,fe)),c.value=Y,ee(Y,oe,re,Ce),J()}let j;function K(){j=o.listen((Y,oe,re)=>{const ue=b(Y),fe=D(ue);if(fe){T(at(fe,{replace:!0}),ue).catch(Pl);return}u=ue;const ke=c.value;aa&&hP(bw(ke.fullPath,re.delta),ff()),$(ue,ke).catch(Ce=>is(Ce,4|8)?Ce:is(Ce,2)?(T(Ce.to,ue).then(Se=>{is(Se,4|16)&&!re.delta&&re.type===Ll.pop&&o.go(-1,!1)}).catch(Pl),Promise.reject()):(re.delta&&o.go(-re.delta,!1),W(Ce,ue,ke))).then(Ce=>{Ce=Ce||L(ue,ke,!1),Ce&&(re.delta?o.go(-re.delta,!1):re.type===Ll.pop&&is(Ce,4|16)&&o.go(-1,!1)),I(ue,ke,Ce)}).catch(Pl)})}let V=Fl(),G=Fl(),B;function W(Y,oe,re){J(Y);const ue=G.list();return ue.length?ue.forEach(fe=>fe(Y,oe,re)):console.error(Y),Promise.reject(Y)}function X(){return B&&c.value!==no?Promise.resolve():new Promise((Y,oe)=>{V.add([Y,oe])})}function J(Y){B||(B=!0,K(),V.list().forEach(([oe,re])=>Y?re(Y):oe()),V.reset())}function ee(Y,oe,re,ue){const{scrollBehavior:fe}=n;if(!aa||!fe)return Promise.resolve();const ke=!re&&pP(bw(Y.fullPath,0))||(ue||!re)&&history.state&&history.state.scroll||null;return Nl().then(()=>fe(Y,oe,ke)).then(Ce=>Ce&&dP(Ce)).catch(Ce=>W(Ce,Y,oe))}const de=Y=>o.go(Y);let ge;const Z=new Set;return{currentRoute:c,addRoute:p,removeRoute:g,hasRoute:w,getRoutes:v,resolve:b,options:n,push:y,replace:k,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:G.add,isReady:X,install(Y){const oe=this;Y.component("RouterLink",XP),Y.component("RouterView",t2),Y.config.globalProperties.$router=oe,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>$t(c)}),aa&&!ge&&c.value===no&&(ge=!0,y(o.location).catch(fe=>{}));const re={};for(const fe in no)re[fe]=Je(()=>c.value[fe]);Y.provide(uf,oe),Y.provide(og,qe(re)),Y.provide(sg,c);const ue=Y.unmount;Z.add(Y),Y.unmount=function(){Z.delete(Y),Z.size<1&&(u=no,j&&j(),c.value=no,ge=!1,B=!1),ue()}}}}function ua(n){return n.reduce((e,r)=>e.then(()=>r()),Promise.resolve())}function n2(n,e){const r=[],i=[],o=[],s=Math.max(e.matched.length,n.matched.length);for(let a=0;a<s;a++){const l=e.matched[a];l&&(n.matched.find(u=>la(u,l))?i.push(l):r.push(l));const c=n.matched[a];c&&(e.matched.find(u=>la(u,c))||o.push(c))}return[r,i,o]}function mne(){return Dt(uf)}function vne(){return Dt(og)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fw=function(n,e){return(Fw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(n,e)};function $w(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}Fw(n,e),n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hg=function(){return(hg=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)};function Re(n,e,r,i){return new(r||(r=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(f){s(f)}}function l(u){try{c(i.throw(u))}catch(f){s(f)}}function c(u){var f;u.done?o(u.value):(f=u.value,f instanceof r?f:new r(function(d){d(f)})).then(a,l)}c((i=i.apply(n,e||[])).next())})}function Ie(n,e){var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return function(f){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&f[0]?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[2&f[0],o.value]),f[0]){case 0:case 1:o=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,i=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!((o=o.length>0&&o[o.length-1])||f[0]!==6&&f[0]!==2)){a=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){a.label=f[1];break}if(f[0]===6&&a.label<o[1]){a.label=o[1],o=f;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(f);break}o[2]&&a.ops.pop(),a.trys.pop();continue}f=e.call(n,a)}catch(d){f=[6,d],i=0}finally{r=o=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([c,u])}}}function hf(n,e){e===void 0&&(e=!1);var r=function(){var i=new Int8Array(1);window.crypto.getRandomValues(i);var o=new Uint8Array(Math.max(16,Math.abs(i[0])));return window.crypto.getRandomValues(o),o.join("")}();return Object.defineProperty(window,r,{value:function(i){return e&&Reflect.deleteProperty(window,r),n==null?void 0:n(i)},writable:!1,configurable:!0}),r}function zw(n,e){return e===void 0&&(e={}),Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,new Promise(function(i,o){var s=hf(function(l){i(l),Reflect.deleteProperty(window,a)},!0),a=hf(function(l){o(l),Reflect.deleteProperty(window,s)},!0);window.rpc.notify(n,hg({__invokeKey:__TAURI_INVOKE_KEY__,callback:s,error:a},e))})]})})}function r2(n){return navigator.userAgent.includes("Windows")?"https://asset.localhost/"+n:"asset://"+n}Object.freeze({__proto__:null,transformCallback:hf,invoke:zw,convertFileSrc:r2});function Ue(n){return Re(this,void 0,void 0,function(){return Ie(this,function(e){return[2,zw("tauri",n)]})})}function i2(){return Re(this,void 0,void 0,function(){return Ie(this,function(n){return[2,Ue({__tauriModule:"Cli",message:{cmd:"cliMatches"}})]})})}Object.freeze({__proto__:null,getMatches:i2});function Uw(n,e,r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){switch(i.label){case 0:return[4,Ue({__tauriModule:"Event",message:{cmd:"emit",event:n,windowLabel:e,payload:r}})];case 1:return i.sent(),[2]}})})}function Hw(n){return Re(this,void 0,void 0,function(){return Ie(this,function(e){return[2,Ue({__tauriModule:"Event",message:{cmd:"unlisten",eventId:n}})]})})}function pg(n,e){return Re(this,void 0,void 0,function(){var r=this;return Ie(this,function(i){return[2,Ue({__tauriModule:"Event",message:{cmd:"listen",event:n,handler:hf(e)}}).then(function(o){return function(){return Re(r,void 0,void 0,function(){return Ie(this,function(s){return[2,Hw(o)]})})}})]})})}function Vw(n,e){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,pg(n,function(i){e(i),Hw(i.id).catch(function(){})})]})})}function o2(n,e){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Uw(n,void 0,e)]})})}Object.freeze({__proto__:null,listen:pg,once:Vw,emit:o2});var pf,jw=function(n,e){this.type="Logical",this.width=n,this.height=e},s2=function(){function n(e,r){this.type="Physical",this.width=e,this.height=r}return n.prototype.toLogical=function(e){return new jw(this.width/e,this.height/e)},n}(),qw=function(n,e){this.type="Logical",this.x=n,this.y=e},a2=function(){function n(e,r){this.type="Physical",this.x=e,this.y=r}return n.prototype.toLogical=function(e){return new qw(this.x/e,this.y/e)},n}();function l2(){return new gf(window.__TAURI__.__currentWindow.label,{skip:!0})}function Ww(){return window.__TAURI__.__windows.map(function(n){return new gf(n.label,{skip:!0})})}(function(n){n[n.Critical=1]="Critical",n[n.Informational=2]="Informational"})(pf||(pf={}));var Kw=["tauri://created","tauri://error"],Gw=function(){function n(e){this.label=e,this.listeners=Object.create(null)}return n.prototype.listen=function(e,r){return Re(this,void 0,void 0,function(){var i=this;return Ie(this,function(o){return this._handleTauriEvent(e,r)?[2,Promise.resolve(function(){var s=i.listeners[e];s.splice(s.indexOf(r),1)})]:[2,pg(e,r)]})})},n.prototype.once=function(e,r){return Re(this,void 0,void 0,function(){var i=this;return Ie(this,function(o){return this._handleTauriEvent(e,r)?[2,Promise.resolve(function(){var s=i.listeners[e];s.splice(s.indexOf(r),1)})]:[2,Vw(e,r)]})})},n.prototype.emit=function(e,r){return Re(this,void 0,void 0,function(){var i,o;return Ie(this,function(s){if(Kw.includes(e)){for(i=0,o=this.listeners[e]||[];i<o.length;i++)(0,o[i])({event:e,id:-1,payload:r});return[2,Promise.resolve()]}return[2,Uw(e,this.label,r)]})})},n.prototype._handleTauriEvent=function(e,r){return!!Kw.includes(e)&&(e in this.listeners?this.listeners[e].push(r):this.listeners[e]=[r],!0)},n}(),Yw=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return $w(e,n),e.prototype.scaleFactor=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})]})})},e.prototype.innerPosition=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}})]})})},e.prototype.outerPosition=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}})]})})},e.prototype.innerSize=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}})]})})},e.prototype.outerSize=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}})]})})},e.prototype.isFullscreen=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})]})})},e.prototype.isMaximized=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})]})})},e.prototype.isDecorated=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})]})})},e.prototype.isResizable=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})]})})},e.prototype.isVisible=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})]})})},e.prototype.center=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})]})})},e.prototype.requestUserAttention=function(r){return Re(this,void 0,void 0,function(){var i;return Ie(this,function(o){return i=null,r&&(i=r===pf.Critical?{type:"Critical"}:{type:"Informational"}),[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:i}}}})]})})},e.prototype.setResizable=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:r}}}})]})})},e.prototype.setTitle=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:r}}}})]})})},e.prototype.maximize=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})]})})},e.prototype.unmaximize=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})]})})},e.prototype.toggleMaximize=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})]})})},e.prototype.minimize=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})]})})},e.prototype.unminimize=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})]})})},e.prototype.show=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})]})})},e.prototype.hide=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})]})})},e.prototype.close=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})]})})},e.prototype.setDecorations=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:r}}}})]})})},e.prototype.setAlwaysOnTop=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:r}}}})]})})},e.prototype.setSize=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){if(!r||r.type!=="Logical"&&r.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:r.type,data:{width:r.width,height:r.height}}}}}})]})})},e.prototype.setMinSize=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){if(r&&r.type!=="Logical"&&r.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:r?{type:r.type,data:{width:r.width,height:r.height}}:null}}}})]})})},e.prototype.setMaxSize=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){if(r&&r.type!=="Logical"&&r.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:r?{type:r.type,data:{width:r.width,height:r.height}}:null}}}})]})})},e.prototype.setPosition=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){if(!r||r.type!=="Logical"&&r.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:r.type,data:{x:r.x,y:r.y}}}}}})]})})},e.prototype.setFullscreen=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:r}}}})]})})},e.prototype.setFocus=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})]})})},e.prototype.setIcon=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:r}}}}})]})})},e.prototype.setSkipTaskbar=function(r){return Re(this,void 0,void 0,function(){return Ie(this,function(i){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:r}}}})]})})},e.prototype.startDragging=function(){return Re(this,void 0,void 0,function(){return Ie(this,function(r){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})]})})},e}(Gw),gf=function(n){function e(r,i){i===void 0&&(i={});var o=n.call(this,r)||this;return(i==null?void 0:i.skip)||Ue({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:hg({label:r},i)}}}).then(function(){return Re(o,void 0,void 0,function(){return Ie(this,function(s){return[2,this.emit("tauri://created")]})})}).catch(function(s){return Re(o,void 0,void 0,function(){return Ie(this,function(a){return[2,this.emit("tauri://error",s)]})})}),o}return $w(e,n),e.getByLabel=function(r){return Ww().some(function(i){return i.label===r})?new e(r,{skip:!0}):null},e}(Yw),c2=new gf(null,{skip:!0});function u2(){return Re(this,void 0,void 0,function(){return Ie(this,function(n){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}})]})})}function f2(){return Re(this,void 0,void 0,function(){return Ie(this,function(n){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}})]})})}function d2(){return Re(this,void 0,void 0,function(){return Ie(this,function(n){return[2,Ue({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}})]})})}Object.freeze({__proto__:null,WebviewWindow:gf,WebviewWindowHandle:Gw,WindowManager:Yw,getCurrent:l2,getAll:Ww,appWindow:c2,LogicalSize:jw,PhysicalSize:s2,LogicalPosition:qw,PhysicalPosition:a2,get UserAttentionType(){return pf},currentMonitor:u2,primaryMonitor:f2,availableMonitors:d2});function fa(n){return BN()?(FN(n),!0):!1}const ss=typeof window!="undefined",h2=n=>typeof n=="string",mf=()=>+Date.now(),gg=()=>{};function mg(n,e){function r(...i){n(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})}return r}const Jw=n=>n();function p2(n,e=!0,r=!0){let i=0,o,s=!r;const a=()=>{o&&(clearTimeout(o),o=void 0)};return c=>{const u=$t(n),f=Date.now()-i;if(a(),u<=0)return i=Date.now(),c();f>u?(i=Date.now(),s?s=!1:c()):e&&(o=setTimeout(()=>{i=Date.now(),r||(s=!0),a(),c()},u)),!r&&!o&&(o=setTimeout(()=>s=!0,u))}}function g2(n){let e;function r(){return e||(e=n()),e}return r.reset=async()=>{const i=e;e=void 0,i&&await i},r}function m2(n,e,r=!1){return e.reduce((i,o)=>(o in n&&(!r||!n[o]===void 0)&&(i[o]=n[o]),i),{})}var Xw=Object.getOwnPropertySymbols,v2=Object.prototype.hasOwnProperty,y2=Object.prototype.propertyIsEnumerable,b2=(n,e)=>{var r={};for(var i in n)v2.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Xw)for(var i of Xw(n))e.indexOf(i)<0&&y2.call(n,i)&&(r[i]=n[i]);return r};function _2(n,e,r={}){const i=r,{eventFilter:o=Jw}=i,s=b2(i,["eventFilter"]);return Cn(n,mg(o,e),s)}var w2=Object.defineProperty,E2=Object.defineProperties,S2=Object.getOwnPropertyDescriptors,Zw=Object.getOwnPropertySymbols,k2=Object.prototype.hasOwnProperty,C2=Object.prototype.propertyIsEnumerable,Qw=(n,e,r)=>e in n?w2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,x2=(n,e)=>{for(var r in e||(e={}))k2.call(e,r)&&Qw(n,r,e[r]);if(Zw)for(var r of Zw(e))C2.call(e,r)&&Qw(n,r,e[r]);return n},A2=(n,e)=>E2(n,S2(e));function eE(n){if(!Wt(n))return p_(n);const e=Array.isArray(n.value)?new Array(n.value.length):{};for(const r in n.value)e[r]=h_(()=>({get(){return n.value[r]},set(i){if(Array.isArray(n.value)){const o=[...n.value];o[r]=i,n.value=o}else n.value=A2(x2({},n.value),{[r]:i})}}));return e}function vg(n,e=!0){H_()?Er(n):e?n():Nl(n)}function tE(n,e=1e3,r={}){const{immediate:i=!0,immediateCallback:o=!1}=r;let s=null;const a=le(!1);function l(){s&&(clearInterval(s),s=null)}function c(){a.value=!1,l()}function u(){e<=0||(a.value=!0,o&&n(),l(),s=setInterval(n,e))}return i&&ss&&u(),fa(c),{isActive:a,pause:c,resume:u}}function O2(n=!1){if(Wt(n))return e=>{n.value=typeof e=="boolean"?e:!n.value};{const e=le(n);return[e,i=>{e.value=typeof i=="boolean"?i:!e.value}]}}function $l(n){var e;const r=$t(n);return(e=r==null?void 0:r.$el)!=null?e:r}const ft=ss?window:void 0,nE=ss?window.document:void 0,vf=ss?window.navigator:void 0;function Le(...n){let e,r,i,o;if(h2(n[0])?([r,i,o]=n,e=ft):[e,r,i,o]=n,!e)return gg;let s=gg;const a=Cn(()=>$t(e),c=>{s(),!!c&&(c.addEventListener(r,i,o),s=()=>{c.removeEventListener(r,i,o),s=gg})},{immediate:!0,flush:"post"}),l=()=>{a(),s()};return fa(l),l}function D2(n,e,r={}){const{window:i=ft,event:o="pointerdown"}=r;return i?Le(i,o,a=>{const l=$l(n);!l||l===a.target||a.composedPath().includes(l)||e(a)},{passive:!0}):void 0}function T2(n={}){const{window:e=ft}=n,r=le(0);return e&&(Le(e,"blur",()=>r.value+=1,!0),Le(e,"focus",()=>r.value+=1,!0)),Je(()=>(r.value,e==null?void 0:e.document.activeElement))}function M2({navigator:n=vf}={}){const e=["chargingchange","chargingtimechange","dischargingtimechange","levelchange"],r=n&&"getBattery"in n,i=le(!1),o=le(0),s=le(0),a=le(1);let l;function c(){i.value=this.charging,o.value=this.chargingTime||0,s.value=this.dischargingTime||0,a.value=this.level}return r&&n.getBattery().then(u=>{l=u,c.call(l);for(const f of e)Le(l,f,c,{passive:!0})}),{isSupported:r,charging:i,chargingTime:o,dischargingTime:s,level:a}}function zl(n,e={}){const{window:r=ft}=e;if(!r)return le(!1);const i=r.matchMedia(n),o=le(i.matches),s=a=>{o.value=a.matches};return"addEventListener"in i?i.addEventListener("change",s):i.addListener(s),fa(()=>{"removeEventListener"in i?i.removeEventListener("change",s):i.removeListener(s)}),o}function N2({window:n=ft}={}){const e=i=>{const{state:o,length:s}=(n==null?void 0:n.history)||{},{hash:a,host:l,hostname:c,href:u,origin:f,pathname:d,port:h,protocol:p,search:g}=(n==null?void 0:n.location)||{};return{trigger:i,state:o,length:s,hash:a,host:l,hostname:c,href:u,origin:f,pathname:d,port:h,protocol:p,search:g}},r=le(e("load"));return n&&(Le(n,"popstate",()=>r.value=e("popstate"),{passive:!0}),Le(n,"hashchange",()=>r.value=e("hashchange"),{passive:!0})),r}const R2={boolean:{read:n=>n==="true",write:n=>String(n)},object:{read:n=>JSON.parse(n),write:n=>JSON.stringify(n)},number:{read:n=>Number.parseFloat(n),write:n=>String(n)},any:{read:n=>n,write:n=>String(n)},string:{read:n=>n,write:n=>String(n)},map:{read:n=>new Map(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n.entries()))},set:{read:n=>new Set(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n.entries()))}};function rE(n,e,r=(o=>(o=ft)==null?void 0:o.localStorage)(),i={}){var o;const{flush:s="pre",deep:a=!0,listenToStorageChanges:l=!0,writeDefaults:c=!0,shallow:u,window:f=ft,eventFilter:d,onError:h=S=>{console.error(S)}}=i,p=$t(e),g=p==null?"any":p instanceof Set?"set":p instanceof Map?"map":typeof p=="boolean"?"boolean":typeof p=="string"?"string":typeof p=="object"||Array.isArray(p)?"object":Number.isNaN(p)?"any":"number",v=(u?u_:le)(e),w=(o=i.serializer)!=null?o:R2[g];function b(S){if(!(!r||S&&S.key!==n))try{const E=S?S.newValue:r.getItem(n);E==null?(v.value=p,c&&p!==null&&r.setItem(n,w.write(p))):v.value=w.read(E)}catch(E){h(E)}}return b(),f&&l&&Le(f,"storage",S=>setTimeout(()=>b(S),0)),r&&_2(v,()=>{try{v.value==null?r.removeItem(n):r.setItem(n,w.write(v.value))}catch(S){h(S)}},{flush:s,deep:a,eventFilter:d}),v}function iE(n){return zl("(prefers-color-scheme: dark)",n)}function I2(n={}){var e;const{selector:r="html",attribute:i="class",valueDark:o="dark",valueLight:s="",window:a=ft,storage:l=(e=ft)==null?void 0:e.localStorage,storageKey:c="vueuse-color-scheme",listenToStorageChanges:u=!0}=n,f=iE({window:a}),d=c==null?le("auto"):rE(c,"auto",l,{window:a,listenToStorageChanges:u}),h=Je({get(){return d.value==="auto"?f.value:d.value==="dark"},set(g){g===f.value?d.value="auto":d.value=g?"dark":"light"}}),p=n.onChanged||(g=>{const v=a==null?void 0:a.document.querySelector(r);i==="class"?(v==null||v.classList.toggle(o,g),s&&(v==null||v.classList.toggle(s,!g))):v==null||v.setAttribute(i,g?o:s)});return Cn(h,p,{flush:"post"}),vg(()=>p(h.value)),h}function P2(n={}){const{window:e=ft,eventFilter:r=Jw}=n,i=le({x:null,y:null,z:null}),o=le({alpha:null,beta:null,gamma:null}),s=le(0),a=le({x:null,y:null,z:null});if(e){const l=mg(r,c=>{i.value=c.acceleration,a.value=c.accelerationIncludingGravity,o.value=c.rotationRate,s.value=c.interval});Le(e,"devicemotion",l)}return{acceleration:i,accelerationIncludingGravity:a,rotationRate:o,interval:s}}function L2(n={}){const{window:e=ft}=n,r=Boolean(e&&"DeviceOrientationEvent"in e),i=le(!1),o=le(null),s=le(null),a=le(null);return e&&r&&Le(e,"deviceorientation",l=>{i.value=l.absolute,o.value=l.alpha,s.value=l.beta,a.value=l.gamma}),{isSupported:r,isAbsolute:i,alpha:o,beta:s,gamma:a}}const B2=[1,1.325,1.4,1.5,1.8,2,2.4,2.5,2.75,3,3.5,4];function F2({window:n=ft}={}){if(!n)return{pixelRatio:le(1)};const e=le(n.devicePixelRatio),r=()=>{e.value=n.devicePixelRatio};return Le(n,"resize",r,{passive:!0}),B2.forEach(i=>{const o=zl(`screen and (min-resolution: ${i}dppx)`),s=zl(`screen and (max-resolution: ${i}dppx)`);Cn([o,s],r)}),{pixelRatio:e}}function $2(n,e={}){const{controls:r=!1,navigator:i=vf}=e,o=Boolean(i&&"permissions"in i);let s;const a=typeof n=="string"?{name:n}:n,l=le(),c=()=>{s&&(l.value=s.state)},u=g2(async()=>{if(!!o){if(!s)try{s=await i.permissions.query(a),Le(s,"change",c),c()}catch(f){l.value="prompt"}return s}});return u(),r?{state:l,isSupported:o,query:u}:l}function z2(n={}){const{navigator:e=vf,requestPermissions:r=!1,onUpdated:i}=n,o=le([]),s=Je(()=>o.value.filter(h=>h.kind==="videoinput")),a=Je(()=>o.value.filter(h=>h.kind==="audioinput")),l=Je(()=>o.value.filter(h=>h.kind==="audiooutput"));let c=!1;const u=le(!1);async function f(){!c||(o.value=await e.mediaDevices.enumerateDevices(),i==null||i(o.value))}async function d(){if(!c)return!1;if(u.value)return!0;const{state:h,query:p}=$2("camera",{controls:!0});return await p(),h.value!=="granted"&&((await e.mediaDevices.getUserMedia({audio:!0,video:!0})).getTracks().forEach(v=>v.stop()),f()),u.value=!0,u.value}return e&&(c=Boolean(e.mediaDevices&&e.mediaDevices.enumerateDevices),c&&(r&&d(),Le(e.mediaDevices,"devicechange",f),f())),{devices:o,ensurePermissions:d,permissionGranted:u,videoInputs:s,audioInputs:a,audioOutputs:l,isSupported:c}}function U2({document:n=nE}={}){if(!n)return le("visible");const e=le(n.visibilityState);return Le(n,"visibilitychange",()=>{e.value=n.visibilityState}),e}var H2=Object.defineProperty,V2=Object.defineProperties,j2=Object.getOwnPropertyDescriptors,oE=Object.getOwnPropertySymbols,q2=Object.prototype.hasOwnProperty,W2=Object.prototype.propertyIsEnumerable,sE=(n,e,r)=>e in n?H2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,K2=(n,e)=>{for(var r in e||(e={}))q2.call(e,r)&&sE(n,r,e[r]);if(oE)for(var r of oE(e))W2.call(e,r)&&sE(n,r,e[r]);return n},G2=(n,e)=>V2(n,j2(e));function Y2(n,e={}){var r,i;const o=(r=e.draggingElement)!=null?r:ft,s=le((i=e.initialValue)!=null?i:{x:0,y:0}),a=le(),l=h=>e.pointerTypes?e.pointerTypes.includes(h.pointerType):!0,c=h=>{$t(e.preventDefault)&&h.preventDefault()},u=h=>{var p;if(!l(h)||$t(e.exact)&&h.target!==$t(n))return;const g=$t(n).getBoundingClientRect(),v={x:h.pageX-g.left,y:h.pageY-g.top};((p=e.onStart)==null?void 0:p.call(e,v,h))!==!1&&(a.value=v,c(h))},f=h=>{var p;!l(h)||!a.value||(s.value={x:h.pageX-a.value.x,y:h.pageY-a.value.y},(p=e.onMove)==null||p.call(e,s.value,h),c(h))},d=h=>{!l(h)||(a.value=void 0,c(h))};return ss&&(Le(n,"pointerdown",u,!0),Le(o,"pointermove",f,!0),Le(o,"pointerup",d,!0)),G2(K2({},eE(s)),{position:s,isDragging:Je(()=>!!a.value),style:Je(()=>`left:${s.value.x}px;top:${s.value.y}px;`)})}var aE=Object.getOwnPropertySymbols,J2=Object.prototype.hasOwnProperty,X2=Object.prototype.propertyIsEnumerable,Z2=(n,e)=>{var r={};for(var i in n)J2.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&aE)for(var i of aE(n))e.indexOf(i)<0&&X2.call(n,i)&&(r[i]=n[i]);return r};function lE(n,e,r={}){const i=r,{window:o=ft}=i,s=Z2(i,["window"]);let a;const l=o&&"ResizeObserver"in o,c=()=>{a&&(a.disconnect(),a=void 0)},u=Cn(()=>$l(n),d=>{c(),l&&o&&d&&(a=new o.ResizeObserver(e),a.observe(d,s))},{immediate:!0,flush:"post"}),f=()=>{c(),u()};return fa(f),{isSupported:l,stop:f}}function Q2(n,e={}){const r=le(0),i=le(0),o=le(0),s=le(0),a=le(0),l=le(0),c=le(0),u=le(0);return lE(n,([f])=>{r.value=f.contentRect.height,i.value=f.contentRect.bottom,o.value=f.contentRect.left,s.value=f.contentRect.right,a.value=f.contentRect.top,l.value=f.contentRect.width,c.value=f.contentRect.x,u.value=f.contentRect.y},e),{x:c,y:u,top:a,right:s,bottom:i,left:o,width:l,height:r}}function cE(n,e={width:0,height:0},r={}){const i=le(e.width),o=le(e.height);return lE(n,([s])=>{i.value=s.contentRect.width,o.value=s.contentRect.height},r),{width:i,height:o}}function eL(n,{window:e=ft,scrollTarget:r}={}){const i=le(!1),o=()=>{if(!e)return;const s=e.document;if(!n.value)i.value=!1;else{const a=n.value.getBoundingClientRect();i.value=a.top<=(e.innerHeight||s.documentElement.clientHeight)&&a.left<=(e.innerWidth||s.documentElement.clientWidth)&&a.bottom>=0&&a.right>=0}};return vg(o),e&&vg(()=>Le((r==null?void 0:r.value)||e,"scroll",o,{capture:!1,passive:!0})),i}function uE(n,e={}){const{immediate:r=!0,window:i=ft}=e,o=le(!1);function s(){!o.value||(n(),i&&i.requestAnimationFrame(s))}function a(){o.value||(o.value=!0,s())}function l(){o.value=!1}return r&&a(),fa(l),{isActive:o,pause:l,resume:a}}const fE=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function tL(n,e={}){const{document:r=nE}=e,i=n||(r==null?void 0:r.querySelector("html")),o=le(!1);let s=!1,a=fE[0];if(!r)s=!1;else for(const g of fE)if(g[1]in r){a=g,s=!0;break}const[l,c,u,,f]=a;async function d(){!s||((r==null?void 0:r[u])&&await r[c](),o.value=!1)}async function h(){if(!s)return;await d();const g=$l(i);g&&(await g[l](),o.value=!0)}async function p(){o.value?await d():await h()}return r&&Le(r,f,()=>{o.value=!!(r==null?void 0:r[u])},!1),{isSupported:s,isFullscreen:o,enter:h,exit:d,toggle:p}}function nL(n={}){const{enableHighAccuracy:e=!0,maximumAge:r=3e4,timeout:i=27e3,navigator:o=vf}=n,s=o&&"geolocation"in o,a=le(null),l=le(null),c=le({accuracy:0,latitude:0,longitude:0,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function u(d){a.value=d.timestamp,c.value=d.coords,l.value=null}let f;return s&&(f=o.geolocation.watchPosition(u,d=>l.value=d,{enableHighAccuracy:e,maximumAge:r,timeout:i})),fa(()=>{f&&o&&o.geolocation.clearWatch(f)}),{isSupported:s,coords:c,locatedAt:a,error:l}}const rL=["mousemove","mousedown","resize","keydown","touchstart","wheel"],iL=6e4;function oL(n=iL,e={}){const{initialState:r=!1,listenForVisibilityChange:i=!0,events:o=rL,window:s=ft,eventFilter:a=p2(50)}=e,l=le(r),c=le(mf());let u;const f=mg(a,()=>{l.value=!1,c.value=mf(),clearTimeout(u),u=setTimeout(()=>l.value=!0,n)});if(s){const d=s.document;for(const h of o)Le(s,h,f,{passive:!0});i&&Le(d,"visibilitychange",()=>{d.hidden||f()})}return u=setTimeout(()=>l.value=!0,n),{idle:l,lastActive:c}}function dE(n={}){const{touch:e=!0,resetOnTouchEnds:r=!1,initialValue:i={x:0,y:0},window:o=ft}=n,s=le(i.x),a=le(i.y),l=le(null),c=d=>{s.value=d.pageX,a.value=d.pageY,l.value="mouse"},u=()=>{s.value=i.x,a.value=i.y},f=d=>{d.touches.length>0&&(s.value=d.touches[0].clientX,a.value=d.touches[0].clientY,l.value="touch")};return o&&(Le(o,"mousemove",c,{passive:!0}),Le(o,"dragover",c,{passive:!0}),e&&(Le(o,"touchstart",f,{passive:!0}),Le(o,"touchmove",f,{passive:!0}),r&&Le(o,"touchend",u,{passive:!0}))),{x:s,y:a,sourceType:l}}function sL(n,e={}){const{handleOutside:r=!0,window:i=ft}=e,{x:o,y:s,sourceType:a}=dE(e),l=le(n!=null?n:i==null?void 0:i.document.body),c=le(0),u=le(0),f=le(0),d=le(0),h=le(0),p=le(0),g=le(!1);let v=()=>{};return i&&(v=Cn([l,o,s],()=>{const w=$l(l);if(!w)return;const{left:b,top:S,width:E,height:y}=w.getBoundingClientRect();f.value=b+i.pageXOffset,d.value=S+i.pageYOffset,h.value=y,p.value=E;const k=o.value-f.value,D=s.value-d.value;g.value=k<0||D<0||k>p.value||D>h.value,(r||!g.value)&&(c.value=k,u.value=D)},{immediate:!0})),{x:o,y:s,sourceType:a,elementX:c,elementY:u,elementPositionX:f,elementPositionY:d,elementHeight:h,elementWidth:p,isOutside:g,stop:v}}function aL(n={}){const{touch:e=!0,drag:r=!0,initialValue:i=!1,window:o=ft}=n,s=le(i),a=le(null);if(!o)return{pressed:s,sourceType:a};const l=f=>()=>{s.value=!0,a.value=f},c=()=>{s.value=!1,a.value=null},u=Je(()=>$l(n.target)||o);return Le(u,"mousedown",l("mouse"),{passive:!0}),Le(o,"mouseleave",c,{passive:!0}),Le(o,"mouseup",c,{passive:!0}),r&&(Le(u,"dragstart",l("mouse"),{passive:!0}),Le(o,"drop",c,{passive:!0}),Le(o,"dragend",c,{passive:!0})),e&&(Le(u,"touchstart",l("touch"),{passive:!0}),Le(o,"touchend",c,{passive:!0}),Le(o,"touchcancel",c,{passive:!0})),{pressed:s,sourceType:a}}function hE(n={}){const{window:e=ft}=n,r=e==null?void 0:e.navigator,i=Boolean(r&&"connection"in r),o=le(!0),s=le(!1),a=le(void 0),l=le(void 0),c=le(void 0),u=le(void 0),f=le(void 0),d=le("unknown"),h=i&&r.connection;function p(){!r||(o.value=r.onLine,a.value=o.value?void 0:Date.now(),h&&(l.value=h.downlink,c.value=h.downlinkMax,f.value=h.effectiveType,u.value=h.rtt,s.value=h.saveData,d.value=h.type))}return e&&(Le(e,"offline",()=>{o.value=!1,a.value=Date.now()}),Le(e,"online",()=>{o.value=!0})),h&&Le(h,"change",p,!1),p(),{isSupported:i,isOnline:o,saveData:s,offlineAt:a,downlink:l,downlinkMax:c,effectiveType:f,rtt:u,type:d}}var lL=Object.defineProperty,pE=Object.getOwnPropertySymbols,cL=Object.prototype.hasOwnProperty,uL=Object.prototype.propertyIsEnumerable,gE=(n,e,r)=>e in n?lL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,fL=(n,e)=>{for(var r in e||(e={}))cL.call(e,r)&&gE(n,r,e[r]);if(pE)for(var r of pE(e))uL.call(e,r)&&gE(n,r,e[r]);return n};function mE(n={}){const{controls:e=!1,interval:r="requestAnimationFrame"}=n,i=le(new Date),o=()=>i.value=new Date,s=r==="requestAnimationFrame"?uE(o,{immediate:!0}):tE(o,r,{immediate:!0});return e?fL({now:i},s):i}function dL(n={}){const{isOnline:e}=hE(n);return e}function hL(n={}){const{window:e=ft}=n,r=le(!1),i=o=>{if(!e)return;o=o||e.event;const s=o.relatedTarget||o.toElement;r.value=!s};return e&&(Le(e,"mouseout",i,{passive:!0}),Le(e.document,"mouseleave",i,{passive:!0}),Le(e.document,"mouseenter",i,{passive:!0})),r}var pL=Object.defineProperty,gL=Object.defineProperties,mL=Object.getOwnPropertyDescriptors,vE=Object.getOwnPropertySymbols,vL=Object.prototype.hasOwnProperty,yL=Object.prototype.propertyIsEnumerable,yE=(n,e,r)=>e in n?pL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,bL=(n,e)=>{for(var r in e||(e={}))vL.call(e,r)&&yE(n,r,e[r]);if(vE)for(var r of vE(e))yL.call(e,r)&&yE(n,r,e[r]);return n},_L=(n,e)=>gL(n,mL(e));const bE={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},wL=Object.keys(bE);function EL(n={}){const{target:e=ft}=n,r=le(!1),i=le(n.initialValue||{});Object.assign(i.value,bE,i.value);const o=s=>{r.value=!0,!(n.pointerTypes&&!n.pointerTypes.includes(s.pointerType))&&(i.value=m2(s,wL,!1))};return e&&(Le(e,"pointerdown",o,{passive:!0}),Le(e,"pointermove",o,{passive:!0}),Le(e,"pointerleave",()=>r.value=!1,{passive:!0})),_L(bL({},eE(i)),{isInside:r})}var _E;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(_E||(_E={}));function SL(n){const e=zl("(prefers-color-scheme: light)",n),r=zl("(prefers-color-scheme: dark)",n);return Je(()=>r.value?"dark":e.value?"light":"no-preference")}function kL(n={}){const{window:e=ft}=n;if(!e)return le(["en"]);const r=e.navigator,i=le(r.languages);return Le(e,"languagechange",()=>{i.value=r.languages}),i}var CL=Object.defineProperty,yf=Object.getOwnPropertySymbols,wE=Object.prototype.hasOwnProperty,EE=Object.prototype.propertyIsEnumerable,SE=(n,e,r)=>e in n?CL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,xL=(n,e)=>{for(var r in e||(e={}))wE.call(e,r)&&SE(n,r,e[r]);if(yf)for(var r of yf(e))EE.call(e,r)&&SE(n,r,e[r]);return n},AL=(n,e)=>{var r={};for(var i in n)wE.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&yf)for(var i of yf(n))e.indexOf(i)<0&&EE.call(n,i)&&(r[i]=n[i]);return r};const kE=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],OL={justNow:"just now",past:n=>n.match(/\d/)?`${n} ago`:n,future:n=>n.match(/\d/)?`in ${n}`:n,month:(n,e)=>n===1?e?"last month":"next month":`${n} month${n>1?"s":""}`,year:(n,e)=>n===1?e?"last year":"next year":`${n} year${n>1?"s":""}`,day:(n,e)=>n===1?e?"yesterday":"tomorrow":`${n} day${n>1?"s":""}`,week:(n,e)=>n===1?e?"last week":"next week":`${n} week${n>1?"s":""}`,hour:n=>`${n} hour${n>1?"s":""}`,minute:n=>`${n} minute${n>1?"s":""}`,second:n=>`${n} second${n>1?"s":""}`},DL=n=>n.toISOString().slice(0,10);function TL(n,e={}){const{controls:r=!1,max:i,updateInterval:o=3e4,messages:s=OL,fullDateFormatter:a=DL}=e,{abs:l,round:c}=Math,u=mE({interval:o,controls:!0}),{now:f}=u,d=AL(u,["now"]);function h(w,b){var S;const E=+b-+w,y=l(E);if(y<6e4)return s.justNow;if(typeof i=="number"&&y>i)return a(new Date(w));if(typeof i=="string"){const k=(S=kE.find(D=>D.name===i))==null?void 0:S.max;if(k&&y>k)return a(new Date(w))}for(const k of kE)if(y<k.max)return g(E,k)}function p(w,b,S){const E=s[w];return typeof E=="function"?E(b,S):E.replace("{0}",b.toString())}function g(w,b){const S=c(l(w)/b.value),E=w>0,y=p(b.name,S,E);return p(E?"past":"future",y,E)}const v=Je(()=>h(new Date($t(n)),$t(f.value)));return r?xL({timeAgo:v},d):v}var ML=Object.defineProperty,CE=Object.getOwnPropertySymbols,NL=Object.prototype.hasOwnProperty,RL=Object.prototype.propertyIsEnumerable,xE=(n,e,r)=>e in n?ML(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,IL=(n,e)=>{for(var r in e||(e={}))NL.call(e,r)&&xE(n,r,e[r]);if(CE)for(var r of CE(e))RL.call(e,r)&&xE(n,r,e[r]);return n};function PL(n={}){const{controls:e=!1,offset:r=0,immediate:i=!0,interval:o="requestAnimationFrame"}=n,s=le(mf()+r),a=()=>s.value=mf()+r,l=o==="requestAnimationFrame"?uE(a,{immediate:i}):tE(a,o,{immediate:i});return e?IL({timestamp:s},l):s}function LL(n,e){const r=le(),i=cE(r),o=le([]),s=le({start:0,end:10}),{itemHeight:a,overscan:l=5}=e;a||console.warn("please enter a valid itemHeight");const c=b=>{if(typeof a=="number")return Math.ceil(b/a);const{start:S=0}=s.value;let E=0,y=0;for(let k=S;k<n.length;k++)if(E+=a(k),E>=b){y=k;break}return y-S},u=b=>{if(typeof a=="number")return Math.floor(b/a)+1;let S=0,E=0;for(let y=0;y<n.length;y++)if(S+=a(y),S>=b){E=y;break}return E+1},f=()=>{const b=r.value;if(b){const S=u(b.scrollTop),E=c(b.clientHeight),y=S-l,k=S+E+l;s.value={start:y<0?0:y,end:k>n.length?n.length:k},o.value=n.slice(s.value.start,s.value.end).map((D,T)=>({data:D,index:T+s.value.start}))}};Cn([i.width,i.height],()=>{f()});const d=Je(()=>typeof a=="number"?n.length*a:n.reduce((b,S,E)=>b+a(E),0)),h=b=>typeof a=="number"?b*a:n.slice(0,b).reduce((E,y,k)=>E+a(k),0),p=b=>{r.value&&(r.value.scrollTop=h(b),f())},g=Je(()=>h(s.value.start)),v=Je(()=>({style:{width:"100%",height:`${d.value-g.value}px`,marginTop:`${g.value}px`}}));return{list:o,scrollTo:p,containerProps:{ref:r,onScroll:()=>{f()},style:{overflowY:"auto"}},wrapperProps:v}}function BL({window:n=ft}={}){if(!n)return le(!1);const e=le(n.document.hasFocus());return Le(n,"blur",()=>{e.value=!1}),Le(n,"focus",()=>{e.value=!0}),e}function FL({window:n=ft,initialWidth:e=1/0,initialHeight:r=1/0}={}){if(!n)return{width:le(e),height:le(r)};const i=le(n.innerWidth),o=le(n.innerHeight);return Le("resize",()=>{i.value=n.innerWidth,o.value=n.innerHeight},{passive:!0}),{width:i,height:o}}const kr=()=>new Map,bf=n=>{const e=kr();return n.forEach((r,i)=>{e.set(i,r)}),e},zn=(n,e,r)=>{let i=n.get(e);return i===void 0&&n.set(e,i=r()),i},$L=(n,e)=>{const r=[];for(const[i,o]of n)r.push(e(o,i));return r},zL=(n,e)=>{for(const[r,i]of n)if(e(i,r))return!0;return!1},da=()=>new Set,yg=n=>n[n.length-1],UL=(n,e)=>{for(let r=0;r<e.length;r++)n.push(e[r])},AE=Array.from;class ha{constructor(){this._observers=kr()}on(e,r){zn(this._observers,e,da).add(r)}once(e,r){const i=(...o)=>{this.off(e,i),r(...o)};this.on(e,i)}off(e,r){const i=this._observers.get(e);i!==void 0&&(i.delete(r),i.size===0&&this._observers.delete(e))}emit(e,r){return AE((this._observers.get(e)||kr()).values()).forEach(i=>i(...r))}destroy(){this._observers=kr()}}const as=Math.floor,bg=Math.abs,HL=Math.log10,io=(n,e)=>n<e?n:e,Ci=(n,e)=>n>e?n:e,OE=n=>n!==0?n<0:1/n<0,VL=String.fromCharCode,jL=n=>n.toLowerCase(),qL=/^\s*/g,WL=n=>n.replace(qL,""),KL=/([A-Z])/g,DE=(n,e)=>WL(n.replace(KL,r=>`${e}${jL(r)}`)),GL=n=>{const e=unescape(encodeURIComponent(n)),r=e.length,i=new Uint8Array(r);for(let o=0;o<r;o++)i[o]=e.codePointAt(o);return i},TE=typeof TextEncoder!="undefined"?new TextEncoder:null,YL=n=>TE.encode(n),ME=TE?YL:GL;let _g=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});_g&&_g.decode(new Uint8Array).length===1&&(_g=null);const NE=n=>n===void 0?null:n;class JL{constructor(){this.map=new Map}setItem(e,r){this.map.set(e,r)}getItem(e){return this.map.get(e)}}let RE=new JL,IE=!0;try{typeof localStorage!="undefined"&&(RE=localStorage,IE=!1)}catch(n){}const PE=RE,XL=n=>IE||addEventListener("storage",n),_f=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name),wg=typeof window!="undefined"&&!_f;typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let Gr;const ZL=()=>{if(Gr===void 0)if(_f){Gr=kr();const n=process.argv;let e=null;for(let r=0;r<n.length;r++){const i=n[r];i[0]==="-"?(e!==null&&Gr.set(e,""),e=i):e!==null&&(Gr.set(e,i),e=null)}e!==null&&Gr.set(e,"")}else typeof location=="object"?(Gr=kr(),(location.search||"?").slice(1).split("&").forEach(n=>{if(n.length!==0){const[e,r]=n.split("=");Gr.set(`--${DE(e,"-")}`,r),Gr.set(`-${DE(e,"-")}`,r)}})):Gr=kr();return Gr},QL=n=>ZL().has(n),LE=n=>NE(_f?process.env[n.toUpperCase()]:PE.getItem(n)),eB=n=>QL("--"+n)||LE(n)!==null;eB("production");const BE=1,FE=2,Eg=4,Sg=8,Ul=32,xi=64,Un=128,wf=31,kg=63,ls=127,tB=2147483647;class Ef{constructor(e){this.arr=e,this.pos=0}}const Yr=n=>new Ef(n),nB=n=>n.pos!==n.arr.length,rB=(n,e)=>{const r=Og(n.arr.buffer,n.pos+n.arr.byteOffset,e);return n.pos+=e,r},Kt=n=>rB(n,Fe(n)),cs=n=>n.arr[n.pos++],Fe=n=>{let e=0,r=0;for(;;){const i=n.arr[n.pos++];if(e=e|(i&ls)<<r,r+=7,i<Un)return e>>>0;if(r>35)throw new Error("Integer out of range!")}},Cg=n=>{let e=n.arr[n.pos++],r=e&kg,i=6;const o=(e&xi)>0?-1:1;if((e&Un)==0)return o*r;for(;;){if(e=n.arr[n.pos++],r=r|(e&ls)<<i,i+=7,e<Un)return o*(r>>>0);if(i>41)throw new Error("Integer out of range!")}},Ai=n=>{let e=Fe(n);if(e===0)return"";{let r=String.fromCodePoint(cs(n));if(--e<100)for(;e--;)r+=String.fromCodePoint(cs(n));else for(;e>0;){const i=e<1e4?e:1e4,o=n.arr.subarray(n.pos,n.pos+i);n.pos+=i,r+=String.fromCodePoint.apply(null,o),e-=i}return decodeURIComponent(escape(r))}},xg=(n,e)=>{const r=new DataView(n.arr.buffer,n.arr.byteOffset+n.pos,e);return n.pos+=e,r},iB=n=>xg(n,4).getFloat32(0,!1),oB=n=>xg(n,8).getFloat64(0,!1),sB=n=>xg(n,8).getBigInt64(0,!1),aB=[n=>{},n=>null,Cg,iB,oB,sB,n=>!1,n=>!0,Ai,n=>{const e=Fe(n),r={};for(let i=0;i<e;i++){const o=Ai(n);r[o]=pa(n)}return r},n=>{const e=Fe(n),r=[];for(let i=0;i<e;i++)r.push(pa(n));return r},Kt],pa=n=>aB[127-cs(n)](n);class $E extends Ef{constructor(e,r){super(e);this.reader=r,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),nB(this)?this.count=Fe(this)+1:this.count=-1),this.count--,this.s}}class Sf extends Ef{constructor(e){super(e);this.s=0,this.count=0}read(){if(this.count===0){this.s=Cg(this);const e=OE(this.s);this.count=1,e&&(this.s=-this.s,this.count=Fe(this)+2)}return this.count--,this.s}}class Ag extends Ef{constructor(e){super(e);this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=Cg(this),r=e&1;this.diff=e>>1,this.count=1,r&&(this.count=Fe(this)+2)}return this.s+=this.diff,this.count--,this.s}}class lB{constructor(e){this.decoder=new Sf(e),this.str=Ai(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),r=this.str.slice(this.spos,e);return this.spos=e,r}}const zE=n=>new Uint8Array(n),Og=(n,e,r)=>new Uint8Array(n,e,r),cB=n=>new Uint8Array(n),uB=n=>{let e="";for(let r=0;r<n.byteLength;r++)e+=VL(n[r]);return btoa(e)},fB=n=>Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("base64"),dB=n=>{const e=atob(n),r=zE(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r},hB=n=>{const e=Buffer.from(n,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},UE=wg?uB:fB,HE=wg?dB:hB,pB=n=>{const e=zE(n.byteLength);return e.set(n),e},gB=Number.isInteger||(n=>typeof n=="number"&&isFinite(n)&&as(n)===n);class Hl{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Ut=()=>new Hl,mB=n=>{let e=n.cpos;for(let r=0;r<n.bufs.length;r++)e+=n.bufs[r].length;return e},yt=n=>{const e=new Uint8Array(mB(n));let r=0;for(let i=0;i<n.bufs.length;i++){const o=n.bufs[i];e.set(o,r),r+=o.length}return e.set(Og(n.cbuf.buffer,0,n.cpos),r),e},vB=(n,e)=>{const r=n.cbuf.length;r-n.cpos<e&&(n.bufs.push(Og(n.cbuf.buffer,0,n.cpos)),n.cbuf=new Uint8Array(Ci(r,e)*2),n.cpos=0)},Gt=(n,e)=>{const r=n.cbuf.length;n.cpos===r&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(r*2),n.cpos=0),n.cbuf[n.cpos++]=e},Vl=Gt,Te=(n,e)=>{for(;e>ls;)Gt(n,Un|ls&e),e>>>=7;Gt(n,ls&e)},Dg=(n,e)=>{const r=OE(e);for(r&&(e=-e),Gt(n,(e>kg?Un:0)|(r?xi:0)|kg&e),e>>>=6;e>0;)Gt(n,(e>ls?Un:0)|ls&e),e>>>=7},Jr=(n,e)=>{const r=unescape(encodeURIComponent(e)),i=r.length;Te(n,i);for(let o=0;o<i;o++)Gt(n,r.codePointAt(o))},kf=(n,e)=>{const r=n.cbuf.length,i=n.cpos,o=io(r-i,e.length),s=e.length-o;n.cbuf.set(e.subarray(0,o),i),n.cpos+=o,s>0&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(Ci(r*2,s)),n.cbuf.set(e.subarray(o)),n.cpos=s)},kt=(n,e)=>{Te(n,e.byteLength),kf(n,e)},Tg=(n,e)=>{vB(n,e);const r=new DataView(n.cbuf.buffer,n.cpos,e);return n.cpos+=e,r},yB=(n,e)=>Tg(n,4).setFloat32(0,e,!1),bB=(n,e)=>Tg(n,8).setFloat64(0,e,!1),_B=(n,e)=>Tg(n,8).setBigInt64(0,e,!1),VE=new DataView(new ArrayBuffer(4)),wB=n=>(VE.setFloat32(0,n),VE.getFloat32(0)===n),ga=(n,e)=>{switch(typeof e){case"string":Gt(n,119),Jr(n,e);break;case"number":gB(e)&&e<=tB?(Gt(n,125),Dg(n,e)):wB(e)?(Gt(n,124),yB(n,e)):(Gt(n,123),bB(n,e));break;case"bigint":Gt(n,122),_B(n,e);break;case"object":if(e===null)Gt(n,126);else if(e instanceof Array){Gt(n,117),Te(n,e.length);for(let r=0;r<e.length;r++)ga(n,e[r])}else if(e instanceof Uint8Array)Gt(n,116),kt(n,e);else{Gt(n,118);const r=Object.keys(e);Te(n,r.length);for(let i=0;i<r.length;i++){const o=r[i];Jr(n,o),ga(n,e[o])}}break;case"boolean":Gt(n,e?120:121);break;default:Gt(n,127)}};class jE extends Hl{constructor(e){super();this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Te(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const qE=n=>{n.count>0&&(Dg(n.encoder,n.count===1?n.s:-n.s),n.count>1&&Te(n.encoder,n.count-2))};class Cf{constructor(){this.encoder=new Hl,this.s=0,this.count=0}write(e){this.s===e?this.count++:(qE(this),this.count=1,this.s=e)}toUint8Array(){return qE(this),yt(this.encoder)}}const WE=n=>{if(n.count>0){const e=n.diff<<1|(n.count===1?0:1);Dg(n.encoder,e),n.count>1&&Te(n.encoder,n.count-2)}};class Mg{constructor(){this.encoder=new Hl,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(WE(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return WE(this),yt(this.encoder)}}class EB{constructor(){this.sarr=[],this.s="",this.lensE=new Cf}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Hl;return this.sarr.push(this.s),this.s="",Jr(e,this.sarr.join("")),kf(e,this.lensE.toUint8Array()),yt(e)}}const KE=typeof crypto=="undefined"?null:crypto,SB=KE!==null?n=>{const e=new ArrayBuffer(n),r=new Uint8Array(e);return KE.getRandomValues(r),e}:n=>{const e=new ArrayBuffer(n),r=new Uint8Array(e);for(let i=0;i<n;i++)r[i]=Math.ceil(Math.random()*4294967295>>>0);return e},GE=Math.random,YE=()=>new Uint32Array(SB(4))[0],kB=n=>n[as(GE()*n.length)],CB=[1e7]+-1e3+-4e3+-8e3+-1e11,JE=()=>CB.replace(/[018]/g,n=>(n^YE()&15>>n/4).toString(16)),us=n=>new Error(n),Cr=()=>{throw us("Method unimplemented")},ir=()=>{throw us("Unexpected case")},XE=Object.keys,xf=n=>XE(n).length,xB=(n,e)=>{for(const r in n)if(!e(n[r],r))return!1;return!0},ZE=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),AB=(n,e)=>n===e||xf(n)===xf(e)&&xB(n,(r,i)=>(r!==void 0||ZE(e,i))&&e[i]===r),Ng=(n,e,r=0)=>{try{for(;r<n.length;r++)n[r](...e)}finally{r<n.length&&Ng(n,e,r+1)}},OB=()=>{},DB=(n,e)=>n===e,jl=(n,e)=>{if(n==null||e==null)return DB(n,e);if(n.constructor!==e.constructor)return!1;if(n===e)return!0;switch(n.constructor){case ArrayBuffer:n=new Uint8Array(n),e=new Uint8Array(e);case Uint8Array:{if(n.byteLength!==e.byteLength)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;break}case Set:{if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;break}case Map:{if(n.size!==e.size)return!1;for(const r of n.keys())if(!e.has(r)||!jl(n.get(r),e.get(r)))return!1;break}case Object:if(xf(n)!==xf(e))return!1;for(const r in n)if(!ZE(n,r)||!jl(n[r],e[r]))return!1;break;case Array:if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(!jl(n[r],e[r]))return!1;break;default:return!1}return!0},Oi=Symbol;class TB{constructor(e,r){this.left=e,this.right=r}}const Di=(n,e)=>new TB(n,e),oo=typeof document!="undefined"?document:{};typeof DOMParser!="undefined"&&new DOMParser;const MB=n=>$L(n,(e,r)=>`${r}:${e};`).join("");oo.ELEMENT_NODE;oo.TEXT_NODE;oo.CDATA_SECTION_NODE;oo.COMMENT_NODE;oo.DOCUMENT_NODE;oo.DOCUMENT_TYPE_NODE;oo.DOCUMENT_FRAGMENT_NODE;const NB=n=>class{constructor(r){this._=r}destroy(){n(this._)}},RB=NB(clearTimeout),IB=(n,e)=>new RB(setTimeout(e,n)),Xr=Date.now,Hn=Oi(),so=Oi(),Rg=Oi(),Af=Oi(),Ig=Oi(),Pg=Oi(),Lg=Oi(),Of=Oi(),ql=Oi(),PB={[Hn]:Di("font-weight","bold"),[so]:Di("font-weight","normal"),[Rg]:Di("color","blue"),[Ig]:Di("color","green"),[Af]:Di("color","grey"),[Pg]:Di("color","red"),[Lg]:Di("color","purple"),[Of]:Di("color","orange"),[ql]:Di("color","black")},LB={[Hn]:"[1m",[so]:"[2m",[Rg]:"[34m",[Ig]:"[32m",[Af]:"[37m",[Pg]:"[31m",[Lg]:"[35m",[Of]:"[38;5;208m",[ql]:"[0m"},BB=n=>{const e=[],r=[],i=kr();let o=[],s=0;for(;s<n.length;s++){const a=n[s],l=PB[a];if(l!==void 0)i.set(l.left,l.right);else if(a.constructor===String||a.constructor===Number){const c=MB(i);s>0||c.length>0?(e.push("%c"+a),r.push(c)):e.push(a)}else break}for(s>0&&(o=r,o.unshift(e.join("")));s<n.length;s++){const a=n[s];a instanceof Symbol||o.push(a)}return o},FB=n=>{const e=[],r=[];let i=0;for(;i<n.length;i++){const o=n[i],s=LB[o];if(s!==void 0)e.push(s);else if(o.constructor===String||o.constructor===Number)e.push(o);else break}for(i>0&&(e.push("[0m"),r.push(e.join("")));i<n.length;i++){const o=n[i];o instanceof Symbol||r.push(o)}return r},$B=_f?FB:BB,QE=(...n)=>{console.log(...$B(n)),zB.forEach(e=>e.print(n))},zB=new Set,e1=[Ig,Lg,Of,Rg];let Bg=0,t1=Xr();const UB=n=>{const e=e1[Bg],r=LE("log"),i=r!==null&&(r==="*"||r==="true"||new RegExp(r,"gi").test(n));return Bg=(Bg+1)%e1.length,n+=": ",i?(...o)=>{const s=Xr(),a=s-t1;t1=s,QE(e,n,ql,...o.map(l=>typeof l=="string"||typeof l=="symbol"?l:JSON.stringify(l)),e," +"+a+"ms")}:OB},n1=n=>({[Symbol.iterator](){return this},next:n}),HB=(n,e)=>n1(()=>{let r;do r=n.next();while(!r.done&&!e(r.value));return r}),Fg=(n,e)=>n1(()=>{const{done:r,value:i}=n.next();return{done:r,value:r?void 0:e(i)}});class $g{constructor(e,r){this.clock=e,this.len=r}}class ma{constructor(){this.clients=new Map}}const Ti=(n,e,r)=>e.clients.forEach((i,o)=>{const s=n.doc.store.clients.get(o);for(let a=0;a<i.length;a++){const l=i[a];E1(n,s,l.clock,l.len,r)}}),VB=(n,e)=>{let r=0,i=n.length-1;for(;r<=i;){const o=as((r+i)/2),s=n[o],a=s.clock;if(a<=e){if(e<a+s.len)return o;r=o+1}else i=o-1}return null},Df=(n,e)=>{const r=n.clients.get(e.client);return r!==void 0&&VB(r,e.clock)!==null},zg=n=>{n.clients.forEach(e=>{e.sort((o,s)=>o.clock-s.clock);let r,i;for(r=1,i=1;r<e.length;r++){const o=e[i-1],s=e[r];o.clock+o.len>=s.clock?o.len=Ci(o.len,s.clock+s.len-o.clock):(i<r&&(e[i]=s),i++)}e.length=i})},Ug=n=>{const e=new ma;for(let r=0;r<n.length;r++)n[r].clients.forEach((i,o)=>{if(!e.clients.has(o)){const s=i.slice();for(let a=r+1;a<n.length;a++)UL(s,n[a].clients.get(o)||[]);e.clients.set(o,s)}});return zg(e),e},Wl=(n,e,r,i)=>{zn(n.clients,e,()=>[]).push(new $g(r,i))},Hg=()=>new ma,r1=n=>{const e=Hg();return n.clients.forEach((r,i)=>{const o=[];for(let s=0;s<r.length;s++){const a=r[s];if(a.deleted){const l=a.id.clock;let c=a.length;if(s+1<r.length)for(let u=r[s+1];s+1<r.length&&u.deleted;u=r[++s+1])c+=u.length;o.push(new $g(l,c))}}o.length>0&&e.clients.set(i,o)}),e},va=(n,e)=>{Te(n.restEncoder,e.clients.size),e.clients.forEach((r,i)=>{n.resetDsCurVal(),Te(n.restEncoder,i);const o=r.length;Te(n.restEncoder,o);for(let s=0;s<o;s++){const a=r[s];n.writeDsClock(a.clock),n.writeDsLen(a.len)}})},Vg=n=>{const e=new ma,r=Fe(n.restDecoder);for(let i=0;i<r;i++){n.resetDsCurVal();const o=Fe(n.restDecoder),s=Fe(n.restDecoder);if(s>0){const a=zn(e.clients,o,()=>[]);for(let l=0;l<s;l++)a.push(new $g(n.readDsClock(),n.readDsLen()))}}return e},i1=(n,e,r)=>{const i=new ma,o=Fe(n.restDecoder);for(let s=0;s<o;s++){n.resetDsCurVal();const a=Fe(n.restDecoder),l=Fe(n.restDecoder),c=r.clients.get(a)||[],u=Ct(r,a);for(let f=0;f<l;f++){const d=n.readDsClock(),h=d+n.readDsLen();if(d<u){u<h&&Wl(i,a,u,h-u);let p=Zr(c,d),g=c[p];for(!g.deleted&&g.id.clock<d&&(c.splice(p+1,0,qf(e,g,d-g.id.clock)),p++);p<c.length&&(g=c[p++],g.id.clock<h);)g.deleted||(h<g.id.clock+g.length&&c.splice(p,0,qf(e,g,h-g.id.clock)),g.delete(e))}else Wl(i,a,d,h-d)}}if(i.clients.size>0){const s=new fs;return Te(s.restEncoder,0),va(s,i),s.toUint8Array()}return null},o1=YE;class Kl extends ha{constructor({guid:e=JE(),collectionid:r=null,gc:i=!0,gcFilter:o=()=>!0,meta:s=null,autoLoad:a=!1}={}){super();this.gc=i,this.gcFilter=o,this.clientID=o1(),this.guid=e,this.collectionid=r,this.share=new Map,this.store=new b1,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=a,this.meta=s}load(){const e=this._item;e!==null&&!this.shouldLoad&&dt(e.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,r=null){dt(this,e,r)}get(e,r=Yt){const i=zn(this.share,e,()=>{const s=new r;return s._integrate(this,null),s}),o=i.constructor;if(r!==Yt&&o!==r)if(o===Yt){const s=new r;s._map=i._map,i._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=s}),s._start=i._start;for(let a=s._start;a!==null;a=a.right)a.parent=s;return s._length=i._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return i}getArray(e=""){return this.get(e,Ea)}getText(e=""){return this.get(e,ds)}getMap(e=""){return this.get(e,Sa)}getXmlFragment(e=""){return this.get(e,hs)}toJSON(){const e={};return this.share.forEach((r,i)=>{e[i]=r.toJSON()}),e}destroy(){AE(this.subdocs).forEach(r=>r.destroy());const e=this._item;if(e!==null){this._item=null;const r=e.content;e.deleted?r.doc=null:(r.doc=new Kl(ce({guid:this.guid},r.opts)),r.doc._item=e),dt(e.parent.doc,i=>{e.deleted||i.subdocsAdded.add(r.doc),i.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,r){super.on(e,r)}off(e,r){super.off(e,r)}}class s1{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return Fe(this.restDecoder)}readDsLen(){return Fe(this.restDecoder)}}class a1 extends s1{readLeftID(){return $e(Fe(this.restDecoder),Fe(this.restDecoder))}readRightID(){return $e(Fe(this.restDecoder),Fe(this.restDecoder))}readClient(){return Fe(this.restDecoder)}readInfo(){return cs(this.restDecoder)}readString(){return Ai(this.restDecoder)}readParentInfo(){return Fe(this.restDecoder)===1}readTypeRef(){return Fe(this.restDecoder)}readLen(){return Fe(this.restDecoder)}readAny(){return pa(this.restDecoder)}readBuf(){return pB(Kt(this.restDecoder))}readJSON(){return JSON.parse(Ai(this.restDecoder))}readKey(){return Ai(this.restDecoder)}}class jB{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Fe(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Fe(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class ya extends jB{constructor(e){super(e);this.keys=[],Fe(e),this.keyClockDecoder=new Ag(Kt(e)),this.clientDecoder=new Sf(Kt(e)),this.leftClockDecoder=new Ag(Kt(e)),this.rightClockDecoder=new Ag(Kt(e)),this.infoDecoder=new $E(Kt(e),cs),this.stringDecoder=new lB(Kt(e)),this.parentInfoDecoder=new $E(Kt(e),cs),this.typeRefDecoder=new Sf(Kt(e)),this.lenDecoder=new Sf(Kt(e))}readLeftID(){return new ba(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ba(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return pa(this.restDecoder)}readBuf(){return Kt(this.restDecoder)}readJSON(){return pa(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const r=this.stringDecoder.read();return this.keys.push(r),r}}}class l1{constructor(){this.restEncoder=Ut()}toUint8Array(){return yt(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Te(this.restEncoder,e)}writeDsLen(e){Te(this.restEncoder,e)}}class Gl extends l1{writeLeftID(e){Te(this.restEncoder,e.client),Te(this.restEncoder,e.clock)}writeRightID(e){Te(this.restEncoder,e.client),Te(this.restEncoder,e.clock)}writeClient(e){Te(this.restEncoder,e)}writeInfo(e){Vl(this.restEncoder,e)}writeString(e){Jr(this.restEncoder,e)}writeParentInfo(e){Te(this.restEncoder,e?1:0)}writeTypeRef(e){Te(this.restEncoder,e)}writeLen(e){Te(this.restEncoder,e)}writeAny(e){ga(this.restEncoder,e)}writeBuf(e){kt(this.restEncoder,e)}writeJSON(e){Jr(this.restEncoder,JSON.stringify(e))}writeKey(e){Jr(this.restEncoder,e)}}class c1{constructor(){this.restEncoder=Ut(),this.dsCurrVal=0}toUint8Array(){return yt(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const r=e-this.dsCurrVal;this.dsCurrVal=e,Te(this.restEncoder,r)}writeDsLen(e){e===0&&ir(),Te(this.restEncoder,e-1),this.dsCurrVal+=e}}class fs extends c1{constructor(){super();this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Mg,this.clientEncoder=new Cf,this.leftClockEncoder=new Mg,this.rightClockEncoder=new Mg,this.infoEncoder=new jE(Vl),this.stringEncoder=new EB,this.parentInfoEncoder=new jE(Vl),this.typeRefEncoder=new Cf,this.lenEncoder=new Cf}toUint8Array(){const e=Ut();return Te(e,0),kt(e,this.keyClockEncoder.toUint8Array()),kt(e,this.clientEncoder.toUint8Array()),kt(e,this.leftClockEncoder.toUint8Array()),kt(e,this.rightClockEncoder.toUint8Array()),kt(e,yt(this.infoEncoder)),kt(e,this.stringEncoder.toUint8Array()),kt(e,yt(this.parentInfoEncoder)),kt(e,this.typeRefEncoder.toUint8Array()),kt(e,this.lenEncoder.toUint8Array()),kf(e,yt(this.restEncoder)),yt(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){ga(this.restEncoder,e)}writeBuf(e){kt(this.restEncoder,e)}writeJSON(e){ga(this.restEncoder,e)}writeKey(e){this.keyMap.get(e)===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(this.keyClock++)}}const qB=(n,e,r,i)=>{i=Ci(i,e[0].id.clock);const o=Zr(e,i);Te(n.restEncoder,e.length-o),n.writeClient(r),Te(n.restEncoder,i);const s=e[o];s.write(n,i-s.id.clock);for(let a=o+1;a<e.length;a++)e[a].write(n,0)},jg=(n,e,r)=>{const i=new Map;r.forEach((o,s)=>{Ct(e,s)>o&&i.set(s,o)}),Ql(e).forEach((o,s)=>{r.has(s)||i.set(s,0)}),Te(n.restEncoder,i.size),Array.from(i.entries()).sort((o,s)=>s[0]-o[0]).forEach(([o,s])=>{qB(n,e.clients.get(o),o,s)})},WB=(n,e)=>{const r=kr(),i=Fe(n.restDecoder);for(let o=0;o<i;o++){const s=Fe(n.restDecoder),a=new Array(s),l=n.readClient();let c=Fe(n.restDecoder);r.set(l,{i:0,refs:a});for(let u=0;u<s;u++){const f=n.readInfo();switch(wf&f){case 0:{const d=n.readLen();a[u]=new sr($e(l,c),d),c+=d;break}case 10:{const d=Fe(n.restDecoder);a[u]=new ar($e(l,c),d),c+=d;break}default:{const d=(f&(xi|Un))==0,h=new nt($e(l,c),null,(f&Un)===Un?n.readLeftID():null,null,(f&xi)===xi?n.readRightID():null,d?n.readParentInfo()?e.get(n.readString()):n.readLeftID():null,d&&(f&Ul)===Ul?n.readString():null,G1(n,f));a[u]=h,c+=h.length}}}}return r},KB=(n,e,r)=>{const i=[];let o=Array.from(r.keys()).sort((p,g)=>p-g);if(o.length===0)return null;const s=()=>{if(o.length===0)return null;let p=r.get(o[o.length-1]);for(;p.refs.length===p.i;)if(o.pop(),o.length>0)p=r.get(o[o.length-1]);else return null;return p};let a=s();if(a===null&&i.length===0)return null;const l=new b1,c=new Map,u=(p,g)=>{const v=c.get(p);(v==null||v>g)&&c.set(p,g)};let f=a.refs[a.i++];const d=new Map,h=()=>{for(const p of i){const g=p.id.client,v=r.get(g);v?(v.i--,l.clients.set(g,v.refs.slice(v.i)),r.delete(g),v.i=0,v.refs=[]):l.clients.set(g,[p]),o=o.filter(w=>w!==g)}i.length=0};for(;;){if(f.constructor!==ar){const g=zn(d,f.id.client,()=>Ct(e,f.id.client))-f.id.clock;if(g<0)i.push(f),u(f.id.client,f.id.clock-1),h();else{const v=f.getMissing(n,e);if(v!==null){i.push(f);const w=r.get(v)||{refs:[],i:0};if(w.refs.length===w.i)u(v,Ct(e,v)),h();else{f=w.refs[w.i++];continue}}else(g===0||g<f.length)&&(f.integrate(n,g),d.set(f.id.client,f.id.clock+f.length))}}if(i.length>0)f=i.pop();else if(a!==null&&a.i<a.refs.length)f=a.refs[a.i++];else{if(a=s(),a===null)break;f=a.refs[a.i++]}}if(l.clients.size>0){const p=new fs;return jg(p,l,new Map),Te(p.restEncoder,0),{missing:c,update:p.toUint8Array()}}return null},GB=(n,e)=>jg(n,e.doc.store,e.beforeState),YB=(n,e,r,i=new ya(n))=>dt(e,o=>{o.local=!1;let s=!1;const a=o.doc,l=a.store,c=WB(i,a),u=KB(o,l,c),f=l.pendingStructs;if(f){for(const[h,p]of f.missing)if(p<Ct(l,h)){s=!0;break}if(u){for(const[h,p]of u.missing){const g=f.missing.get(h);(g==null||g>p)&&f.missing.set(h,p)}f.update=Pf([f.update,u.update])}}else l.pendingStructs=u;const d=i1(i,o,l);if(l.pendingDs){const h=new ya(Yr(l.pendingDs));Fe(h.restDecoder);const p=i1(h,o,l);d&&p?l.pendingDs=Pf([d,p]):l.pendingDs=d||p}else l.pendingDs=d;if(s){const h=l.pendingStructs.update;l.pendingStructs=null,u1(o.doc,h)}},r,!1),u1=(n,e,r,i=ya)=>{const o=Yr(e);YB(o,n,r,new i(o))},qg=(n,e,r)=>u1(n,e,r,a1),JB=(n,e,r=new Map)=>{jg(n,e.store,r),va(n,r1(e.store))},XB=(n,e=new Uint8Array([0]),r=new fs)=>{const i=f1(e);JB(r,n,i);const o=[r.toUint8Array()];if(n.store.pendingDs&&o.push(n.store.pendingDs),n.store.pendingStructs&&o.push(mF(n.store.pendingStructs.update,e)),o.length>1){if(r.constructor===Gl)return pF(o.map((s,a)=>a===0?s:yF(s)));if(r.constructor===fs)return Pf(o)}return o[0]},Tf=(n,e)=>XB(n,e,new Gl),ZB=n=>{const e=new Map,r=Fe(n.restDecoder);for(let i=0;i<r;i++){const o=Fe(n.restDecoder),s=Fe(n.restDecoder);e.set(o,s)}return e},f1=n=>ZB(new s1(Yr(n))),d1=(n,e)=>(Te(n.restEncoder,e.size),e.forEach((r,i)=>{Te(n.restEncoder,i),Te(n.restEncoder,r)}),n),QB=(n,e)=>d1(n,Ql(e.store)),eF=(n,e=new c1)=>(n instanceof Map?d1(e,n):QB(e,n),e.toUint8Array()),h1=n=>eF(n,new l1);class tF{constructor(){this.l=[]}}const p1=()=>new tF,g1=(n,e)=>n.l.push(e),m1=(n,e)=>{const r=n.l,i=r.length;n.l=r.filter(o=>e!==o),i===n.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},v1=(n,e,r)=>Ng(n.l,[e,r]);class ba{constructor(e,r){this.client=e,this.clock=r}}const _a=(n,e)=>n===e||n!==null&&e!==null&&n.client===e.client&&n.clock===e.clock,$e=(n,e)=>new ba(n,e),Yl=n=>{for(const[e,r]of n.doc.share.entries())if(r===n)return e;throw ir()},Jl=(n,e)=>{for(;e!==null;){if(e.parent===n)return!0;e=e.parent._item}return!1};class Xl{constructor(e,r,i,o=0){this.type=e,this.tname=r,this.item=i,this.assoc=o}}const Zl=n=>new Xl(n.type==null?null:$e(n.type.client,n.type.clock),n.tname||null,n.item==null?null:$e(n.item.client,n.item.clock),n.assoc==null?0:n.assoc);class nF{constructor(e,r,i=0){this.type=e,this.index=r,this.assoc=i}}const rF=(n,e,r=0)=>new nF(n,e,r),Mf=(n,e,r)=>{let i=null,o=null;return n._item===null?o=Yl(n):i=$e(n._item.id.client,n._item.id.clock),new Xl(i,o,e,r)},Wg=(n,e,r=0)=>{let i=n._start;if(r<0){if(e===0)return Mf(n,null,r);e--}for(;i!==null;){if(!i.deleted&&i.countable){if(i.length>e)return Mf(n,$e(i.id.client,i.id.clock+e),r);e-=i.length}if(i.right===null&&r<0)return Mf(n,i.lastId,r);i=i.right}return Mf(n,null,r)},iF=(n,e)=>{const r=e.store,i=n.item,o=n.type,s=n.tname,a=n.assoc;let l=null,c=0;if(i!==null){if(Ct(r,i.client)<=i.clock)return null;const u=am(r,i),f=u.item;if(!(f instanceof nt))return null;if(l=f.parent,l._item===null||!l._item.deleted){c=f.deleted||!f.countable?0:u.diff+(a>=0?0:1);let d=f.left;for(;d!==null;)!d.deleted&&d.countable&&(c+=d.length),d=d.left}}else{if(s!==null)l=e.get(s);else if(o!==null){if(Ct(r,o.client)<=o.clock)return null;const{item:u}=am(r,o);if(u instanceof nt&&u.content instanceof Ar)l=u.content.type;else return null}else throw ir();a>=0?c=l._length:c=0}return rF(l,c,n.assoc)},y1=(n,e)=>n===e||n!==null&&e!==null&&n.tname===e.tname&&_a(n.item,e.item)&&_a(n.type,e.type)&&n.assoc===e.assoc;class Kg{constructor(e,r){this.ds=e,this.sv=r}}const Gg=(n,e)=>new Kg(n,e);Gg(Hg(),new Map);const oF=n=>Gg(r1(n.store),Ql(n.store)),wa=(n,e)=>e===void 0?!n.deleted:e.sv.has(n.id.client)&&(e.sv.get(n.id.client)||0)>n.id.clock&&!Df(e.ds,n.id),Nf=(n,e)=>{const r=zn(n.meta,Nf,da),i=n.doc.store;r.has(e)||(e.sv.forEach((o,s)=>{o<Ct(i,s)&&Vn(n,$e(s,o))}),Ti(n,e.ds,o=>{}),r.add(e))};class b1{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Ql=n=>{const e=new Map;return n.clients.forEach((r,i)=>{const o=r[r.length-1];e.set(i,o.id.clock+o.length)}),e},Ct=(n,e)=>{const r=n.clients.get(e);if(r===void 0)return 0;const i=r[r.length-1];return i.id.clock+i.length},_1=(n,e)=>{let r=n.clients.get(e.id.client);if(r===void 0)r=[],n.clients.set(e.id.client,r);else{const i=r[r.length-1];if(i.id.clock+i.length!==e.id.clock)throw ir()}r.push(e)},Zr=(n,e)=>{let r=0,i=n.length-1,o=n[i],s=o.id.clock;if(s===e)return i;let a=as(e/(s+o.length-1)*i);for(;r<=i;){if(o=n[a],s=o.id.clock,s<=e){if(e<s+o.length)return a;r=a+1}else i=a-1;a=as((r+i)/2)}throw ir()},sF=(n,e)=>{const r=n.clients.get(e.client);return r[Zr(r,e.clock)]},Rf=sF,Yg=(n,e,r)=>{const i=Zr(e,r),o=e[i];return o.id.clock<r&&o instanceof nt?(e.splice(i+1,0,qf(n,o,r-o.id.clock)),i+1):i},Vn=(n,e)=>{const r=n.doc.store.clients.get(e.client);return r[Yg(n,r,e.clock)]},w1=(n,e,r)=>{const i=e.clients.get(r.client),o=Zr(i,r.clock),s=i[o];return r.clock!==s.id.clock+s.length-1&&s.constructor!==sr&&i.splice(o+1,0,qf(n,s,r.clock-s.id.clock+1)),s},aF=(n,e,r)=>{const i=n.clients.get(e.id.client);i[Zr(i,e.id.clock)]=r},E1=(n,e,r,i,o)=>{if(i===0)return;const s=r+i;let a=Yg(n,e,r),l;do l=e[a++],s<l.id.clock+l.length&&Yg(n,e,s),o(l);while(a<e.length&&e[a].id.clock<s)};class lF{constructor(e,r,i){this.doc=e,this.deleteSet=new ma,this.beforeState=Ql(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=i,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const S1=(n,e)=>e.deleteSet.clients.size===0&&!zL(e.afterState,(r,i)=>e.beforeState.get(i)!==r)?!1:(zg(e.deleteSet),GB(n,e),va(n,e.deleteSet),!0),k1=(n,e,r)=>{const i=e._item;(i===null||i.id.clock<(n.beforeState.get(i.id.client)||0)&&!i.deleted)&&zn(n.changed,e,da).add(r)},If=(n,e)=>{const r=n[e-1],i=n[e];r.deleted===i.deleted&&r.constructor===i.constructor&&r.mergeWith(i)&&(n.splice(e,1),i instanceof nt&&i.parentSub!==null&&i.parent._map.get(i.parentSub)===i&&i.parent._map.set(i.parentSub,r))},cF=(n,e,r)=>{for(const[i,o]of n.clients.entries()){const s=e.clients.get(i);for(let a=o.length-1;a>=0;a--){const l=o[a],c=l.clock+l.len;for(let u=Zr(s,l.clock),f=s[u];u<s.length&&f.id.clock<c;f=s[++u]){const d=s[u];if(l.clock+l.len<=d.id.clock)break;d instanceof nt&&d.deleted&&!d.keep&&r(d)&&d.gc(e,!1)}}}},uF=(n,e)=>{n.clients.forEach((r,i)=>{const o=e.clients.get(i);for(let s=r.length-1;s>=0;s--){const a=r[s],l=io(o.length-1,1+Zr(o,a.clock+a.len-1));for(let c=l,u=o[c];c>0&&u.id.clock>=a.clock;u=o[--c])If(o,c)}})},C1=(n,e)=>{if(e<n.length){const r=n[e],i=r.doc,o=i.store,s=r.deleteSet,a=r._mergeStructs;try{zg(s),r.afterState=Ql(r.doc.store),i._transaction=null,i.emit("beforeObserverCalls",[r,i]);const l=[];r.changed.forEach((c,u)=>l.push(()=>{(u._item===null||!u._item.deleted)&&u._callObserver(r,c)})),l.push(()=>{r.changedParentTypes.forEach((c,u)=>l.push(()=>{(u._item===null||!u._item.deleted)&&(c=c.filter(f=>f.target._item===null||!f.target._item.deleted),c.forEach(f=>{f.currentTarget=u}),c.sort((f,d)=>f.path.length-d.path.length),v1(u._dEH,c,r))})),l.push(()=>i.emit("afterTransaction",[r,i]))}),Ng(l,[])}finally{i.gc&&cF(s,o,i.gcFilter),uF(s,o),r.afterState.forEach((f,d)=>{const h=r.beforeState.get(d)||0;if(h!==f){const p=o.clients.get(d),g=Ci(Zr(p,h),1);for(let v=p.length-1;v>=g;v--)If(p,v)}});for(let f=0;f<a.length;f++){const{client:d,clock:h}=a[f].id,p=o.clients.get(d),g=Zr(p,h);g+1<p.length&&If(p,g+1),g>0&&If(p,g)}if(!r.local&&r.afterState.get(i.clientID)!==r.beforeState.get(i.clientID)&&(i.clientID=o1(),QE(Of,Hn,"[yjs] ",so,Pg,"Changed the client-id because another client seems to be using it.")),i.emit("afterTransactionCleanup",[r,i]),i._observers.has("update")){const f=new Gl;S1(f,r)&&i.emit("update",[f.toUint8Array(),r.origin,i,r])}if(i._observers.has("updateV2")){const f=new fs;S1(f,r)&&i.emit("updateV2",[f.toUint8Array(),r.origin,i,r])}const{subdocsAdded:l,subdocsLoaded:c,subdocsRemoved:u}=r;(l.size>0||u.size>0||c.size>0)&&(l.forEach(f=>{f.clientID=i.clientID,f.collectionid==null&&(f.collectionid=i.collectionid),i.subdocs.add(f)}),u.forEach(f=>i.subdocs.delete(f)),i.emit("subdocs",[{loaded:c,added:l,removed:u},i,r]),u.forEach(f=>f.destroy())),n.length<=e+1?(i._transactionCleanups=[],i.emit("afterAllTransactions",[i,n])):C1(n,e+1)}}},dt=(n,e,r=null,i=!0)=>{const o=n._transactionCleanups;let s=!1;n._transaction===null&&(s=!0,n._transaction=new lF(n,r,i),o.push(n._transaction),o.length===1&&n.emit("beforeAllTransactions",[n]),n.emit("beforeTransaction",[n._transaction,n]));try{e(n._transaction)}finally{s&&o[0]===n._transaction&&C1(o,0)}};class fF{constructor(e,r){this.insertions=r,this.deletions=e,this.meta=new Map}}const x1=(n,e,r)=>{let i=null,o=null;const s=n.doc,a=n.scope;if(dt(s,l=>{for(;e.length>0&&i===null;){const c=s.store,u=e.pop(),f=new Set,d=[];let h=!1;Ti(l,u.insertions,p=>{if(p instanceof nt){if(p.redone!==null){let{item:g,diff:v}=am(c,p.id);v>0&&(g=Vn(l,$e(g.id.client,g.id.clock+v))),p=g}!p.deleted&&a.some(g=>Jl(g,p))&&d.push(p)}}),Ti(l,u.deletions,p=>{p instanceof nt&&a.some(g=>Jl(g,p))&&!Df(u.insertions,p.id)&&f.add(p)}),f.forEach(p=>{h=K1(l,p,f,d)!==null||h});for(let p=d.length-1;p>=0;p--){const g=d[p];n.deleteFilter(g)&&(g.delete(l),h=!0)}i=h?u:null}l.changed.forEach((c,u)=>{c.has(null)&&u._searchMarker&&(u._searchMarker.length=0)}),o=l},n),i!=null){const l=o.changedParentTypes;n.emit("stack-item-popped",[{stackItem:i,type:r,changedParentTypes:l},n])}return i};class dF extends ha{constructor(e,{captureTimeout:r=500,deleteFilter:i=()=>!0,trackedOrigins:o=new Set([null])}={}){super();this.scope=e instanceof Array?e:[e],this.deleteFilter=i,o.add(this),this.trackedOrigins=o,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=this.scope[0].doc,this.lastChange=0,this.doc.on("afterTransaction",s=>{if(!this.scope.some(d=>s.changedParentTypes.has(d))||!this.trackedOrigins.has(s.origin)&&(!s.origin||!this.trackedOrigins.has(s.origin.constructor)))return;const a=this.undoing,l=this.redoing,c=a?this.redoStack:this.undoStack;a?this.stopCapturing():l||(this.redoStack=[]);const u=new ma;s.afterState.forEach((d,h)=>{const p=s.beforeState.get(h)||0,g=d-p;g>0&&Wl(u,h,p,g)});const f=Xr();if(f-this.lastChange<r&&c.length>0&&!a&&!l){const d=c[c.length-1];d.deletions=Ug([d.deletions,s.deleteSet]),d.insertions=Ug([d.insertions,u])}else c.push(new fF(s.deleteSet,u));!a&&!l&&(this.lastChange=f),Ti(s,s.deleteSet,d=>{d instanceof nt&&this.scope.some(h=>Jl(h,d))&&lm(d,!0)}),this.emit("stack-item-added",[{stackItem:c[c.length-1],origin:s.origin,type:a?"redo":"undo",changedParentTypes:s.changedParentTypes},this])})}clear(){this.doc.transact(e=>{const r=i=>{Ti(e,i.deletions,o=>{o instanceof nt&&this.scope.some(s=>Jl(s,o))&&lm(o,!1)})};this.undoStack.forEach(r),this.redoStack.forEach(r)}),this.undoStack=[],this.redoStack=[]}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=x1(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=x1(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}}function*hF(n){const e=Fe(n.restDecoder);for(let r=0;r<e;r++){const i=Fe(n.restDecoder),o=n.readClient();let s=Fe(n.restDecoder);for(let a=0;a<i;a++){const l=n.readInfo();if(l===10){const c=Fe(n.restDecoder);yield new ar($e(o,s),c),s+=c}else if((wf&l)!=0){const c=(l&(xi|Un))==0,u=new nt($e(o,s),null,(l&Un)===Un?n.readLeftID():null,null,(l&xi)===xi?n.readRightID():null,c?n.readParentInfo()?n.readString():n.readLeftID():null,c&&(l&Ul)===Ul?n.readString():null,G1(n,l));yield u,s+=u.length}else{const c=n.readLen();yield new sr($e(o,s),c),s+=c}}}}class Jg{constructor(e,r){this.gen=hF(e),this.curr=null,this.done=!1,this.filterSkips=r,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===ar);return this.curr}}class Xg{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const pF=n=>Pf(n,a1,Gl),gF=(n,e)=>{if(n.constructor===sr){const{client:r,clock:i}=n.id;return new sr($e(r,i+e),n.length-e)}else if(n.constructor===ar){const{client:r,clock:i}=n.id;return new ar($e(r,i+e),n.length-e)}else{const r=n,{client:i,clock:o}=r.id;return new nt($e(i,o+e),null,$e(i,o+e-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(e))}},Pf=(n,e=ya,r=fs)=>{if(n.length===1)return n[0];const i=n.map(f=>new e(Yr(f)));let o=i.map(f=>new Jg(f,!0)),s=null;const a=new r,l=new Xg(a);for(;o=o.filter(h=>h.curr!==null),o.sort((h,p)=>{if(h.curr.id.client===p.curr.id.client){const g=h.curr.id.clock-p.curr.id.clock;return g===0?h.curr.constructor===p.curr.constructor?0:h.curr.constructor===ar?1:-1:g}else return p.curr.id.client-h.curr.id.client}),o.length!==0;){const f=o[0],d=f.curr.id.client;if(s!==null){let h=f.curr,p=!1;for(;h!==null&&h.id.clock+h.length<=s.struct.id.clock+s.struct.length&&h.id.client>=s.struct.id.client;)h=f.next(),p=!0;if(h===null||h.id.client!==d||p&&h.id.clock>s.struct.id.clock+s.struct.length)continue;if(d!==s.struct.id.client)ao(l,s.struct,s.offset),s={struct:h,offset:0},f.next();else if(s.struct.id.clock+s.struct.length<h.id.clock)if(s.struct.constructor===ar)s.struct.length=h.id.clock+h.length-s.struct.id.clock;else{ao(l,s.struct,s.offset);const g=h.id.clock-s.struct.id.clock-s.struct.length;s={struct:new ar($e(d,s.struct.id.clock+s.struct.length),g),offset:0}}else{const g=s.struct.id.clock+s.struct.length-h.id.clock;g>0&&(s.struct.constructor===ar?s.struct.length-=g:h=gF(h,g)),s.struct.mergeWith(h)||(ao(l,s.struct,s.offset),s={struct:h,offset:0},f.next())}}else s={struct:f.curr,offset:0},f.next();for(let h=f.curr;h!==null&&h.id.client===d&&h.id.clock===s.struct.id.clock+s.struct.length&&h.constructor!==ar;h=f.next())ao(l,s.struct,s.offset),s={struct:h,offset:0}}s!==null&&(ao(l,s.struct,s.offset),s=null),Zg(l);const c=i.map(f=>Vg(f)),u=Ug(c);return va(a,u),a.toUint8Array()},mF=(n,e,r=ya,i=fs)=>{const o=f1(e),s=new i,a=new Xg(s),l=new r(Yr(n)),c=new Jg(l,!1);for(;c.curr;){const f=c.curr,d=f.id.client,h=o.get(d)||0;if(c.curr.constructor===ar){c.next();continue}if(f.id.clock+f.length>h)for(ao(a,f,Ci(h-f.id.clock,0)),c.next();c.curr&&c.curr.id.client===d;)ao(a,c.curr,0),c.next();else for(;c.curr&&c.curr.id.client===d&&c.curr.id.clock+c.curr.length<=h;)c.next()}Zg(a);const u=Vg(l);return va(s,u),s.toUint8Array()},A1=n=>{n.written>0&&(n.clientStructs.push({written:n.written,restEncoder:yt(n.encoder.restEncoder)}),n.encoder.restEncoder=Ut(),n.written=0)},ao=(n,e,r)=>{n.written>0&&n.currClient!==e.id.client&&A1(n),n.written===0&&(n.currClient=e.id.client,n.encoder.writeClient(e.id.client),Te(n.encoder.restEncoder,e.id.clock+r)),e.write(n.encoder,r),n.written++},Zg=n=>{A1(n);const e=n.encoder.restEncoder;Te(e,n.clientStructs.length);for(let r=0;r<n.clientStructs.length;r++){const i=n.clientStructs[r];Te(e,i.written),kf(e,i.restEncoder)}},vF=(n,e,r)=>{const i=new e(Yr(n)),o=new Jg(i,!1),s=new r,a=new Xg(s);for(let c=o.curr;c!==null;c=o.next())ao(a,c,0);Zg(a);const l=Vg(i);return va(s,l),s.toUint8Array()},yF=n=>vF(n,ya,Gl);class Lf{constructor(e,r){this.target=e,this.currentTarget=e,this.transaction=r,this._changes=null,this._keys=null,this._delta=null}get path(){return bF(this.currentTarget,this.target)}deletes(e){return Df(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){const e=new Map,r=this.target;this.transaction.changed.get(r).forEach(o=>{if(o!==null){const s=r._map.get(o);let a,l;if(this.adds(s)){let c=s.left;for(;c!==null&&this.adds(c);)c=c.left;if(this.deletes(s))if(c!==null&&this.deletes(c))a="delete",l=yg(c.content.getContent());else return;else c!==null&&this.deletes(c)?(a="update",l=yg(c.content.getContent())):(a="add",l=void 0)}else if(this.deletes(s))a="delete",l=yg(s.content.getContent());else return;e.set(o,{action:a,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){const r=this.target,i=da(),o=da(),s=[];if(e={added:i,deleted:o,delta:s,keys:this.keys},this.transaction.changed.get(r).has(null)){let l=null;const c=()=>{l&&s.push(l)};for(let u=r._start;u!==null;u=u.right)u.deleted?this.deletes(u)&&!this.adds(u)&&((l===null||l.delete===void 0)&&(c(),l={delete:0}),l.delete+=u.length,o.add(u)):this.adds(u)?((l===null||l.insert===void 0)&&(c(),l={insert:[]}),l.insert=l.insert.concat(u.content.getContent()),i.add(u)):((l===null||l.retain===void 0)&&(c(),l={retain:0}),l.retain+=u.length);l!==null&&l.retain===void 0&&c()}this._changes=e}return e}}const bF=(n,e)=>{const r=[];for(;e._item!==null&&e!==n;){if(e._item.parentSub!==null)r.unshift(e._item.parentSub);else{let i=0,o=e._item.parent._start;for(;o!==e._item&&o!==null;)o.deleted||i++,o=o.right;r.unshift(i)}e=e._item.parent}return r},O1=80;let Qg=0;class _F{constructor(e,r){e.marker=!0,this.p=e,this.index=r,this.timestamp=Qg++}}const wF=n=>{n.timestamp=Qg++},D1=(n,e,r)=>{n.p.marker=!1,n.p=e,e.marker=!0,n.index=r,n.timestamp=Qg++},EF=(n,e,r)=>{if(n.length>=O1){const i=n.reduce((o,s)=>o.timestamp<s.timestamp?o:s);return D1(i,e,r),i}else{const i=new _F(e,r);return n.push(i),i}},Bf=(n,e)=>{if(n._start===null||e===0||n._searchMarker===null)return null;const r=n._searchMarker.length===0?null:n._searchMarker.reduce((s,a)=>bg(e-s.index)<bg(e-a.index)?s:a);let i=n._start,o=0;for(r!==null&&(i=r.p,o=r.index,wF(r));i.right!==null&&o<e;){if(!i.deleted&&i.countable){if(e<o+i.length)break;o+=i.length}i=i.right}for(;i.left!==null&&o>e;)i=i.left,!i.deleted&&i.countable&&(o-=i.length);for(;i.left!==null&&i.left.id.client===i.id.client&&i.left.id.clock+i.left.length===i.id.clock;)i=i.left,!i.deleted&&i.countable&&(o-=i.length);return r!==null&&bg(r.index-o)<i.parent.length/O1?(D1(r,i,o),r):EF(n._searchMarker,i,o)},ec=(n,e,r)=>{for(let i=n.length-1;i>=0;i--){const o=n[i];if(r>0){let s=o.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(o.index-=s.length);if(s===null||s.marker===!0){n.splice(i,1);continue}o.p=s,s.marker=!0}(e<o.index||r>0&&e===o.index)&&(o.index=Ci(e,o.index+r))}},Ff=(n,e,r)=>{const i=n,o=e.changedParentTypes;for(;zn(o,n,()=>[]).push(r),n._item!==null;)n=n._item.parent;v1(i._eH,r,e)};class Yt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=p1(),this._dEH=p1(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,r){this.doc=e,this._item=r}_copy(){throw Cr()}clone(){throw Cr()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,r){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){g1(this._eH,e)}observeDeep(e){g1(this._dEH,e)}unobserve(e){m1(this._eH,e)}unobserveDeep(e){m1(this._dEH,e)}toJSON(){}}const T1=(n,e,r)=>{e<0&&(e=n._length+e),r<0&&(r=n._length+r);let i=r-e;const o=[];let s=n._start;for(;s!==null&&i>0;){if(s.countable&&!s.deleted){const a=s.content.getContent();if(a.length<=e)e-=a.length;else{for(let l=e;l<a.length&&i>0;l++)o.push(a[l]),i--;e=0}}s=s.right}return o},M1=n=>{const e=[];let r=n._start;for(;r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let o=0;o<i.length;o++)e.push(i[o])}r=r.right}return e},N1=(n,e)=>{const r=[];let i=n._start;for(;i!==null;){if(i.countable&&wa(i,e)){const o=i.content.getContent();for(let s=0;s<o.length;s++)r.push(o[s])}i=i.right}return r},$f=(n,e)=>{let r=0,i=n._start;for(;i!==null;){if(i.countable&&!i.deleted){const o=i.content.getContent();for(let s=0;s<o.length;s++)e(o[s],r++,n)}i=i.right}},R1=(n,e)=>{const r=[];return $f(n,(i,o)=>{r.push(e(i,o,n))}),r},SF=n=>{let e=n._start,r=null,i=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};r=e.content.getContent(),i=0,e=e.right}const o=r[i++];return r.length<=i&&(r=null),{done:!1,value:o}}}},I1=(n,e)=>{const r=Bf(n,e);let i=n._start;for(r!==null&&(i=r.p,e-=r.index);i!==null;i=i.right)if(!i.deleted&&i.countable){if(e<i.length)return i.content.getContent()[e];e-=i.length}},em=(n,e,r,i)=>{let o=r;const s=n.doc,a=s.clientID,l=s.store,c=r===null?e._start:r.right;let u=[];const f=()=>{u.length>0&&(o=new nt($e(a,Ct(l,a)),o,o&&o.lastId,c,c&&c.id,e,null,new gs(u)),o.integrate(n,0),u=[])};i.forEach(d=>{if(d===null)u.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(d);break;default:switch(f(),d.constructor){case Uint8Array:case ArrayBuffer:o=new nt($e(a,Ct(l,a)),o,o&&o.lastId,c,c&&c.id,e,null,new tc(new Uint8Array(d))),o.integrate(n,0);break;case Kl:o=new nt($e(a,Ct(l,a)),o,o&&o.lastId,c,c&&c.id,e,null,new rc(d)),o.integrate(n,0);break;default:if(d instanceof Yt)o=new nt($e(a,Ct(l,a)),o,o&&o.lastId,c,c&&c.id,e,null,new Ar(d)),o.integrate(n,0);else throw new Error("Unexpected content type in insert operation")}}}),f()},P1=us("Length exceeded!"),L1=(n,e,r,i)=>{if(r>e._length)throw P1;if(r===0)return e._searchMarker&&ec(e._searchMarker,r,i.length),em(n,e,null,i);const o=r,s=Bf(e,r);let a=e._start;for(s!==null&&(a=s.p,r-=s.index,r===0&&(a=a.prev,r+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(r<=a.length){r<a.length&&Vn(n,$e(a.id.client,a.id.clock+r));break}r-=a.length}return e._searchMarker&&ec(e._searchMarker,o,i.length),em(n,e,a,i)},B1=(n,e,r,i)=>{if(i===0)return;const o=r,s=i,a=Bf(e,r);let l=e._start;for(a!==null&&(l=a.p,r-=a.index);l!==null&&r>0;l=l.right)!l.deleted&&l.countable&&(r<l.length&&Vn(n,$e(l.id.client,l.id.clock+r)),r-=l.length);for(;i>0&&l!==null;)l.deleted||(i<l.length&&Vn(n,$e(l.id.client,l.id.clock+i)),l.delete(n),i-=l.length),l=l.right;if(i>0)throw P1;e._searchMarker&&ec(e._searchMarker,o,-s+i)},zf=(n,e,r)=>{const i=e._map.get(r);i!==void 0&&i.delete(n)},tm=(n,e,r,i)=>{const o=e._map.get(r)||null,s=n.doc,a=s.clientID;let l;if(i==null)l=new gs([i]);else switch(i.constructor){case Number:case Object:case Boolean:case Array:case String:l=new gs([i]);break;case Uint8Array:l=new tc(i);break;case Kl:l=new rc(i);break;default:if(i instanceof Yt)l=new Ar(i);else throw new Error("Unexpected content type")}new nt($e(a,Ct(s.store,a)),o,o&&o.lastId,null,null,e,r,l).integrate(n,0)},nm=(n,e)=>{const r=n._map.get(e);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},F1=n=>{const e={};return n._map.forEach((r,i)=>{r.deleted||(e[i]=r.content.getContent()[r.length-1])}),e},$1=(n,e)=>{const r=n._map.get(e);return r!==void 0&&!r.deleted},Uf=n=>HB(n.entries(),e=>!e[1].deleted);class kF extends Lf{constructor(e,r){super(e,r);this._transaction=r}}class Ea extends Yt{constructor(){super();this._prelimContent=[],this._searchMarker=[]}static from(e){const r=new Ea;return r.push(e),r}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ea}clone(){const e=new Ea;return e.insert(0,this.toArray().map(r=>r instanceof Yt?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,r){super._callObserver(e,r),Ff(this,e,new kF(this,e))}insert(e,r){this.doc!==null?dt(this.doc,i=>{L1(i,this,e,r)}):this._prelimContent.splice(e,0,...r)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}delete(e,r=1){this.doc!==null?dt(this.doc,i=>{B1(i,this,e,r)}):this._prelimContent.splice(e,r)}get(e){return I1(this,e)}toArray(){return M1(this)}slice(e=0,r=this.length){return T1(this,e,r)}toJSON(){return this.map(e=>e instanceof Yt?e.toJSON():e)}map(e){return R1(this,e)}forEach(e){$f(this,e)}[Symbol.iterator](){return SF(this)}_write(e){e.writeTypeRef(KF)}}const CF=n=>new Ea;class xF extends Lf{constructor(e,r,i){super(e,r);this.keysChanged=i}}class Sa extends Yt{constructor(e){super();this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,r){super._integrate(e,r),this._prelimContent.forEach((i,o)=>{this.set(o,i)}),this._prelimContent=null}_copy(){return new Sa}clone(){const e=new Sa;return this.forEach((r,i)=>{e.set(i,r instanceof Yt?r.clone():r)}),e}_callObserver(e,r){Ff(this,e,new xF(this,e,r))}toJSON(){const e={};return this._map.forEach((r,i)=>{if(!r.deleted){const o=r.content.getContent()[r.length-1];e[i]=o instanceof Yt?o.toJSON():o}}),e}get size(){return[...Uf(this._map)].length}keys(){return Fg(Uf(this._map),e=>e[0])}values(){return Fg(Uf(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Fg(Uf(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){const r={};return this._map.forEach((i,o)=>{i.deleted||e(i.content.getContent()[i.length-1],o,this)}),r}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?dt(this.doc,r=>{zf(r,this,e)}):this._prelimContent.delete(e)}set(e,r){return this.doc!==null?dt(this.doc,i=>{tm(i,this,e,r)}):this._prelimContent.set(e,r),r}get(e){return nm(this,e)}has(e){return $1(this,e)}clear(){this.doc!==null?dt(this.doc,e=>{this.forEach(function(r,i,o){zf(e,o,i)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(GF)}}const AF=n=>new Sa,lo=(n,e)=>n===e||typeof n=="object"&&typeof e=="object"&&n&&e&&AB(n,e);class rm{constructor(e,r,i,o){this.left=e,this.right=r,this.index=i,this.currentAttributes=o}forward(){switch(this.right===null&&ir(),this.right.content.constructor){case Rt:this.right.deleted||ka(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const z1=(n,e,r)=>{for(;e.right!==null&&r>0;){switch(e.right.content.constructor){case Rt:e.right.deleted||ka(e.currentAttributes,e.right.content);break;default:e.right.deleted||(r<e.right.length&&Vn(n,$e(e.right.id.client,e.right.id.clock+r)),e.index+=e.right.length,r-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Hf=(n,e,r)=>{const i=new Map,o=Bf(e,r);if(o){const s=new rm(o.p.left,o.p,o.index,i);return z1(n,s,r-o.index)}else{const s=new rm(null,e._start,0,i);return z1(n,s,r)}},U1=(n,e,r,i)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===Rt&&lo(i.get(r.right.content.key),r.right.content.value));)r.right.deleted||i.delete(r.right.content.key),r.forward();const o=n.doc,s=o.clientID;i.forEach((a,l)=>{const c=r.left,u=r.right,f=new nt($e(s,Ct(o.store,s)),c,c&&c.lastId,u,u&&u.id,e,null,new Rt(l,a));f.integrate(n,0),r.right=f,r.forward()})},ka=(n,e)=>{const{key:r,value:i}=e;i===null?n.delete(r):n.set(r,i)},H1=(n,e)=>{for(;n.right!==null;){if(!(n.right.deleted||n.right.content.constructor===Rt&&lo(e[n.right.content.key]||null,n.right.content.value)))break;n.forward()}},V1=(n,e,r,i)=>{const o=n.doc,s=o.clientID,a=new Map;for(const l in i){const c=i[l],u=r.currentAttributes.get(l)||null;if(!lo(u,c)){a.set(l,u);const{left:f,right:d}=r;r.right=new nt($e(s,Ct(o.store,s)),f,f&&f.lastId,d,d&&d.id,e,null,new Rt(l,c)),r.right.integrate(n,0),r.forward()}}return a},im=(n,e,r,i,o)=>{r.currentAttributes.forEach((h,p)=>{o[p]===void 0&&(o[p]=null)});const s=n.doc,a=s.clientID;H1(r,o);const l=V1(n,e,r,o),c=i.constructor===String?new xr(i):i instanceof Yt?new Ar(i):new ps(i);let{left:u,right:f,index:d}=r;e._searchMarker&&ec(e._searchMarker,r.index,c.getLength()),f=new nt($e(a,Ct(s.store,a)),u,u&&u.lastId,f,f&&f.id,e,null,c),f.integrate(n,0),r.right=f,r.index=d,r.forward(),U1(n,e,r,l)},j1=(n,e,r,i,o)=>{const s=n.doc,a=s.clientID;H1(r,o);const l=V1(n,e,r,o);for(;i>0&&r.right!==null;){if(!r.right.deleted)switch(r.right.content.constructor){case Rt:{const{key:c,value:u}=r.right.content,f=o[c];f!==void 0&&(lo(f,u)?l.delete(c):l.set(c,u),r.right.delete(n));break}default:i<r.right.length&&Vn(n,$e(r.right.id.client,r.right.id.clock+i)),i-=r.right.length;break}r.forward()}if(i>0){let c="";for(;i>0;i--)c+=`
`;r.right=new nt($e(a,Ct(s.store,a)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,e,null,new xr(c)),r.right.integrate(n,0),r.forward()}U1(n,e,r,l)},q1=(n,e,r,i,o)=>{for(;r&&(!r.countable||r.deleted);)!r.deleted&&r.content.constructor===Rt&&ka(o,r.content),r=r.right;let s=0;for(;e!==r;){if(!e.deleted){const a=e.content;switch(a.constructor){case Rt:{const{key:l,value:c}=a;((o.get(l)||null)!==c||(i.get(l)||null)===c)&&(e.delete(n),s++);break}}}e=e.right}return s},OF=(n,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const r=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Rt){const i=e.content.key;r.has(i)?e.delete(n):r.add(i)}e=e.left}},DF=n=>{let e=0;return dt(n.doc,r=>{let i=n._start,o=n._start,s=kr();const a=bf(s);for(;o;){if(o.deleted===!1)switch(o.content.constructor){case Rt:ka(a,o.content);break;default:e+=q1(r,i,o,s,a),s=bf(a),i=o;break}o=o.right}}),e},W1=(n,e,r)=>{const i=r,o=bf(e.currentAttributes),s=e.right;for(;r>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Ar:case ps:case xr:r<e.right.length&&Vn(n,$e(e.right.id.client,e.right.id.clock+r)),r-=e.right.length,e.right.delete(n);break}e.forward()}s&&q1(n,s,e.right,o,bf(e.currentAttributes));const a=(e.left||e.right).parent;return a._searchMarker&&ec(a._searchMarker,e.index,-i+r),e};class TF extends Lf{constructor(e,r,i){super(e,r);this.childListChanged=!1,this.keysChanged=new Set,i.forEach(o=>{o===null?this.childListChanged=!0:this.keysChanged.add(o)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,r=[];dt(e,i=>{const o=new Map,s=new Map;let a=this.target._start,l=null;const c={};let u="",f=0,d=0;const h=()=>{if(l!==null){let p;switch(l){case"delete":p={delete:d},d=0;break;case"insert":p={insert:u},o.size>0&&(p.attributes={},o.forEach((g,v)=>{g!==null&&(p.attributes[v]=g)})),u="";break;case"retain":if(p={retain:f},Object.keys(c).length>0){p.attributes={};for(const g in c)p.attributes[g]=c[g]}f=0;break}r.push(p),l=null}};for(;a!==null;){switch(a.content.constructor){case Ar:case ps:this.adds(a)?this.deletes(a)||(h(),l="insert",u=a.content.getContent()[0],h()):this.deletes(a)?(l!=="delete"&&(h(),l="delete"),d+=1):a.deleted||(l!=="retain"&&(h(),l="retain"),f+=1);break;case xr:this.adds(a)?this.deletes(a)||(l!=="insert"&&(h(),l="insert"),u+=a.content.str):this.deletes(a)?(l!=="delete"&&(h(),l="delete"),d+=a.length):a.deleted||(l!=="retain"&&(h(),l="retain"),f+=a.length);break;case Rt:{const{key:p,value:g}=a.content;if(this.adds(a)){if(!this.deletes(a)){const v=o.get(p)||null;lo(v,g)?a.delete(i):(l==="retain"&&h(),lo(g,s.get(p)||null)?delete c[p]:c[p]=g)}}else if(this.deletes(a)){s.set(p,g);const v=o.get(p)||null;lo(v,g)||(l==="retain"&&h(),c[p]=v)}else if(!a.deleted){s.set(p,g);const v=c[p];v!==void 0&&(lo(v,g)?a.delete(i):(l==="retain"&&h(),g===null?delete c[p]:c[p]=g))}a.deleted||(l==="insert"&&h(),ka(o,a.content));break}}a=a.right}for(h();r.length>0;){const p=r[r.length-1];if(p.retain!==void 0&&p.attributes===void 0)r.pop();else break}}),this._delta=r}return this._delta}}class ds extends Yt{constructor(e){super();this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,r){super._integrate(e,r);try{this._pending.forEach(i=>i())}catch(i){console.error(i)}this._pending=null}_copy(){return new ds}clone(){const e=new ds;return e.applyDelta(this.toDelta()),e}_callObserver(e,r){super._callObserver(e,r);const i=new TF(this,e,r),o=e.doc;if(Ff(this,e,i),!e.local){let s=!1;for(const[a,l]of e.afterState.entries()){const c=e.beforeState.get(a)||0;if(l!==c&&(E1(e,o.store.clients.get(a),c,l,u=>{!u.deleted&&u.content.constructor===Rt&&(s=!0)}),s))break}s||Ti(e,e.deleteSet,a=>{a instanceof sr||s||a.parent===this&&a.content.constructor===Rt&&(s=!0)}),dt(o,a=>{s?DF(this):Ti(a,a.deleteSet,l=>{l instanceof sr||l.parent===this&&OF(a,l)})})}}toString(){let e="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===xr&&(e+=r.content.str),r=r.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:r=!0}={}){this.doc!==null?dt(this.doc,i=>{const o=new rm(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const a=e[s];if(a.insert!==void 0){const l=!r&&typeof a.insert=="string"&&s===e.length-1&&o.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof l!="string"||l.length>0)&&im(i,this,o,l,a.attributes||{})}else a.retain!==void 0?j1(i,this,o,a.retain,a.attributes||{}):a.delete!==void 0&&W1(i,o,a.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,r,i){const o=[],s=new Map,a=this.doc;let l="",c=this._start;function u(){if(l.length>0){const f={};let d=!1;s.forEach((p,g)=>{d=!0,f[g]=p});const h={insert:l};d&&(h.attributes=f),o.push(h),l=""}}return dt(a,f=>{for(e&&Nf(f,e),r&&Nf(f,r);c!==null;){if(wa(c,e)||r!==void 0&&wa(c,r))switch(c.content.constructor){case xr:{const d=s.get("ychange");e!==void 0&&!wa(c,e)?(d===void 0||d.user!==c.id.client||d.state!=="removed")&&(u(),s.set("ychange",i?i("removed",c.id):{type:"removed"})):r!==void 0&&!wa(c,r)?(d===void 0||d.user!==c.id.client||d.state!=="added")&&(u(),s.set("ychange",i?i("added",c.id):{type:"added"})):d!==void 0&&(u(),s.delete("ychange")),l+=c.content.str;break}case Ar:case ps:{u();const d={insert:c.content.getContent()[0]};if(s.size>0){const h={};d.attributes=h,s.forEach((p,g)=>{h[g]=p})}o.push(d);break}case Rt:wa(c,e)&&(u(),ka(s,c.content));break}c=c.right}u()},Nf),o}insert(e,r,i){if(r.length<=0)return;const o=this.doc;o!==null?dt(o,s=>{const a=Hf(s,this,e);i||(i={},a.currentAttributes.forEach((l,c)=>{i[c]=l})),im(s,this,a,r,i)}):this._pending.push(()=>this.insert(e,r,i))}insertEmbed(e,r,i={}){const o=this.doc;o!==null?dt(o,s=>{const a=Hf(s,this,e);im(s,this,a,r,i)}):this._pending.push(()=>this.insertEmbed(e,r,i))}delete(e,r){if(r===0)return;const i=this.doc;i!==null?dt(i,o=>{W1(o,Hf(o,this,e),r)}):this._pending.push(()=>this.delete(e,r))}format(e,r,i){if(r===0)return;const o=this.doc;o!==null?dt(o,s=>{const a=Hf(s,this,e);a.right!==null&&j1(s,this,a,r,i)}):this._pending.push(()=>this.format(e,r,i))}removeAttribute(e){this.doc!==null?dt(this.doc,r=>{zf(r,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,r){this.doc!==null?dt(this.doc,i=>{tm(i,this,e,r)}):this._pending.push(()=>this.setAttribute(e,r))}getAttribute(e){return nm(this,e)}getAttributes(e){return F1(this)}_write(e){e.writeTypeRef(YF)}}const MF=n=>new ds;class om{constructor(e,r=()=>!0){this._filter=r,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,r=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(r)))do if(r=e.content.type,!e.deleted&&(r.constructor===xn||r.constructor===hs)&&r._start!==null)e=r._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class hs extends Yt{constructor(){super();this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new hs}clone(){const e=new hs;return e.insert(0,this.toArray().map(r=>r instanceof Yt?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new om(this,e)}querySelector(e){e=e.toUpperCase();const i=new om(this,o=>o.nodeName&&o.nodeName.toUpperCase()===e).next();return i.done?null:i.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new om(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e))}_callObserver(e,r){Ff(this,e,new IF(this,r,e))}toString(){return R1(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,r={},i){const o=e.createDocumentFragment();return i!==void 0&&i._createAssociation(o,this),$f(this,s=>{o.insertBefore(s.toDOM(e,r,i),null)}),o}insert(e,r){this.doc!==null?dt(this.doc,i=>{L1(i,this,e,r)}):this._prelimContent.splice(e,0,...r)}insertAfter(e,r){if(this.doc!==null)dt(this.doc,i=>{const o=e&&e instanceof Yt?e._item:e;em(i,this,o,r)});else{const i=this._prelimContent,o=e===null?0:i.findIndex(s=>s===e)+1;if(o===0&&e!==null)throw us("Reference item not found");i.splice(o,0,...r)}}delete(e,r=1){this.doc!==null?dt(this.doc,i=>{B1(i,this,e,r)}):this._prelimContent.splice(e,r)}toArray(){return M1(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return I1(this,e)}slice(e=0,r=this.length){return T1(this,e,r)}_write(e){e.writeTypeRef(XF)}}const NF=n=>new hs;class xn extends hs{constructor(e="UNDEFINED"){super();this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,r){super._integrate(e,r),this._prelimAttrs.forEach((i,o)=>{this.setAttribute(o,i)}),this._prelimAttrs=null}_copy(){return new xn(this.nodeName)}clone(){const e=new xn(this.nodeName),r=this.getAttributes();for(const i in r)e.setAttribute(i,r[i]);return e.insert(0,this.toArray().map(i=>i instanceof Yt?i.clone():i)),e}toString(){const e=this.getAttributes(),r=[],i=[];for(const l in e)i.push(l);i.sort();const o=i.length;for(let l=0;l<o;l++){const c=i[l];r.push(c+'="'+e[c]+'"')}const s=this.nodeName.toLocaleLowerCase(),a=r.length>0?" "+r.join(" "):"";return`<${s}${a}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?dt(this.doc,r=>{zf(r,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,r){this.doc!==null?dt(this.doc,i=>{tm(i,this,e,r)}):this._prelimAttrs.set(e,r)}getAttribute(e){return nm(this,e)}hasAttribute(e){return $1(this,e)}getAttributes(e){return F1(this)}toDOM(e=document,r={},i){const o=e.createElement(this.nodeName),s=this.getAttributes();for(const a in s)o.setAttribute(a,s[a]);return $f(this,a=>{o.appendChild(a.toDOM(e,r,i))}),i!==void 0&&i._createAssociation(o,this),o}_write(e){e.writeTypeRef(JF),e.writeKey(this.nodeName)}}const RF=n=>new xn(n.readKey());class IF extends Lf{constructor(e,r,i){super(e,i);this.childListChanged=!1,this.attributesChanged=new Set,r.forEach(o=>{o===null?this.childListChanged=!0:this.attributesChanged.add(o)})}}class Vf extends Sa{constructor(e){super();this.hookName=e}_copy(){return new Vf(this.hookName)}clone(){const e=new Vf(this.hookName);return this.forEach((r,i)=>{e.set(i,r)}),e}toDOM(e=document,r={},i){const o=r[this.hookName];let s;return o!==void 0?s=o.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),i!==void 0&&i._createAssociation(s,this),s}_write(e){e.writeTypeRef(ZF),e.writeKey(this.hookName)}}const PF=n=>new Vf(n.readKey());class or extends ds{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new or}clone(){const e=new or;return e.applyDelta(this.toDelta()),e}toDOM(e=document,r,i){const o=e.createTextNode(this.toString());return i!==void 0&&i._createAssociation(o,this),o}toString(){return this.toDelta().map(e=>{const r=[];for(const o in e.attributes){const s=[];for(const a in e.attributes[o])s.push({key:a,value:e.attributes[o][a]});s.sort((a,l)=>a.key<l.key?-1:1),r.push({nodeName:o,attrs:s})}r.sort((o,s)=>o.nodeName<s.nodeName?-1:1);let i="";for(let o=0;o<r.length;o++){const s=r[o];i+=`<${s.nodeName}`;for(let a=0;a<s.attrs.length;a++){const l=s.attrs[a];i+=` ${l.key}="${l.value}"`}i+=">"}i+=e.insert;for(let o=r.length-1;o>=0;o--)i+=`</${r[o].nodeName}>`;return i}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(QF)}}const LF=n=>new or;class sm{constructor(e,r){this.id=e,this.length=r}get deleted(){throw Cr()}mergeWith(e){return!1}write(e,r,i){throw Cr()}integrate(e,r){throw Cr()}}const BF=0;class sr extends sm{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){r>0&&(this.id.clock+=r,this.length-=r),_1(e.doc.store,this)}write(e,r){e.writeInfo(BF),e.writeLen(this.length-r)}getMissing(e,r){return null}}class tc{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new tc(this.content)}splice(e){throw Cr()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeBuf(this.content)}getRef(){return 3}}const FF=n=>new tc(n.readBuf());class nc{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new nc(this.len)}splice(e){const r=new nc(this.len-e);return this.len=e,r}mergeWith(e){return this.len+=e.len,!0}integrate(e,r){Wl(e.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(e){}gc(e){}write(e,r){e.writeLen(this.len-r)}getRef(){return 1}}const $F=n=>new nc(n.readLen());class rc{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const r={};this.opts=r,e.gc||(r.gc=!1),e.autoLoad&&(r.autoLoad=!0),e.meta!==null&&(r.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new rc(this.doc)}splice(e){throw Cr()}mergeWith(e){return!1}integrate(e,r){this.doc._item=r,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,r){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const zF=n=>new rc(new Kl(ce({guid:n.readString()},n.readAny())));class ps{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ps(this.embed)}splice(e){throw Cr()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeJSON(this.embed)}getRef(){return 5}}const UF=n=>new ps(n.readJSON());class Rt{constructor(e,r){this.key=e,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Rt(this.key,this.value)}splice(e){throw Cr()}mergeWith(e){return!1}integrate(e,r){r.parent._searchMarker=null}delete(e){}gc(e){}write(e,r){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const HF=n=>new Rt(n.readString(),n.readJSON());class jf{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new jf(this.arr)}splice(e){const r=new jf(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const i=this.arr.length;e.writeLen(i-r);for(let o=r;o<i;o++){const s=this.arr[o];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const VF=n=>{const e=n.readLen(),r=[];for(let i=0;i<e;i++){const o=n.readString();o==="undefined"?r.push(void 0):r.push(JSON.parse(o))}return new jf(r)};class gs{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new gs(this.arr)}splice(e){const r=new gs(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const i=this.arr.length;e.writeLen(i-r);for(let o=r;o<i;o++){const s=this.arr[o];e.writeAny(s)}}getRef(){return 8}}const jF=n=>{const e=n.readLen(),r=[];for(let i=0;i<e;i++)r.push(n.readAny());return new gs(r)};class xr{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new xr(this.str)}splice(e){const r=new xr(this.str.slice(e));this.str=this.str.slice(0,e);const i=this.str.charCodeAt(e-1);return i>=55296&&i<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",r.str="\uFFFD"+r.str.slice(1)),r}mergeWith(e){return this.str+=e.str,!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}}const qF=n=>new xr(n.readString()),WF=[CF,AF,MF,RF,NF,PF,LF],KF=0,GF=1,YF=2,JF=3,XF=4,ZF=5,QF=6;class Ar{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Ar(this.type._copy())}splice(e){throw Cr()}mergeWith(e){return!1}integrate(e,r){this.type._integrate(e.doc,r)}delete(e){let r=this.type._start;for(;r!==null;)r.deleted?e._mergeStructs.push(r):r.delete(e),r=r.right;this.type._map.forEach(i=>{i.deleted?e._mergeStructs.push(i):i.delete(e)}),e.changed.delete(this.type)}gc(e){let r=this.type._start;for(;r!==null;)r.gc(e,!0),r=r.right;this.type._start=null,this.type._map.forEach(i=>{for(;i!==null;)i.gc(e,!0),i=i.left}),this.type._map=new Map}write(e,r){this.type._write(e)}getRef(){return 7}}const e$=n=>new Ar(WF[n.readTypeRef()](n)),am=(n,e)=>{let r=e,i=0,o;do i>0&&(r=$e(r.client,r.clock+i)),o=Rf(n,r),i=r.clock-o.id.clock,r=o.redone;while(r!==null&&o instanceof nt);return{item:o,diff:i}},lm=(n,e)=>{for(;n!==null&&n.keep!==e;)n.keep=e,n=n.parent._item},qf=(n,e,r)=>{const{client:i,clock:o}=e.id,s=new nt($e(i,o+r),e,$e(i,o+r-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(r));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=$e(e.redone.client,e.redone.clock+r)),e.right=s,s.right!==null&&(s.right.left=s),n._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=r,s},K1=(n,e,r,i)=>{const o=n.doc,s=o.store,a=o.clientID,l=e.redone;if(l!==null)return Vn(n,l);let c=e.parent._item,u,f;if(e.parentSub===null)u=e.left,f=e;else{for(u=e;u.right!==null;)if(u=u.right,u.id.client!==a)return null;u.right!==null&&(u=e.parent._map.get(e.parentSub)),f=null}if(c!==null&&c.deleted===!0&&c.redone===null&&(!r.has(c)||K1(n,c,r,i)===null))return null;if(c!==null&&c.redone!==null){for(;c.redone!==null;)c=Vn(n,c.redone);for(;u!==null;){let g=u;for(;g!==null&&g.parent._item!==c;)g=g.redone===null?null:Vn(n,g.redone);if(g!==null&&g.parent._item===c){u=g;break}u=u.left}for(;f!==null;){let g=f;for(;g!==null&&g.parent._item!==c;)g=g.redone===null?null:Vn(n,g.redone);if(g!==null&&g.parent._item===c){f=g;break}f=f.right}for(;u!==null&&u.right!==null&&u.right!==f&&i.findIndex(g=>g===u.right)>=0;)u=u.right}const d=Ct(s,a),h=$e(a,d),p=new nt(h,u,u&&u.lastId,f,f&&f.id,c===null?e.parent:c.content.type,e.parentSub,e.content.copy());return e.redone=h,lm(p,!0),p.integrate(n,0),p};class nt extends sm{constructor(e,r,i,o,s,a,l,c){super(e,c.getLength());this.origin=i,this.left=r,this.right=o,this.rightOrigin=s,this.parent=a,this.parentSub=l,this.redone=null,this.content=c,this.info=this.content.isCountable()?FE:0}set marker(e){(this.info&Sg)>0!==e&&(this.info^=Sg)}get marker(){return(this.info&Sg)>0}get keep(){return(this.info&BE)>0}set keep(e){this.keep!==e&&(this.info^=BE)}get countable(){return(this.info&FE)>0}get deleted(){return(this.info&Eg)>0}set deleted(e){this.deleted!==e&&(this.info^=Eg)}markDeleted(){this.info|=Eg}getMissing(e,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Ct(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Ct(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ba&&this.id.client!==this.parent.client&&this.parent.clock>=Ct(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=w1(e,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Vn(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===sr||this.right&&this.right.constructor===sr)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===nt&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===nt&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ba){const i=Rf(r,this.parent);i.constructor===sr?this.parent=null:this.parent=i.content.type}return null}integrate(e,r){if(r>0&&(this.id.clock+=r,this.left=w1(e,e.doc.store,$e(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let i=this.left,o;if(i!==null)o=i.right;else if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start;const s=new Set,a=new Set;for(;o!==null&&o!==this.right;){if(a.add(o),s.add(o),_a(this.origin,o.origin)){if(o.id.client<this.id.client)i=o,s.clear();else if(_a(this.rightOrigin,o.rightOrigin))break}else if(o.origin!==null&&a.has(Rf(e.doc.store,o.origin)))s.has(Rf(e.doc.store,o.origin))||(i=o,s.clear());else break;o=o.right}this.left=i}if(this.left!==null){const i=this.left.right;this.right=i,this.left.right=this}else{let i;if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start,this.parent._start=this;this.right=i}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),_1(e.doc.store,this),this.content.integrate(e,this),k1(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new sr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:$e(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&_a(e.origin,this.lastId)&&this.right===e&&_a(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const r=this.parent._searchMarker;return r&&r.forEach(i=>{i.p===e&&(i.p=this,!this.deleted&&this.countable&&(i.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),Wl(e.deleteSet,this.id.client,this.id.clock,this.length),k1(e,r,this.parentSub),this.content.delete(e)}}gc(e,r){if(!this.deleted)throw ir();this.content.gc(e),r?aF(e,this,new sr(this.id,this.length)):this.content=new nc(this.length)}write(e,r){const i=r>0?$e(this.id.client,this.id.clock+r-1):this.origin,o=this.rightOrigin,s=this.parentSub,a=this.content.getRef()&wf|(i===null?0:Un)|(o===null?0:xi)|(s===null?0:Ul);if(e.writeInfo(a),i!==null&&e.writeLeftID(i),o!==null&&e.writeRightID(o),i===null&&o===null){const l=this.parent;if(l._item!==void 0){const c=l._item;if(c===null){const u=Yl(l);e.writeParentInfo(!0),e.writeString(u)}else e.writeParentInfo(!1),e.writeLeftID(c.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===ba?(e.writeParentInfo(!1),e.writeLeftID(l)):ir();s!==null&&e.writeString(s)}this.content.write(e,r)}}const G1=(n,e)=>t$[e&wf](n),t$=[()=>{ir()},$F,VF,FF,qF,UF,HF,e$,jF,zF,()=>{ir()}],n$=10;class ar extends sm{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){ir()}write(e,r){e.writeInfo(n$),Te(e.restEncoder,this.length-r)}getMissing(e,r){return null}}const Y1=typeof window!="undefined"?window:typeof global!="undefined"?global:{},J1="__ $YJS$ __";Y1[J1]===!0&&console.warn("Yjs was already imported. Importing different versions of Yjs often leads to issues.");Y1[J1]=!0;const cm=n=>new Promise(n),r$=n=>Promise.reject(n),um=n=>Promise.resolve(n),ms=n=>cm((e,r)=>{n.onerror=i=>r(new Error(i.target.error)),n.onblocked=()=>location.reload(),n.onsuccess=i=>e(i.target.result)}),i$=(n,e)=>cm((r,i)=>{const o=indexedDB.open(n);o.onupgradeneeded=s=>e(s.target.result),o.onerror=s=>i(us(s.target.error)),o.onblocked=()=>location.reload(),o.onsuccess=s=>{const a=s.target.result;a.onversionchange=()=>{a.close()},typeof addEventListener!="undefined"&&addEventListener("unload",()=>a.close()),r(a)}}),o$=n=>ms(indexedDB.deleteDatabase(n)),s$=(n,e)=>e.forEach(r=>n.createObjectStore.apply(n,r)),ic=(n,e,r="readwrite")=>{const i=n.transaction(e,r);return e.map(o=>p$(i,o))},X1=(n,e)=>ms(n.count(e)),a$=(n,e)=>ms(n.get(e)),Z1=(n,e)=>ms(n.delete(e)),l$=(n,e,r)=>ms(n.put(e,r)),fm=(n,e)=>ms(n.add(e)),c$=(n,e)=>ms(n.getAll(e)),u$=(n,e,r)=>{let i=null;return h$(n,e,o=>(i=o,!1),r).then(()=>i)},f$=n=>u$(n,null,"prev"),d$=(n,e)=>cm((r,i)=>{n.onerror=i,n.onsuccess=o=>{const s=o.target.result;if(s===null||e(s)===!1)return r();s.continue()}}),h$=(n,e,r,i="next")=>d$(n.openKeyCursor(e,i),o=>r(o.key)),p$=(n,e)=>n.objectStore(e),g$=(n,e)=>IDBKeyRange.upperBound(n,e),m$=(n,e)=>IDBKeyRange.lowerBound(n,e),dm=()=>{let n=!0;return(e,r)=>{if(n){n=!1;try{e()}finally{n=!0}}else r!==void 0&&r()}},hm="custom",Q1="updates",eS=500,tS=n=>{const[e]=ic(n.db,[Q1]);return c$(e,m$(n._dbref,!1)).then(r=>n._mux(()=>n.doc.transact(()=>r.forEach(i=>qg(n.doc,i))))).then(()=>f$(e).then(r=>{n._dbref=r+1})).then(()=>X1(e).then(r=>{n._dbsize=r})).then(()=>e)},v$=(n,e=!0)=>tS(n).then(r=>{(e||n._dbsize>=eS)&&fm(r,Tf(n.doc)).then(()=>Z1(r,g$(n._dbref,!0))).then(()=>X1(r).then(i=>{n._dbsize=i}))});class bne extends ha{constructor(e,r){super();this.doc=r,this.name=e,this._mux=dm(),this._dbref=0,this._dbsize=0,this.db=null,this.synced=!1,this._db=i$(e,i=>s$(i,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=this._db.then(i=>{this.db=i;const o=Tf(r);return tS(this).then(s=>fm(s,o)).then(()=>(this.emit("synced",[this]),this.synced=!0,this))}),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=i=>this._mux(()=>{if(this.db){const[o]=ic(this.db,[Q1]);fm(o,i),++this._dbsize>=eS&&(this._storeTimeoutId!==null&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{v$(this,!1),this._storeTimeoutId=null},this._storeTimeout))}}),r.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),r.on("destroy",this.destroy)}destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._db.then(e=>{e.close()})}clearData(){return this.destroy().then(()=>{o$(this.name)})}get(e){return this._db.then(r=>{const[i]=ic(r,[hm],"readonly");return a$(i,e)})}set(e,r){return this._db.then(i=>{const[o]=ic(i,[hm]);return l$(o,r,e)})}del(e){return this._db.then(r=>{const[i]=ic(r,[hm]);return Z1(i,e)})}}function y$(n){return n||(n={}),{delay:n.delay===void 0?200:n.delay,initialDelay:n.initialDelay===void 0?0:n.initialDelay,minDelay:n.minDelay===void 0?0:n.minDelay,maxDelay:n.maxDelay===void 0?0:n.maxDelay,factor:n.factor===void 0?0:n.factor,maxAttempts:n.maxAttempts===void 0?3:n.maxAttempts,timeout:n.timeout===void 0?0:n.timeout,jitter:n.jitter===!0,handleError:n.handleError===void 0?null:n.handleError,handleTimeout:n.handleTimeout===void 0?null:n.handleTimeout,beforeAttempt:n.beforeAttempt===void 0?null:n.beforeAttempt,calculateDelay:n.calculateDelay===void 0?null:n.calculateDelay}}async function nS(n){return new Promise((e,r)=>{setTimeout(e,n)})}function b$(n,e){let r=e.delay;if(r===0)return 0;if(e.factor&&(r*=Math.pow(e.factor,n.attemptNum-1),e.maxDelay!==0&&(r=Math.min(r,e.maxDelay))),e.jitter){const i=Math.ceil(e.minDelay),o=Math.floor(r);r=Math.floor(Math.random()*(o-i+1))+i}return Math.round(r)}async function _$(n,e){const r=y$(e);for(const l of["delay","initialDelay","minDelay","maxDelay","maxAttempts","timeout"]){const c=r[l];if(!Number.isInteger(c)||c<0)throw new Error(`Value for ${l} must be an integer greater than or equal to 0`)}if(r.factor.constructor!==Number||r.factor<0)throw new Error("Value for factor must be a number greater than or equal to 0");if(r.delay<r.minDelay)throw new Error(`delay cannot be less than minDelay (delay: ${r.delay}, minDelay: ${r.minDelay}`);const i={attemptNum:0,attemptsRemaining:r.maxAttempts?r.maxAttempts:-1,aborted:!1,abort(){i.aborted=!0}},o=r.calculateDelay||b$;async function s(){if(r.beforeAttempt&&r.beforeAttempt(i,r),i.aborted){const c=new Error("Attempt aborted");throw c.code="ATTEMPT_ABORTED",c}const l=async c=>{if(r.handleError&&r.handleError(c,i,r),i.aborted||i.attemptsRemaining===0)throw c;i.attemptNum++;const u=o(i,r);return u&&await nS(u),s()};return i.attemptsRemaining>0&&i.attemptsRemaining--,r.timeout?new Promise((c,u)=>{const f=setTimeout(()=>{if(r.handleTimeout)c(r.handleTimeout(i,r));else{const d=new Error(`Retry timeout (attemptNum: ${i.attemptNum}, timeout: ${r.timeout})`);d.code="ATTEMPT_TIMEOUT",u(d)}},r.timeout);n(i,r).then(d=>{clearTimeout(f),c(d)}).catch(d=>{clearTimeout(f),c(l(d))})}):n(i,r).catch(l)}const a=r.calculateDelay?r.calculateDelay(i,r):r.initialDelay;return a&&await nS(a),s()}const Ca=()=>new Map,rS=(n,e,r)=>{let i=n.get(e);return i===void 0&&n.set(e,i=r()),i},w$=String.fromCharCode,E$=n=>n.toLowerCase(),S$=/^\s*/g,k$=n=>n.replace(S$,""),C$=/([A-Z])/g,iS=(n,e)=>k$(n.replace(C$,r=>`${e}${E$(r)}`));typeof TextEncoder!="undefined"&&new TextEncoder;let pm=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});pm&&pm.decode(new Uint8Array).length===1&&(pm=null);const oS=n=>n===void 0?null:n;class x${constructor(){this.map=new Map}setItem(e,r){this.map.set(e,r)}getItem(e){return this.map.get(e)}}let sS=new x$,aS=!0;try{typeof localStorage!="undefined"&&(sS=localStorage,aS=!1)}catch(n){}const lS=sS,A$=n=>aS||addEventListener("storage",n),gm=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name),cS=typeof window!="undefined"&&!gm;typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let Qr;const O$=()=>{if(Qr===void 0)if(gm){Qr=Ca();const n=process.argv;let e=null;for(let r=0;r<n.length;r++){const i=n[r];i[0]==="-"?(e!==null&&Qr.set(e,""),e=i):e!==null&&(Qr.set(e,i),e=null)}e!==null&&Qr.set(e,"")}else typeof location=="object"?(Qr=Ca(),(location.search||"?").slice(1).split("&").forEach(n=>{if(n.length!==0){const[e,r]=n.split("=");Qr.set(`--${iS(e,"-")}`,r),Qr.set(`-${iS(e,"-")}`,r)}})):Qr=Ca();return Qr},D$=n=>O$().has(n),T$=n=>oS(gm?process.env[n.toUpperCase()]:lS.getItem(n)),M$=n=>D$("--"+n)||T$(n)!==null;M$("production");const N$=Math.floor,R$=(n,e)=>n<e?n:e,I$=(n,e)=>n>e?n:e,uS=128,Wf=127;class P${constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const mm=()=>new P$,fS=n=>{let e=n.cpos;for(let r=0;r<n.bufs.length;r++)e+=n.bufs[r].length;return e},vm=n=>{const e=new Uint8Array(fS(n));let r=0;for(let i=0;i<n.bufs.length;i++){const o=n.bufs[i];e.set(o,r),r+=o.length}return e.set(mS(n.cbuf.buffer,0,n.cpos),r),e},ym=(n,e)=>{const r=n.cbuf.length;n.cpos===r&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(r*2),n.cpos=0),n.cbuf[n.cpos++]=e},rn=(n,e)=>{for(;e>Wf;)ym(n,uS|Wf&e),e>>>=7;ym(n,Wf&e)},dS=(n,e)=>{const r=unescape(encodeURIComponent(e)),i=r.length;rn(n,i);for(let o=0;o<i;o++)ym(n,r.codePointAt(o))},L$=(n,e)=>{const r=n.cbuf.length,i=n.cpos,o=R$(r-i,e.length),s=e.length-o;n.cbuf.set(e.subarray(0,o),i),n.cpos+=o,s>0&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(I$(r*2,s)),n.cbuf.set(e.subarray(o)),n.cpos=s)},oc=(n,e)=>{rn(n,e.byteLength),L$(n,e)};class B${constructor(e){this.arr=e,this.pos=0}}const hS=n=>new B$(n),F$=(n,e)=>{const r=mS(n.arr.buffer,n.pos+n.arr.byteOffset,e);return n.pos+=e,r},bm=n=>F$(n,co(n)),pS=n=>n.arr[n.pos++],co=n=>{let e=0,r=0;for(;;){const i=n.arr[n.pos++];if(e=e|(i&Wf)<<r,r+=7,i<uS)return e>>>0;if(r>35)throw new Error("Integer out of range!")}},gS=n=>{let e=co(n);if(e===0)return"";{let r=String.fromCodePoint(pS(n));if(--e<100)for(;e--;)r+=String.fromCodePoint(pS(n));else for(;e>0;){const i=e<1e4?e:1e4,o=n.arr.subarray(n.pos,n.pos+i);n.pos+=i,r+=String.fromCodePoint.apply(null,o),e-=i}return decodeURIComponent(escape(r))}},$$=n=>new Uint8Array(n),mS=(n,e,r)=>new Uint8Array(n,e,r),z$=n=>new Uint8Array(n),U$=n=>{let e="";for(let r=0;r<n.byteLength;r++)e+=w$(n[r]);return btoa(e)},H$=n=>Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("base64"),V$=n=>{const e=atob(n),r=$$(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r},j$=n=>{const e=Buffer.from(n,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},q$=cS?U$:H$,W$=cS?V$:j$,K$=new Map;class G${constructor(e){this.room=e,this.onmessage=null,A$(r=>r.key===e&&this.onmessage!==null&&this.onmessage({data:W$(r.newValue||"")}))}postMessage(e){lS.setItem(this.room,q$(z$(e)))}}const Y$=typeof BroadcastChannel=="undefined"?G$:BroadcastChannel,_m=n=>rS(K$,n,()=>{const e=new Set,r=new Y$(n);return r.onmessage=i=>e.forEach(o=>o(i.data)),{bc:r,subs:e}}),J$=(n,e)=>_m(n).subs.add(e),X$=(n,e)=>_m(n).subs.delete(e),Z$=(n,e)=>{const r=_m(n);r.bc.postMessage(e),r.subs.forEach(i=>i(e))},xa=Date.now,Q$=()=>new Set,e3=Array.from;class t3{constructor(){this._observers=Ca()}on(e,r){rS(this._observers,e,Q$).add(r)}once(e,r){const i=(...o)=>{this.off(e,i),r(...o)};this.on(e,i)}off(e,r){const i=this._observers.get(e);i!==void 0&&(i.delete(r),i.size===0&&this._observers.delete(e))}emit(e,r){return e3((this._observers.get(e)||Ca()).values()).forEach(i=>i(...r))}destroy(){this._observers=Ca()}}const n3=Object.keys,r3=(n,e)=>{const r=[];for(const i in n)r.push(e(n[i],i));return r},vS=n=>n3(n).length,i3=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),o3=(n,e)=>n===e,sc=(n,e)=>{if(n==null||e==null)return o3(n,e);if(n.constructor!==e.constructor)return!1;if(n===e)return!0;switch(n.constructor){case ArrayBuffer:n=new Uint8Array(n),e=new Uint8Array(e);case Uint8Array:{if(n.byteLength!==e.byteLength)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;break}case Set:{if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;break}case Map:{if(n.size!==e.size)return!1;for(const r of n.keys())if(!e.has(r)||!sc(n.get(r),e.get(r)))return!1;break}case Object:if(vS(n)!==vS(e))return!1;for(const r in n)if(!i3(n,r)||!sc(n[r],e[r]))return!1;break;case Array:if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(!sc(n[r],e[r]))return!1;break;default:return!1}return!0},wm=3e4;class s3 extends t3{constructor(e){super();this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const r=xa();this.getLocalState()!==null&&wm/2<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const i=[];this.meta.forEach((o,s)=>{s!==this.clientID&&wm<=r-o.lastUpdated&&this.states.has(s)&&i.push(s)}),i.length>0&&Kf(this,i,"timeout")},N$(wm/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const r=this.clientID,i=this.meta.get(r),o=i===void 0?0:i.clock+1,s=this.states.get(r);e===null?this.states.delete(r):this.states.set(r,e),this.meta.set(r,{clock:o,lastUpdated:xa()});const a=[],l=[],c=[],u=[];e===null?u.push(r):s==null?e!=null&&a.push(r):(l.push(r),sc(s,e)||c.push(r)),(a.length>0||c.length>0||u.length>0)&&this.emit("change",[{added:a,updated:c,removed:u},"local"]),this.emit("update",[{added:a,updated:l,removed:u},"local"])}setLocalStateField(e,r){const i=this.getLocalState();i!==null&&this.setLocalState(Bt(ce({},i),{[e]:r}))}getStates(){return this.states}}const Kf=(n,e,r)=>{const i=[];for(let o=0;o<e.length;o++){const s=e[o];if(n.states.has(s)){if(n.states.delete(s),s===n.clientID){const a=n.meta.get(s);n.meta.set(s,{clock:a.clock+1,lastUpdated:xa()})}i.push(s)}}i.length>0&&(n.emit("change",[{added:[],updated:[],removed:i},r]),n.emit("update",[{added:[],updated:[],removed:i},r]))},Em=(n,e,r=n.states)=>{const i=e.length,o=mm();rn(o,i);for(let s=0;s<i;s++){const a=e[s],l=r.get(a)||null,c=n.meta.get(a).clock;rn(o,a),rn(o,c),dS(o,JSON.stringify(l))}return vm(o)},a3=(n,e,r)=>{const i=hS(e),o=xa(),s=[],a=[],l=[],c=[],u=co(i);for(let f=0;f<u;f++){const d=co(i);let h=co(i);const p=JSON.parse(gS(i)),g=n.meta.get(d),v=n.states.get(d),w=g===void 0?0:g.clock;(w<h||w===h&&p===null&&n.states.has(d))&&(p===null?d===n.clientID&&n.getLocalState()!=null?h++:n.states.delete(d):n.states.set(d,p),n.meta.set(d,{clock:h,lastUpdated:o}),g===void 0&&p!==null?s.push(d):g!==void 0&&p===null?c.push(d):p!==null&&(sc(p,v)||l.push(d),a.push(d)))}(s.length>0||l.length>0||c.length>0)&&n.emit("change",[{added:s,updated:l,removed:c},r]),(s.length>0||a.length>0||c.length>0)&&n.emit("update",[{added:s,updated:a,removed:c},r])},l3=()=>{let n=!0;return(e,r)=>{if(n){n=!1;try{e()}finally{n=!0}}else r!==void 0&&r()}},c3=n=>r3(n,(e,r)=>`${encodeURIComponent(r)}=${encodeURIComponent(e)}`).join("&");class u3{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const i=this.callbacks[e];return i&&i.forEach(o=>o.apply(this,r)),this}off(e,r){const i=this.callbacks[e];return i&&(r?this.callbacks[e]=i.filter(o=>o!==r):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}class yS{constructor(e){this.data=e,this.encoder=mm(),this.decoder=hS(new Uint8Array(this.data))}readVarUint(){return co(this.decoder)}readVarUint8Array(){return bm(this.decoder)}writeVarUint(e){return rn(this.encoder,e)}writeVarUint8Array(e){return oc(this.encoder,e)}length(){return fS(this.encoder)}}const bS=0,Sm=1,_S=2,f3=(n,e)=>{rn(n,bS);const r=h1(e);oc(n,r)},wS=(n,e,r)=>{rn(n,Sm),oc(n,Tf(e,r))},d3=(n,e,r)=>wS(e,r,bm(n)),ES=(n,e,r)=>{try{qg(e,bm(n),r)}catch(i){console.error("Caught error while handling a Yjs update",i)}},h3=(n,e)=>{rn(n,_S),oc(n,e)},p3=ES,g3=(n,e,r,i)=>{const o=co(n);switch(o){case bS:d3(n,e,r);break;case Sm:ES(n,r,i);break;case _S:p3(n,r,i);break;default:throw new Error("Unknown message type")}return o};var An;(function(n){n[n.Sync=0]="Sync",n[n.Awareness=1]="Awareness",n[n.Auth=2]="Auth",n[n.QueryAwareness=3]="QueryAwareness"})(An||(An={}));var ac;(function(n){n[n.Token=0]="Token",n[n.PermissionDenied=1]="PermissionDenied",n[n.Authenticated=2]="Authenticated"})(ac||(ac={}));const m3=(n,e)=>{rn(n,ac.Token),dS(n,e)},v3=(n,e,r)=>{switch(co(n)){case ac.PermissionDenied:{e(gS(n));break}case ac.Authenticated:{r();break}}};class uo{constructor(){this.encoder=mm()}get(e){return e.encoder}toUint8Array(){return vm(this.encoder)}}class SS{constructor(e){this.broadcasted=!1,this.message=e}setBroadcasted(e){return this.broadcasted=e,this}apply(e,r=!0){const{message:i}=this,o=i.readVarUint();switch(o){case An.Sync:this.applySyncMessage(e,r);break;case An.Awareness:this.applyAwarenessMessage(e);break;case An.Auth:this.applyAuthMessage(e);break;case An.QueryAwareness:this.applyQueryAwarenessMessage(e);break;default:throw new Error(`Can\u2019t apply message of unknown type: ${o}`)}i.length()>1&&(this.broadcasted?e.broadcast(uo,{encoder:i.encoder}):e.send(uo,{encoder:i.encoder}))}applySyncMessage(e,r){const{message:i}=this;i.writeVarUint(An.Sync);const o=g3(i.decoder,i.encoder,e.document,e);r&&o===Sm&&(e.synced=!0)}applyAwarenessMessage(e){const{message:r}=this;a3(e.awareness,r.readVarUint8Array(),e)}applyAuthMessage(e){const{message:r}=this;v3(r.decoder,e.permissionDeniedHandler.bind(e),e.authenticatedHandler.bind(e))}applyQueryAwarenessMessage(e){const{message:r}=this;r.writeVarUint(An.Awareness),r.writeVarUint8Array(Em(e.awareness,Array.from(e.awareness.getStates().keys())))}}class kS{constructor(e,r={}){this.message=new e,this.encoder=this.message.get(r)}create(){return vm(this.encoder)}send(e){e==null||e.send(this.create())}broadcast(e){Z$(e,this.create())}}class km extends uo{constructor(){super(...arguments);this.type=An.Sync,this.description="First sync step"}get(e){if(typeof e.document=="undefined")throw new Error("The sync step one message requires document as an argument");return rn(this.encoder,this.type),f3(this.encoder,e.document),this.encoder}}class y3 extends uo{constructor(){super(...arguments);this.type=An.Sync,this.description="Second sync step"}get(e){if(typeof e.document=="undefined")throw new Error("The sync step two message requires document as an argument");return rn(this.encoder,this.type),wS(this.encoder,e.document),this.encoder}}class b3 extends uo{constructor(){super(...arguments);this.type=An.QueryAwareness,this.description="Queries awareness states"}get(e){return rn(this.encoder,this.type),this.encoder}}class _3 extends uo{constructor(){super(...arguments);this.type=An.Auth,this.description="Authentication"}get(e){if(typeof e.token=="undefined")throw new Error("The authentication message requires `token` as an argument.");return rn(this.encoder,this.type),m3(this.encoder,e.token),this.encoder}}class Gf extends uo{constructor(){super(...arguments);this.type=An.Awareness,this.description="Awareness states update"}get(e){if(typeof e.awareness=="undefined")throw new Error("The awareness message requires awareness as an argument");if(typeof e.clients=="undefined")throw new Error("The awareness message requires clients as an argument");rn(this.encoder,this.type);let r;return e.states===void 0?r=Em(e.awareness,e.clients):r=Em(e.awareness,e.clients,e.states),oc(this.encoder,r),this.encoder}}class w3 extends uo{constructor(){super(...arguments);this.type=An.Sync,this.description="A document update"}get(e){return rn(this.encoder,this.type),h3(this.encoder,e.update),this.encoder}}var CS=n=>Array.from(n.entries()).map(([e,r])=>ce({clientId:e},r)),jn;(function(n){n.Connecting="connecting",n.Connected="connected",n.Disconnected="disconnected"})(jn||(jn={}));class _ne extends u3{constructor(e={}){super();this.options={document:void 0,awareness:void 0,WebSocketPolyfill:void 0,url:"",name:"",token:null,parameters:{},connect:!0,broadcast:!0,forceSyncInterval:!1,messageReconnectTimeout:3e4,delay:1e3,initialDelay:0,factor:2,maxAttempts:0,minDelay:1e3,maxDelay:3e4,jitter:!0,timeout:0,onAuthenticated:()=>null,onAuthenticationFailed:()=>null,onOpen:()=>null,onConnect:()=>null,onMessage:()=>null,onOutgoingMessage:()=>null,onStatus:()=>null,onSynced:()=>null,onDisconnect:()=>null,onClose:()=>null,onDestroy:()=>null,onAwarenessUpdate:()=>null,onAwarenessChange:()=>null},this.subscribedToBroadcastChannel=!1,this.webSocket=null,this.shouldConnect=!0,this.status=jn.Disconnected,this.isSynced=!1,this.isAuthenticated=!1,this.lastMessageReceived=0,this.mux=l3(),this.intervals={forceSync:null,connectionChecker:null},this.connectionAttempt=null,this.setOptions(e),this.options.awareness=e.awareness?e.awareness:new s3(this.document),this.options.WebSocketPolyfill=e.WebSocketPolyfill?e.WebSocketPolyfill:WebSocket,this.on("open",this.options.onOpen),this.on("authenticated",this.options.onAuthenticated),this.on("authenticationFailed",this.options.onAuthenticationFailed),this.on("connect",this.options.onConnect),this.on("message",this.options.onMessage),this.on("outgoingMessage",this.options.onOutgoingMessage),this.on("synced",this.options.onSynced),this.on("status",this.options.onStatus),this.on("disconnect",this.options.onDisconnect),this.on("close",this.options.onClose),this.on("destroy",this.options.onDestroy),this.on("awarenessUpdate",this.options.onAwarenessUpdate),this.on("awarenessChange",this.options.onAwarenessChange),this.awareness.on("update",()=>{this.emit("awarenessUpdate",{states:CS(this.awareness.getStates())})}),this.awareness.on("change",()=>{this.emit("awarenessChange",{states:CS(this.awareness.getStates())})}),this.document.on("update",this.documentUpdateHandler.bind(this)),this.awareness.on("update",this.awarenessUpdateHandler.bind(this)),this.registerBeforeUnloadEventListener(),this.intervals.connectionChecker=setInterval(this.checkConnection.bind(this),this.options.messageReconnectTimeout/10),this.options.forceSyncInterval&&(this.intervals.forceSync=setInterval(this.forceSync.bind(this),this.options.forceSyncInterval)),typeof e.connect!="undefined"&&(this.shouldConnect=e.connect),!!this.shouldConnect&&this.connect()}setOptions(e={}){this.options=ce(ce({},this.options),e)}async connect(){if(this.status!==jn.Connected){this.shouldConnect=!0,this.subscribeToBroadcastChannel();try{await _$(this.createWebSocketConnection.bind(this),{delay:this.options.delay,initialDelay:this.options.initialDelay,factor:this.options.factor,maxAttempts:this.options.maxAttempts,minDelay:this.options.minDelay,maxDelay:this.options.maxDelay,jitter:this.options.jitter,timeout:this.options.timeout,beforeAttempt:e=>{this.shouldConnect||e.abort()}})}catch(e){if(e.code!=="ATTEMPT_ABORTED")throw e}}}createWebSocketConnection(){return new Promise((e,r)=>{const i=new this.options.WebSocketPolyfill(this.url);i.binaryType="arraybuffer",i.onmessage=this.onMessage.bind(this),i.onclose=this.onClose.bind(this),i.onopen=this.onOpen.bind(this),i.onerror=()=>{r()},this.webSocket=i,this.synced=!1,this.status=jn.Connecting,this.emit("status",{status:"connecting"}),this.connectionAttempt={resolve:e,reject:r}})}resolveConnectionAttempt(){var e;(e=this.connectionAttempt)===null||e===void 0||e.resolve(),this.connectionAttempt=null}rejectConnectionAttempt(){var e;(e=this.connectionAttempt)===null||e===void 0||e.reject(),this.connectionAttempt=null}get document(){return this.options.document}get awareness(){return this.options.awareness}checkConnection(){var e;this.status===jn.Connected&&(!this.lastMessageReceived||this.options.messageReconnectTimeout>=xa()-this.lastMessageReceived||(e=this.webSocket)===null||e===void 0||e.close())}forceSync(){!this.webSocket||this.send(km,{document:this.document})}registerBeforeUnloadEventListener(){typeof window!="undefined"&&window.addEventListener("beforeunload",()=>{Kf(this.awareness,[this.document.clientID],"window unload")})}documentUpdateHandler(e,r){r!==this&&this.send(w3,{update:e},!0)}awarenessUpdateHandler({added:e,updated:r,removed:i},o){const s=e.concat(r).concat(i);this.send(Gf,{awareness:this.awareness,clients:s},!0)}permissionDeniedHandler(e){this.emit("authenticationFailed",{reason:e}),this.isAuthenticated=!1,this.shouldConnect=!1}authenticatedHandler(){this.isAuthenticated=!0,this.emit("authenticated"),this.startSync()}get serverUrl(){for(;this.options.url[this.options.url.length-1]==="/";)return this.options.url.slice(0,this.options.url.length-1);return this.options.url}get url(){const e=c3(this.options.parameters);return`${this.serverUrl}/${this.options.name}${e.length===0?"":`?${e}`}`}get synced(){return this.isSynced}set synced(e){this.isSynced!==e&&(this.isSynced=e,this.emit("synced",{state:e}),this.emit("sync",{state:e}))}get isAuthenticationRequired(){return!!this.options.token&&!this.isAuthenticated}disconnect(){if(this.shouldConnect=!1,this.disconnectBroadcastChannel(),this.webSocket!==null)try{this.webSocket.close()}catch{}}onOpen(e){this.emit("open",{event:e}),this.status!==jn.Connected&&this.webSocketConnectionEstablished()}async getToken(){return typeof this.options.token=="function"?await this.options.token():this.options.token}async webSocketConnectionEstablished(){if(this.status=jn.Connected,this.emit("status",{status:"connected"}),this.emit("connect"),this.isAuthenticationRequired){this.send(_3,{token:await this.getToken()});return}this.startSync(),this.resolveConnectionAttempt()}startSync(){this.send(km,{document:this.document}),this.awareness.getLocalState()!==null&&this.send(Gf,{awareness:this.awareness,clients:[this.document.clientID]})}send(e,r,i=!1){if(i&&this.mux(()=>{this.broadcast(e,r)}),this.status===jn.Connected){const o=new kS(e,r);this.emit("outgoingMessage",{message:o.message}),o.send(this.webSocket)}}onMessage(e){this.lastMessageReceived=xa();const r=new yS(e.data);this.emit("message",{event:e,message:r}),new SS(r).apply(this)}onClose(e){this.emit("close",{event:e}),this.webSocket=null,this.isAuthenticated=!1,this.synced=!1,this.status===jn.Connected&&(Kf(this.awareness,Array.from(this.awareness.getStates().keys()).filter(r=>r!==this.document.clientID),this),this.status=jn.Disconnected,this.emit("status",{status:"disconnected"}),this.emit("disconnect",{event:e})),this.connectionAttempt?this.rejectConnectionAttempt():this.shouldConnect&&this.connect(),!this.shouldConnect&&this.status!==jn.Disconnected&&(this.status=jn.Disconnected,this.emit("status",{status:"disconnected"}),this.emit("disconnect",{event:e}))}destroy(){this.emit("destroy"),this.intervals.forceSync&&clearInterval(this.intervals.forceSync),clearInterval(this.intervals.connectionChecker),Kf(this.awareness,[this.document.clientID],"provider destroy"),this.resolveConnectionAttempt(),this.disconnect(),this.awareness.off("update",this.awarenessUpdateHandler),this.document.off("update",this.documentUpdateHandler),this.removeAllListeners()}get broadcastChannel(){return`${this.serverUrl}/${this.options.name}`}broadcastChannelSubscriber(e){this.mux(()=>{const r=new yS(e);new SS(r).setBroadcasted(!0).apply(this,!1)})}subscribeToBroadcastChannel(){this.subscribedToBroadcastChannel||(J$(this.broadcastChannel,this.broadcastChannelSubscriber.bind(this)),this.subscribedToBroadcastChannel=!0),this.mux(()=>{this.broadcast(km,{document:this.document}),this.broadcast(y3,{document:this.document}),this.broadcast(b3),this.broadcast(Gf,{awareness:this.awareness,clients:[this.document.clientID]})})}disconnectBroadcastChannel(){this.send(Gf,{awareness:this.awareness,clients:[this.document.clientID],states:new Map},!0),this.subscribedToBroadcastChannel&&(X$(this.broadcastChannel,this.broadcastChannelSubscriber.bind(this)),this.subscribedToBroadcastChannel=!1)}broadcast(e,r){!this.options.broadcast||!this.subscribedToBroadcastChannel||new kS(e,r).broadcast(this.broadcastChannel)}setAwarenessField(e,r){this.awareness.setLocalStateField(e,r)}}const E3=1200,S3=2500,Yf=3e4,Cm=n=>{if(n.shouldConnect&&n.ws===null){const e=new WebSocket(n.url),r=n.binaryType;let i=null;r&&(e.binaryType=r),n.ws=e,n.connecting=!0,n.connected=!1,e.onmessage=a=>{n.lastMessageReceived=Xr();const l=a.data,c=typeof l=="string"?JSON.parse(l):l;c&&c.type==="pong"&&(clearTimeout(i),i=setTimeout(s,Yf/2)),n.emit("message",[c,n])};const o=a=>{n.ws!==null&&(n.ws=null,n.connecting=!1,n.connected?(n.connected=!1,n.emit("disconnect",[{type:"disconnect",error:a},n])):n.unsuccessfulReconnects++,setTimeout(Cm,io(HL(n.unsuccessfulReconnects+1)*E3,S3),n)),clearTimeout(i)},s=()=>{n.ws===e&&n.send({type:"ping"})};e.onclose=()=>o(null),e.onerror=a=>o(a),e.onopen=()=>{n.lastMessageReceived=Xr(),n.connecting=!1,n.connected=!0,n.unsuccessfulReconnects=0,n.emit("connect",[{type:"connect"},n]),i=setTimeout(s,Yf/2)}}};class k3 extends ha{constructor(e,{binaryType:r}={}){super();this.url=e,this.ws=null,this.binaryType=r||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&Yf<Xr()-this.lastMessageReceived&&this.ws.close()},Yf/2),Cm(this)}send(e){this.ws&&this.ws.send(JSON.stringify(e))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&this.ws===null&&Cm(this)}}const C3=new Map;class x3{constructor(e){this.room=e,this.onmessage=null,XL(r=>r.key===e&&this.onmessage!==null&&this.onmessage({data:HE(r.newValue||"")}))}postMessage(e){PE.setItem(this.room,UE(cB(e)))}}const A3=typeof BroadcastChannel=="undefined"?x3:BroadcastChannel,xm=n=>zn(C3,n,()=>{const e=new Set,r=new A3(n);return r.onmessage=i=>e.forEach(o=>o(i.data)),{bc:r,subs:e}}),O3=(n,e)=>xm(n).subs.add(e),D3=(n,e)=>xm(n).subs.delete(e),T3=(n,e)=>{const r=xm(n);r.bc.postMessage(e),r.subs.forEach(i=>i(e))};var On=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Jf(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xS={exports:{}};(function(n,e){(function(r){n.exports=r()})(function(){var r=Math.floor,i=Math.abs,o=Math.pow;return function(){function s(a,l,c){function u(h,p){if(!l[h]){if(!a[h]){var g=typeof Jf=="function"&&Jf;if(!p&&g)return g(h,!0);if(f)return f(h,!0);var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v}var w=l[h]={exports:{}};a[h][0].call(w.exports,function(b){var S=a[h][1][b];return u(S||b)},w,w.exports,s,a,l,c)}return l[h].exports}for(var f=typeof Jf=="function"&&Jf,d=0;d<c.length;d++)u(c[d]);return u}return s}()({1:[function(s,a,l){function c(y){var k=y.length;if(0<k%4)throw new Error("Invalid string. Length must be a multiple of 4");var D=y.indexOf("=");D===-1&&(D=k);var T=D===k?0:4-D%4;return[D,T]}function u(y,k,D){return 3*(k+D)/4-D}function f(y){var k,D,T=c(y),N=T[0],$=T[1],I=new w(u(y,N,$)),L=0,j=0<$?N-4:N;for(D=0;D<j;D+=4)k=v[y.charCodeAt(D)]<<18|v[y.charCodeAt(D+1)]<<12|v[y.charCodeAt(D+2)]<<6|v[y.charCodeAt(D+3)],I[L++]=255&k>>16,I[L++]=255&k>>8,I[L++]=255&k;return $===2&&(k=v[y.charCodeAt(D)]<<2|v[y.charCodeAt(D+1)]>>4,I[L++]=255&k),$===1&&(k=v[y.charCodeAt(D)]<<10|v[y.charCodeAt(D+1)]<<4|v[y.charCodeAt(D+2)]>>2,I[L++]=255&k>>8,I[L++]=255&k),I}function d(y){return g[63&y>>18]+g[63&y>>12]+g[63&y>>6]+g[63&y]}function h(y,k,D){for(var T,N=[],$=k;$<D;$+=3)T=(16711680&y[$]<<16)+(65280&y[$+1]<<8)+(255&y[$+2]),N.push(d(T));return N.join("")}function p(y){for(var k,D=y.length,T=D%3,N=[],$=16383,I=0,L=D-T;I<L;I+=$)N.push(h(y,I,I+$>L?L:I+$));return T===1?(k=y[D-1],N.push(g[k>>2]+g[63&k<<4]+"==")):T===2&&(k=(y[D-2]<<8)+y[D-1],N.push(g[k>>10]+g[63&k>>4]+g[63&k<<2]+"=")),N.join("")}l.byteLength=function(y){var k=c(y),D=k[0],T=k[1];return 3*(D+T)/4-T},l.toByteArray=f,l.fromByteArray=p;for(var g=[],v=[],w=typeof Uint8Array=="undefined"?Array:Uint8Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,E=b.length;S<E;++S)g[S]=b[S],v[b.charCodeAt(S)]=S;v[45]=62,v[95]=63},{}],2:[function(){},{}],3:[function(s,a,l){(function(){(function(){var c=String.fromCharCode,u=Math.min;function f(m){if(2147483647<m)throw new RangeError('The value "'+m+'" is invalid for option "size"');var C=new Uint8Array(m);return C.__proto__=d.prototype,C}function d(m,C,x){if(typeof m=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(m)}return h(m,C,x)}function h(m,C,x){if(typeof m=="string")return w(m,C);if(ArrayBuffer.isView(m))return b(m);if(m==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(A(m,ArrayBuffer)||m&&A(m.buffer,ArrayBuffer))return S(m,C,x);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=m.valueOf&&m.valueOf();if(U!=null&&U!==m)return d.from(U,C,x);var H=E(m);if(H)return H;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return d.from(m[Symbol.toPrimitive]("string"),C,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}function p(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(0>m)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function g(m,C,x){return p(m),0>=m||C===void 0?f(m):typeof x=="string"?f(m).fill(C,x):f(m).fill(C)}function v(m){return p(m),f(0>m?0:0|y(m))}function w(m,C){if((typeof C!="string"||C==="")&&(C="utf8"),!d.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var x=0|k(m,C),U=f(x),H=U.write(m,C);return H!==x&&(U=U.slice(0,H)),U}function b(m){for(var C=0>m.length?0:0|y(m.length),x=f(C),U=0;U<C;U+=1)x[U]=255&m[U];return x}function S(m,C,x){if(0>C||m.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<C+(x||0))throw new RangeError('"length" is outside of buffer bounds');var U;return U=C===void 0&&x===void 0?new Uint8Array(m):x===void 0?new Uint8Array(m,C):new Uint8Array(m,C,x),U.__proto__=d.prototype,U}function E(m){if(d.isBuffer(m)){var C=0|y(m.length),x=f(C);return x.length===0||m.copy(x,0,0,C),x}return m.length===void 0?m.type==="Buffer"&&Array.isArray(m.data)?b(m.data):void 0:typeof m.length!="number"||P(m.length)?f(0):b(m)}function y(m){if(m>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|m}function k(m,C){if(d.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||A(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var x=m.length,U=2<arguments.length&&arguments[2]===!0;if(!U&&x===0)return 0;for(var H=!1;;)switch(C){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return ke(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*x;case"hex":return x>>>1;case"base64":return O(m).length;default:if(H)return U?-1:ke(m).length;C=(""+C).toLowerCase(),H=!0}}function D(m,C,x){var U=!1;if((C===void 0||0>C)&&(C=0),C>this.length||((x===void 0||x>this.length)&&(x=this.length),0>=x)||(x>>>=0,C>>>=0,x<=C))return"";for(m||(m="utf8");;)switch(m){case"hex":return de(this,C,x);case"utf8":case"utf-8":return W(this,C,x);case"ascii":return J(this,C,x);case"latin1":case"binary":return ee(this,C,x);case"base64":return B(this,C,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,C,x);default:if(U)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),U=!0}}function T(m,C,x){var U=m[C];m[C]=m[x],m[x]=U}function N(m,C,x,U,H){if(m.length===0)return-1;if(typeof x=="string"?(U=x,x=0):2147483647<x?x=2147483647:-2147483648>x&&(x=-2147483648),x=+x,P(x)&&(x=H?0:m.length-1),0>x&&(x=m.length+x),x>=m.length){if(H)return-1;x=m.length-1}else if(0>x)if(H)x=0;else return-1;if(typeof C=="string"&&(C=d.from(C,U)),d.isBuffer(C))return C.length===0?-1:$(m,C,x,U,H);if(typeof C=="number")return C&=255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(m,C,x):Uint8Array.prototype.lastIndexOf.call(m,C,x):$(m,[C],x,U,H);throw new TypeError("val must be string, number or Buffer")}function $(m,C,x,U,H){function z(He,ne){return Q===1?He[ne]:He.readUInt16BE(ne*Q)}var Q=1,ae=m.length,ve=C.length;if(U!==void 0&&(U=(U+"").toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(2>m.length||2>C.length)return-1;Q=2,ae/=2,ve/=2,x/=2}var me;if(H){var ie=-1;for(me=x;me<ae;me++)if(z(m,me)!==z(C,ie===-1?0:me-ie))ie!==-1&&(me-=me-ie),ie=-1;else if(ie===-1&&(ie=me),me-ie+1===ve)return ie*Q}else for(x+ve>ae&&(x=ae-ve),me=x;0<=me;me--){for(var be=!0,De=0;De<ve;De++)if(z(m,me+De)!==z(C,De)){be=!1;break}if(be)return me}return-1}function I(m,C,x,U){x=+x||0;var H=m.length-x;U?(U=+U,U>H&&(U=H)):U=H;var z=C.length;U>z/2&&(U=z/2);for(var Q,ae=0;ae<U;++ae){if(Q=parseInt(C.substr(2*ae,2),16),P(Q))return ae;m[x+ae]=Q}return ae}function L(m,C,x,U){return R(ke(C,m.length-x),m,x,U)}function j(m,C,x,U){return R(Ce(C),m,x,U)}function K(m,C,x,U){return j(m,C,x,U)}function V(m,C,x,U){return R(O(C),m,x,U)}function G(m,C,x,U){return R(Se(C,m.length-x),m,x,U)}function B(m,C,x){return C===0&&x===m.length?F.fromByteArray(m):F.fromByteArray(m.slice(C,x))}function W(m,C,x){x=u(m.length,x);for(var U=[],H=C;H<x;){var z=m[H],Q=null,ae=239<z?4:223<z?3:191<z?2:1;if(H+ae<=x){var ve,me,ie,be;ae===1?128>z&&(Q=z):ae===2?(ve=m[H+1],(192&ve)==128&&(be=(31&z)<<6|63&ve,127<be&&(Q=be))):ae===3?(ve=m[H+1],me=m[H+2],(192&ve)==128&&(192&me)==128&&(be=(15&z)<<12|(63&ve)<<6|63&me,2047<be&&(55296>be||57343<be)&&(Q=be))):ae===4&&(ve=m[H+1],me=m[H+2],ie=m[H+3],(192&ve)==128&&(192&me)==128&&(192&ie)==128&&(be=(15&z)<<18|(63&ve)<<12|(63&me)<<6|63&ie,65535<be&&1114112>be&&(Q=be)))}Q===null?(Q=65533,ae=1):65535<Q&&(Q-=65536,U.push(55296|1023&Q>>>10),Q=56320|1023&Q),U.push(Q),H+=ae}return X(U)}function X(m){var C=m.length;if(C<=4096)return c.apply(String,m);for(var x="",U=0;U<C;)x+=c.apply(String,m.slice(U,U+=4096));return x}function J(m,C,x){var U="";x=u(m.length,x);for(var H=C;H<x;++H)U+=c(127&m[H]);return U}function ee(m,C,x){var U="";x=u(m.length,x);for(var H=C;H<x;++H)U+=c(m[H]);return U}function de(m,C,x){var U=m.length;(!C||0>C)&&(C=0),(!x||0>x||x>U)&&(x=U);for(var H="",z=C;z<x;++z)H+=fe(m[z]);return H}function ge(m,C,x){for(var U=m.slice(C,x),H="",z=0;z<U.length;z+=2)H+=c(U[z]+256*U[z+1]);return H}function Z(m,C,x){if(m%1!=0||0>m)throw new RangeError("offset is not uint");if(m+C>x)throw new RangeError("Trying to access beyond buffer length")}function te(m,C,x,U,H,z){if(!d.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>H||C<z)throw new RangeError('"value" argument is out of bounds');if(x+U>m.length)throw new RangeError("Index out of range")}function Y(m,C,x,U){if(x+U>m.length)throw new RangeError("Index out of range");if(0>x)throw new RangeError("Index out of range")}function oe(m,C,x,U,H){return C=+C,x>>>=0,H||Y(m,C,x,4),q.write(m,C,x,U,23,4),x+4}function re(m,C,x,U,H){return C=+C,x>>>=0,H||Y(m,C,x,8),q.write(m,C,x,U,52,8),x+8}function ue(m){if(m=m.split("=")[0],m=m.trim().replace(M,""),2>m.length)return"";for(;m.length%4!=0;)m+="=";return m}function fe(m){return 16>m?"0"+m.toString(16):m.toString(16)}function ke(m,C){C=C||1/0;for(var x,U=m.length,H=null,z=[],Q=0;Q<U;++Q){if(x=m.charCodeAt(Q),55295<x&&57344>x){if(!H){if(56319<x){-1<(C-=3)&&z.push(239,191,189);continue}else if(Q+1===U){-1<(C-=3)&&z.push(239,191,189);continue}H=x;continue}if(56320>x){-1<(C-=3)&&z.push(239,191,189),H=x;continue}x=(H-55296<<10|x-56320)+65536}else H&&-1<(C-=3)&&z.push(239,191,189);if(H=null,128>x){if(0>(C-=1))break;z.push(x)}else if(2048>x){if(0>(C-=2))break;z.push(192|x>>6,128|63&x)}else if(65536>x){if(0>(C-=3))break;z.push(224|x>>12,128|63&x>>6,128|63&x)}else if(1114112>x){if(0>(C-=4))break;z.push(240|x>>18,128|63&x>>12,128|63&x>>6,128|63&x)}else throw new Error("Invalid code point")}return z}function Ce(m){for(var C=[],x=0;x<m.length;++x)C.push(255&m.charCodeAt(x));return C}function Se(m,C){for(var x,U,H,z=[],Q=0;Q<m.length&&!(0>(C-=2));++Q)x=m.charCodeAt(Q),U=x>>8,H=x%256,z.push(H),z.push(U);return z}function O(m){return F.toByteArray(ue(m))}function R(m,C,x,U){for(var H=0;H<U&&!(H+x>=C.length||H>=m.length);++H)C[H+x]=m[H];return H}function A(m,C){return m instanceof C||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===C.name}function P(m){return m!==m}var F=s("base64-js"),q=s("ieee754");l.Buffer=d,l.SlowBuffer=function(m){return+m!=m&&(m=0),d.alloc(+m)},l.INSPECT_MAX_BYTES=50,l.kMaxLength=2147483647,d.TYPED_ARRAY_SUPPORT=function(){try{var m=new Uint8Array(1);return m.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},m.foo()===42}catch(C){return!1}}(),d.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){return d.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){return d.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol!="undefined"&&Symbol.species!=null&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192,d.from=function(m,C,x){return h(m,C,x)},d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,d.alloc=function(m,C,x){return g(m,C,x)},d.allocUnsafe=function(m){return v(m)},d.allocUnsafeSlow=function(m){return v(m)},d.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==d.prototype},d.compare=function(m,C){if(A(m,Uint8Array)&&(m=d.from(m,m.offset,m.byteLength)),A(C,Uint8Array)&&(C=d.from(C,C.offset,C.byteLength)),!d.isBuffer(m)||!d.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===C)return 0;for(var x=m.length,U=C.length,H=0,z=u(x,U);H<z;++H)if(m[H]!==C[H]){x=m[H],U=C[H];break}return x<U?-1:U<x?1:0},d.isEncoding=function(m){switch((m+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(m,C){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return d.alloc(0);var x;if(C===void 0)for(C=0,x=0;x<m.length;++x)C+=m[x].length;var U=d.allocUnsafe(C),H=0;for(x=0;x<m.length;++x){var z=m[x];if(A(z,Uint8Array)&&(z=d.from(z)),!d.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(U,H),H+=z.length}return U},d.byteLength=k,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<m;C+=2)T(this,C,C+1);return this},d.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<m;C+=4)T(this,C,C+3),T(this,C+1,C+2);return this},d.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<m;C+=8)T(this,C,C+7),T(this,C+1,C+6),T(this,C+2,C+5),T(this,C+3,C+4);return this},d.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?W(this,0,m):D.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(m){if(!d.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||d.compare(this,m)===0},d.prototype.inspect=function(){var m="",C=l.INSPECT_MAX_BYTES;return m=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(m+=" ... "),"<Buffer "+m+">"},d.prototype.compare=function(m,C,x,U,H){if(A(m,Uint8Array)&&(m=d.from(m,m.offset,m.byteLength)),!d.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(C===void 0&&(C=0),x===void 0&&(x=m?m.length:0),U===void 0&&(U=0),H===void 0&&(H=this.length),0>C||x>m.length||0>U||H>this.length)throw new RangeError("out of range index");if(U>=H&&C>=x)return 0;if(U>=H)return-1;if(C>=x)return 1;if(C>>>=0,x>>>=0,U>>>=0,H>>>=0,this===m)return 0;for(var z=H-U,Q=x-C,ae=u(z,Q),ve=this.slice(U,H),me=m.slice(C,x),ie=0;ie<ae;++ie)if(ve[ie]!==me[ie]){z=ve[ie],Q=me[ie];break}return z<Q?-1:Q<z?1:0},d.prototype.includes=function(m,C,x){return this.indexOf(m,C,x)!==-1},d.prototype.indexOf=function(m,C,x){return N(this,m,C,x,!0)},d.prototype.lastIndexOf=function(m,C,x){return N(this,m,C,x,!1)},d.prototype.write=function(m,C,x,U){if(C===void 0)U="utf8",x=this.length,C=0;else if(x===void 0&&typeof C=="string")U=C,x=this.length,C=0;else if(isFinite(C))C>>>=0,isFinite(x)?(x>>>=0,U===void 0&&(U="utf8")):(U=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-C;if((x===void 0||x>H)&&(x=H),0<m.length&&(0>x||0>C)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var z=!1;;)switch(U){case"hex":return I(this,m,C,x);case"utf8":case"utf-8":return L(this,m,C,x);case"ascii":return j(this,m,C,x);case"latin1":case"binary":return K(this,m,C,x);case"base64":return V(this,m,C,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,m,C,x);default:if(z)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),z=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.slice=function(m,C){var x=this.length;m=~~m,C=C===void 0?x:~~C,0>m?(m+=x,0>m&&(m=0)):m>x&&(m=x),0>C?(C+=x,0>C&&(C=0)):C>x&&(C=x),C<m&&(C=m);var U=this.subarray(m,C);return U.__proto__=d.prototype,U},d.prototype.readUIntLE=function(m,C,x){m>>>=0,C>>>=0,x||Z(m,C,this.length);for(var U=this[m],H=1,z=0;++z<C&&(H*=256);)U+=this[m+z]*H;return U},d.prototype.readUIntBE=function(m,C,x){m>>>=0,C>>>=0,x||Z(m,C,this.length);for(var U=this[m+--C],H=1;0<C&&(H*=256);)U+=this[m+--C]*H;return U},d.prototype.readUInt8=function(m,C){return m>>>=0,C||Z(m,1,this.length),this[m]},d.prototype.readUInt16LE=function(m,C){return m>>>=0,C||Z(m,2,this.length),this[m]|this[m+1]<<8},d.prototype.readUInt16BE=function(m,C){return m>>>=0,C||Z(m,2,this.length),this[m]<<8|this[m+1]},d.prototype.readUInt32LE=function(m,C){return m>>>=0,C||Z(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},d.prototype.readUInt32BE=function(m,C){return m>>>=0,C||Z(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},d.prototype.readIntLE=function(m,C,x){m>>>=0,C>>>=0,x||Z(m,C,this.length);for(var U=this[m],H=1,z=0;++z<C&&(H*=256);)U+=this[m+z]*H;return H*=128,U>=H&&(U-=o(2,8*C)),U},d.prototype.readIntBE=function(m,C,x){m>>>=0,C>>>=0,x||Z(m,C,this.length);for(var U=C,H=1,z=this[m+--U];0<U&&(H*=256);)z+=this[m+--U]*H;return H*=128,z>=H&&(z-=o(2,8*C)),z},d.prototype.readInt8=function(m,C){return m>>>=0,C||Z(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},d.prototype.readInt16LE=function(m,C){m>>>=0,C||Z(m,2,this.length);var x=this[m]|this[m+1]<<8;return 32768&x?4294901760|x:x},d.prototype.readInt16BE=function(m,C){m>>>=0,C||Z(m,2,this.length);var x=this[m+1]|this[m]<<8;return 32768&x?4294901760|x:x},d.prototype.readInt32LE=function(m,C){return m>>>=0,C||Z(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},d.prototype.readInt32BE=function(m,C){return m>>>=0,C||Z(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},d.prototype.readFloatLE=function(m,C){return m>>>=0,C||Z(m,4,this.length),q.read(this,m,!0,23,4)},d.prototype.readFloatBE=function(m,C){return m>>>=0,C||Z(m,4,this.length),q.read(this,m,!1,23,4)},d.prototype.readDoubleLE=function(m,C){return m>>>=0,C||Z(m,8,this.length),q.read(this,m,!0,52,8)},d.prototype.readDoubleBE=function(m,C){return m>>>=0,C||Z(m,8,this.length),q.read(this,m,!1,52,8)},d.prototype.writeUIntLE=function(m,C,x,U){if(m=+m,C>>>=0,x>>>=0,!U){var H=o(2,8*x)-1;te(this,m,C,x,H,0)}var z=1,Q=0;for(this[C]=255&m;++Q<x&&(z*=256);)this[C+Q]=255&m/z;return C+x},d.prototype.writeUIntBE=function(m,C,x,U){if(m=+m,C>>>=0,x>>>=0,!U){var H=o(2,8*x)-1;te(this,m,C,x,H,0)}var z=x-1,Q=1;for(this[C+z]=255&m;0<=--z&&(Q*=256);)this[C+z]=255&m/Q;return C+x},d.prototype.writeUInt8=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,1,255,0),this[C]=255&m,C+1},d.prototype.writeUInt16LE=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,2,65535,0),this[C]=255&m,this[C+1]=m>>>8,C+2},d.prototype.writeUInt16BE=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,2,65535,0),this[C]=m>>>8,this[C+1]=255&m,C+2},d.prototype.writeUInt32LE=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,4,4294967295,0),this[C+3]=m>>>24,this[C+2]=m>>>16,this[C+1]=m>>>8,this[C]=255&m,C+4},d.prototype.writeUInt32BE=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,4,4294967295,0),this[C]=m>>>24,this[C+1]=m>>>16,this[C+2]=m>>>8,this[C+3]=255&m,C+4},d.prototype.writeIntLE=function(m,C,x,U){if(m=+m,C>>>=0,!U){var H=o(2,8*x-1);te(this,m,C,x,H-1,-H)}var z=0,Q=1,ae=0;for(this[C]=255&m;++z<x&&(Q*=256);)0>m&&ae===0&&this[C+z-1]!==0&&(ae=1),this[C+z]=255&(m/Q>>0)-ae;return C+x},d.prototype.writeIntBE=function(m,C,x,U){if(m=+m,C>>>=0,!U){var H=o(2,8*x-1);te(this,m,C,x,H-1,-H)}var z=x-1,Q=1,ae=0;for(this[C+z]=255&m;0<=--z&&(Q*=256);)0>m&&ae===0&&this[C+z+1]!==0&&(ae=1),this[C+z]=255&(m/Q>>0)-ae;return C+x},d.prototype.writeInt8=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,1,127,-128),0>m&&(m=255+m+1),this[C]=255&m,C+1},d.prototype.writeInt16LE=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,2,32767,-32768),this[C]=255&m,this[C+1]=m>>>8,C+2},d.prototype.writeInt16BE=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,2,32767,-32768),this[C]=m>>>8,this[C+1]=255&m,C+2},d.prototype.writeInt32LE=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,4,2147483647,-2147483648),this[C]=255&m,this[C+1]=m>>>8,this[C+2]=m>>>16,this[C+3]=m>>>24,C+4},d.prototype.writeInt32BE=function(m,C,x){return m=+m,C>>>=0,x||te(this,m,C,4,2147483647,-2147483648),0>m&&(m=4294967295+m+1),this[C]=m>>>24,this[C+1]=m>>>16,this[C+2]=m>>>8,this[C+3]=255&m,C+4},d.prototype.writeFloatLE=function(m,C,x){return oe(this,m,C,!0,x)},d.prototype.writeFloatBE=function(m,C,x){return oe(this,m,C,!1,x)},d.prototype.writeDoubleLE=function(m,C,x){return re(this,m,C,!0,x)},d.prototype.writeDoubleBE=function(m,C,x){return re(this,m,C,!1,x)},d.prototype.copy=function(m,C,x,U){if(!d.isBuffer(m))throw new TypeError("argument should be a Buffer");if(x||(x=0),U||U===0||(U=this.length),C>=m.length&&(C=m.length),C||(C=0),0<U&&U<x&&(U=x),U===x||m.length===0||this.length===0)return 0;if(0>C)throw new RangeError("targetStart out of bounds");if(0>x||x>=this.length)throw new RangeError("Index out of range");if(0>U)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),m.length-C<U-x&&(U=m.length-C+x);var H=U-x;if(this===m&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(C,x,U);else if(this===m&&x<C&&C<U)for(var z=H-1;0<=z;--z)m[z+C]=this[z+x];else Uint8Array.prototype.set.call(m,this.subarray(x,U),C);return H},d.prototype.fill=function(m,C,x,U){if(typeof m=="string"){if(typeof C=="string"?(U=C,C=0,x=this.length):typeof x=="string"&&(U=x,x=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!d.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(m.length===1){var H=m.charCodeAt(0);(U==="utf8"&&128>H||U==="latin1")&&(m=H)}}else typeof m=="number"&&(m&=255);if(0>C||this.length<C||this.length<x)throw new RangeError("Out of range index");if(x<=C)return this;C>>>=0,x=x===void 0?this.length:x>>>0,m||(m=0);var z;if(typeof m=="number")for(z=C;z<x;++z)this[z]=m;else{var Q=d.isBuffer(m)?m:d.from(m,U),ae=Q.length;if(ae===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(z=0;z<x-C;++z)this[z+C]=Q[z%ae]}return this};var M=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,s("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(s,a,l){(function(c){(function(){function u(){let d;try{d=l.storage.getItem("debug")}catch(h){}return!d&&typeof c!="undefined"&&"env"in c&&(d=c.env.DEBUG),d}l.formatArgs=function(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;d.splice(1,0,h,"color: inherit");let p=0,g=0;d[0].replace(/%[a-zA-Z%]/g,v=>{v==="%%"||(p++,v==="%c"&&(g=p))}),d.splice(g,0,h)},l.save=function(d){try{d?l.storage.setItem("debug",d):l.storage.removeItem("debug")}catch(h){}},l.load=u,l.useColors=function(){return!!(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},l.storage=function(){try{return localStorage}catch(d){}}(),l.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),l.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],l.log=console.debug||console.log||(()=>{}),a.exports=s("./common")(l);const{formatters:f}=a.exports;f.j=function(d){try{return JSON.stringify(d)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}).call(this)}).call(this,s("_process"))},{"./common":5,_process:12}],5:[function(s,a){a.exports=function(l){function c(d){function h(...v){if(!h.enabled)return;const w=h,b=+new Date,S=b-(p||b);w.diff=S,w.prev=p,w.curr=b,p=b,v[0]=c.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let E=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(k,D)=>{if(k==="%%")return"%";E++;const T=c.formatters[D];if(typeof T=="function"){const N=v[E];k=T.call(w,N),v.splice(E,1),E--}return k}),c.formatArgs.call(w,v),(w.log||c.log).apply(w,v)}let p,g=null;return h.namespace=d,h.useColors=c.useColors(),h.color=c.selectColor(d),h.extend=u,h.destroy=c.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>g===null?c.enabled(d):g,set:v=>{g=v}}),typeof c.init=="function"&&c.init(h),h}function u(d,h){const p=c(this.namespace+(typeof h=="undefined"?":":h)+d);return p.log=this.log,p}function f(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}return c.debug=c,c.default=c,c.coerce=function(d){return d instanceof Error?d.stack||d.message:d},c.disable=function(){const d=[...c.names.map(f),...c.skips.map(f).map(h=>"-"+h)].join(",");return c.enable(""),d},c.enable=function(d){c.save(d),c.names=[],c.skips=[];let h;const p=(typeof d=="string"?d:"").split(/[\s,]+/),g=p.length;for(h=0;h<g;h++)p[h]&&(d=p[h].replace(/\*/g,".*?"),d[0]==="-"?c.skips.push(new RegExp("^"+d.substr(1)+"$")):c.names.push(new RegExp("^"+d+"$")))},c.enabled=function(d){if(d[d.length-1]==="*")return!0;let h,p;for(h=0,p=c.skips.length;h<p;h++)if(c.skips[h].test(d))return!1;for(h=0,p=c.names.length;h<p;h++)if(c.names[h].test(d))return!0;return!1},c.humanize=s("ms"),c.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(l).forEach(d=>{c[d]=l[d]}),c.names=[],c.skips=[],c.formatters={},c.selectColor=function(d){let h=0;for(let p=0;p<d.length;p++)h=(h<<5)-h+d.charCodeAt(p),h|=0;return c.colors[i(h)%c.colors.length]},c.enable(c.load()),c}},{ms:11}],6:[function(s,a){function l(c,u){for(const f in u)Object.defineProperty(c,f,{value:u[f],enumerable:!0,configurable:!0});return c}a.exports=function(c,u,f){if(!c||typeof c=="string")throw new TypeError("Please pass an Error to err-code");f||(f={}),typeof u=="object"&&(f=u,u=""),u&&(f.code=u);try{return l(c,f)}catch(d){f.message=c.message,f.stack=c.stack;const h=function(){};return h.prototype=Object.create(Object.getPrototypeOf(c)),l(new h,f)}}},{}],7:[function(s,a){function l(I){console&&console.warn&&console.warn(I)}function c(){c.init.call(this)}function u(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}function f(I){return I._maxListeners===void 0?c.defaultMaxListeners:I._maxListeners}function d(I,L,j,K){var V,G,B;if(u(j),G=I._events,G===void 0?(G=I._events=Object.create(null),I._eventsCount=0):(G.newListener!==void 0&&(I.emit("newListener",L,j.listener?j.listener:j),G=I._events),B=G[L]),B===void 0)B=G[L]=j,++I._eventsCount;else if(typeof B=="function"?B=G[L]=K?[j,B]:[B,j]:K?B.unshift(j):B.push(j),V=f(I),0<V&&B.length>V&&!B.warned){B.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+(L+" listeners added. Use emitter.setMaxListeners() to increase limit"));W.name="MaxListenersExceededWarning",W.emitter=I,W.type=L,W.count=B.length,l(W)}return I}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(I,L,j){var K={fired:!1,wrapFn:void 0,target:I,type:L,listener:j},V=h.bind(K);return V.listener=j,K.wrapFn=V,V}function g(I,L,j){var K=I._events;if(K===void 0)return[];var V=K[L];return V===void 0?[]:typeof V=="function"?j?[V.listener||V]:[V]:j?S(V):w(V,V.length)}function v(I){var L=this._events;if(L!==void 0){var j=L[I];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}function w(I,L){for(var j=Array(L),K=0;K<L;++K)j[K]=I[K];return j}function b(I,L){for(;L+1<I.length;L++)I[L]=I[L+1];I.pop()}function S(I){for(var L=Array(I.length),j=0;j<L.length;++j)L[j]=I[j].listener||I[j];return L}function E(I,L,j){typeof I.on=="function"&&y(I,"error",L,j)}function y(I,L,j,K){if(typeof I.on=="function")K.once?I.once(L,j):I.on(L,j);else if(typeof I.addEventListener=="function")I.addEventListener(L,function V(G){K.once&&I.removeEventListener(L,V),j(G)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}var k,D=typeof Reflect=="object"?Reflect:null,T=D&&typeof D.apply=="function"?D.apply:function(I,L,j){return Function.prototype.apply.call(I,L,j)};k=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:function(I){return Object.getOwnPropertyNames(I)};var N=Number.isNaN||function(I){return I!==I};a.exports=c,a.exports.once=function(I,L){return new Promise(function(j,K){function V(B){I.removeListener(L,G),K(B)}function G(){typeof I.removeListener=="function"&&I.removeListener("error",V),j([].slice.call(arguments))}y(I,L,G,{once:!0}),L!=="error"&&E(I,V,{once:!0})})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var $=10;Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return $},set:function(I){if(typeof I!="number"||0>I||N(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");$=I}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(I){if(typeof I!="number"||0>I||N(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(I){for(var L=[],j=1;j<arguments.length;j++)L.push(arguments[j]);var K=I==="error",V=this._events;if(V!==void 0)K=K&&V.error===void 0;else if(!K)return!1;if(K){var G;if(0<L.length&&(G=L[0]),G instanceof Error)throw G;var B=new Error("Unhandled error."+(G?" ("+G.message+")":""));throw B.context=G,B}var W=V[I];if(W===void 0)return!1;if(typeof W=="function")T(W,this,L);else for(var X=W.length,J=w(W,X),j=0;j<X;++j)T(J[j],this,L);return!0},c.prototype.addListener=function(I,L){return d(this,I,L,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(I,L){return d(this,I,L,!0)},c.prototype.once=function(I,L){return u(L),this.on(I,p(this,I,L)),this},c.prototype.prependOnceListener=function(I,L){return u(L),this.prependListener(I,p(this,I,L)),this},c.prototype.removeListener=function(I,L){var j,K,V,G,B;if(u(L),K=this._events,K===void 0)return this;if(j=K[I],j===void 0)return this;if(j===L||j.listener===L)--this._eventsCount==0?this._events=Object.create(null):(delete K[I],K.removeListener&&this.emit("removeListener",I,j.listener||L));else if(typeof j!="function"){for(V=-1,G=j.length-1;0<=G;G--)if(j[G]===L||j[G].listener===L){B=j[G].listener,V=G;break}if(0>V)return this;V===0?j.shift():b(j,V),j.length===1&&(K[I]=j[0]),K.removeListener!==void 0&&this.emit("removeListener",I,B||L)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(I){var L,j,K;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[I]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete j[I]),this;if(arguments.length===0){var V,G=Object.keys(j);for(K=0;K<G.length;++K)V=G[K],V!=="removeListener"&&this.removeAllListeners(V);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=j[I],typeof L=="function")this.removeListener(I,L);else if(L!==void 0)for(K=L.length-1;0<=K;K--)this.removeListener(I,L[K]);return this},c.prototype.listeners=function(I){return g(this,I,!0)},c.prototype.rawListeners=function(I){return g(this,I,!1)},c.listenerCount=function(I,L){return typeof I.listenerCount=="function"?I.listenerCount(L):v.call(I,L)},c.prototype.listenerCount=v,c.prototype.eventNames=function(){return 0<this._eventsCount?k(this._events):[]}},{}],8:[function(s,a){a.exports=function(){if(typeof globalThis=="undefined")return null;var l={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return l.RTCPeerConnection?l:null}},{}],9:[function(s,a,l){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(c,u,f,d,h){var p,g,v=8*h-d-1,w=(1<<v)-1,b=w>>1,S=-7,E=f?h-1:0,y=f?-1:1,k=c[u+E];for(E+=y,p=k&(1<<-S)-1,k>>=-S,S+=v;0<S;p=256*p+c[u+E],E+=y,S-=8);for(g=p&(1<<-S)-1,p>>=-S,S+=d;0<S;g=256*g+c[u+E],E+=y,S-=8);if(p===0)p=1-b;else{if(p===w)return g?NaN:(k?-1:1)*(1/0);g+=o(2,d),p-=b}return(k?-1:1)*g*o(2,p-d)},l.write=function(c,u,f,d,h,p){var g,v,w,b=Math.LN2,S=Math.log,E=8*p-h-1,y=(1<<E)-1,k=y>>1,D=h===23?o(2,-24)-o(2,-77):0,T=d?0:p-1,N=d?1:-1,$=0>u||u===0&&0>1/u?1:0;for(u=i(u),isNaN(u)||u===1/0?(v=isNaN(u)?1:0,g=y):(g=r(S(u)/b),1>u*(w=o(2,-g))&&(g--,w*=2),u+=1<=g+k?D/w:D*o(2,1-k),2<=u*w&&(g++,w/=2),g+k>=y?(v=0,g=y):1<=g+k?(v=(u*w-1)*o(2,h),g+=k):(v=u*o(2,k-1)*o(2,h),g=0));8<=h;c[f+T]=255&v,T+=N,v/=256,h-=8);for(g=g<<h|v,E+=h;0<E;c[f+T]=255&g,T+=N,g/=256,E-=8);c[f+T-N]|=128*$}},{}],10:[function(s,a){a.exports=typeof Object.create=="function"?function(l,c){c&&(l.super_=c,l.prototype=Object.create(c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:function(l,c){if(c){l.super_=c;var u=function(){};u.prototype=c.prototype,l.prototype=new u,l.prototype.constructor=l}}},{}],11:[function(s,a){var l=Math.round;function c(h){if(h+="",!(100<h.length)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(p){var g=parseFloat(p[1]),v=(p[2]||"ms").toLowerCase();return v==="years"||v==="year"||v==="yrs"||v==="yr"||v==="y"?315576e5*g:v==="weeks"||v==="week"||v==="w"?6048e5*g:v==="days"||v==="day"||v==="d"?864e5*g:v==="hours"||v==="hour"||v==="hrs"||v==="hr"||v==="h"?36e5*g:v==="minutes"||v==="minute"||v==="mins"||v==="min"||v==="m"?6e4*g:v==="seconds"||v==="second"||v==="secs"||v==="sec"||v==="s"?1e3*g:v==="milliseconds"||v==="millisecond"||v==="msecs"||v==="msec"||v==="ms"?g:void 0}}}function u(h){var p=i(h);return 864e5<=p?l(h/864e5)+"d":36e5<=p?l(h/36e5)+"h":6e4<=p?l(h/6e4)+"m":1e3<=p?l(h/1e3)+"s":h+"ms"}function f(h){var p=i(h);return 864e5<=p?d(h,p,864e5,"day"):36e5<=p?d(h,p,36e5,"hour"):6e4<=p?d(h,p,6e4,"minute"):1e3<=p?d(h,p,1e3,"second"):h+" ms"}function d(h,p,g,v){return l(h/g)+" "+v+(p>=1.5*g?"s":"")}a.exports=function(h,p){p=p||{};var g=typeof h;if(g=="string"&&0<h.length)return c(h);if(g==="number"&&isFinite(h))return p.long?f(h):u(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}},{}],12:[function(s,a){function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(D){if(v===setTimeout)return setTimeout(D,0);if((v===l||!v)&&setTimeout)return v=setTimeout,setTimeout(D,0);try{return v(D,0)}catch(T){try{return v.call(null,D,0)}catch(N){return v.call(this,D,0)}}}function f(D){if(w===clearTimeout)return clearTimeout(D);if((w===c||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(D);try{return w(D)}catch(T){try{return w.call(null,D)}catch(N){return w.call(this,D)}}}function d(){y&&S&&(y=!1,S.length?E=S.concat(E):k=-1,E.length&&h())}function h(){if(!y){var D=u(d);y=!0;for(var T=E.length;T;){for(S=E,E=[];++k<T;)S&&S[k].run();k=-1,T=E.length}S=null,y=!1,f(D)}}function p(D,T){this.fun=D,this.array=T}function g(){}var v,w,b=a.exports={};(function(){try{v=typeof setTimeout=="function"?setTimeout:l}catch(D){v=l}try{w=typeof clearTimeout=="function"?clearTimeout:c}catch(D){w=c}})();var S,E=[],y=!1,k=-1;b.nextTick=function(D){var T=Array(arguments.length-1);if(1<arguments.length)for(var N=1;N<arguments.length;N++)T[N-1]=arguments[N];E.push(new p(D,T)),E.length!==1||y||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={},b.on=g,b.addListener=g,b.once=g,b.off=g,b.removeListener=g,b.removeAllListeners=g,b.emit=g,b.prependListener=g,b.prependOnceListener=g,b.listeners=function(){return[]},b.binding=function(){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},{}],13:[function(s,a){(function(l){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let c;a.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window=="undefined"?l:window):u=>(c||(c=Promise.resolve())).then(u).catch(f=>setTimeout(()=>{throw f},0))}).call(this)}).call(this,typeof On=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:On)},{}],14:[function(s,a){(function(l,c){(function(){var u=s("safe-buffer").Buffer,f=c.crypto||c.msCrypto;a.exports=f&&f.getRandomValues?function(d,h){if(d>4294967295)throw new RangeError("requested too many random bytes");var p=u.allocUnsafe(d);if(0<d)if(65536<d)for(var g=0;g<d;g+=65536)f.getRandomValues(p.slice(g,g+65536));else f.getRandomValues(p);return typeof h=="function"?l.nextTick(function(){h(null,p)}):p}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,s("_process"),typeof On=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:On)},{_process:12,"safe-buffer":30}],15:[function(s,a){function l(g,v){g.prototype=Object.create(v.prototype),g.prototype.constructor=g,g.__proto__=v}function c(g,v,w){function b(E,y,k){return typeof v=="string"?v:v(E,y,k)}w||(w=Error);var S=function(E){function y(k,D,T){return E.call(this,b(k,D,T))||this}return l(y,E),y}(w);S.prototype.name=w.name,S.prototype.code=g,p[g]=S}function u(g,v){if(Array.isArray(g)){var w=g.length;return g=g.map(function(b){return b+""}),2<w?"one of ".concat(v," ").concat(g.slice(0,w-1).join(", "),", or ")+g[w-1]:w===2?"one of ".concat(v," ").concat(g[0]," or ").concat(g[1]):"of ".concat(v," ").concat(g[0])}return"of ".concat(v," ").concat(g+"")}function f(g,v,w){return g.substr(!w||0>w?0:+w,v.length)===v}function d(g,v,w){return(w===void 0||w>g.length)&&(w=g.length),g.substring(w-v.length,w)===v}function h(g,v,w){return typeof w!="number"&&(w=0),!(w+v.length>g.length)&&g.indexOf(v,w)!==-1}var p={};c("ERR_INVALID_OPT_VALUE",function(g,v){return'The value "'+v+'" is invalid for option "'+g+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(g,v,w){var b;typeof v=="string"&&f(v,"not ")?(b="must not be",v=v.replace(/^not /,"")):b="must be";var S;if(d(g," argument"))S="The ".concat(g," ").concat(b," ").concat(u(v,"type"));else{var E=h(g,".")?"property":"argument";S='The "'.concat(g,'" ').concat(E," ").concat(b," ").concat(u(v,"type"))}return S+=". Received type ".concat(typeof w),S},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.codes=p},{}],16:[function(s,a){(function(l){(function(){function c(b){return this instanceof c?(h.call(this,b),p.call(this,b),this.allowHalfOpen=!0,void(b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u))))):new c(b)}function u(){this._writableState.ended||l.nextTick(f,this)}function f(b){b.end()}var d=Object.keys||function(b){var S=[];for(var E in b)S.push(E);return S};a.exports=c;var h=s("./_stream_readable"),p=s("./_stream_writable");s("inherits")(c,h);for(var g,v=d(p.prototype),w=0;w<v.length;w++)g=v[w],c.prototype[g]||(c.prototype[g]=p.prototype[g]);Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,s("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(s,a){function l(u){return this instanceof l?void c.call(this,u):new l(u)}a.exports=l;var c=s("./_stream_transform");s("inherits")(l,c),l.prototype._transform=function(u,f,d){d(null,u)}},{"./_stream_transform":19,inherits:10}],18:[function(s,a){(function(l,c){(function(){function u(M){return ge.from(M)}function f(M){return ge.isBuffer(M)||M instanceof Z}function d(M,m,C){return typeof M.prependListener=="function"?M.prependListener(m,C):void(M._events&&M._events[m]?Array.isArray(M._events[m])?M._events[m].unshift(C):M._events[m]=[C,M._events[m]]:M.on(m,C))}function h(M,m,C){X=X||s("./_stream_duplex"),M=M||{},typeof C!="boolean"&&(C=m instanceof X),this.objectMode=!!M.objectMode,C&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=Ce(this,M,"readableHighWaterMark",C),this.buffer=new ue,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(!Y&&(Y=s("string_decoder/").StringDecoder),this.decoder=new Y(M.encoding),this.encoding=M.encoding)}function p(M){if(X=X||s("./_stream_duplex"),!(this instanceof p))return new p(M);var m=this instanceof X;this._readableState=new h(M,this,m),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),de.call(this)}function g(M,m,C,x,U){J("readableAddChunk",m);var H=M._readableState;if(m===null)H.reading=!1,E(M,H);else{var z;if(U||(z=w(H,m)),z)F(M,z);else if(!(H.objectMode||m&&0<m.length))x||(H.reading=!1,D(M,H));else if(typeof m=="string"||H.objectMode||Object.getPrototypeOf(m)===ge.prototype||(m=u(m)),x)H.endEmitted?F(M,new P):v(M,H,m,!0);else if(H.ended)F(M,new R);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!C?(m=H.decoder.write(m),H.objectMode||m.length!==0?v(M,H,m,!1):D(M,H)):v(M,H,m,!1)}}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function v(M,m,C,x){m.flowing&&m.length===0&&!m.sync?(m.awaitDrain=0,M.emit("data",C)):(m.length+=m.objectMode?1:C.length,x?m.buffer.unshift(C):m.buffer.push(C),m.needReadable&&y(M)),D(M,m)}function w(M,m){var C;return f(m)||typeof m=="string"||m===void 0||M.objectMode||(C=new O("chunk",["string","Buffer","Uint8Array"],m)),C}function b(M){return 1073741824<=M?M=1073741824:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function S(M,m){return 0>=M||m.length===0&&m.ended?0:m.objectMode?1:M===M?(M>m.highWaterMark&&(m.highWaterMark=b(M)),M<=m.length?M:m.ended?m.length:(m.needReadable=!0,0)):m.flowing&&m.length?m.buffer.head.data.length:m.length}function E(M,m){if(J("onEofChunk"),!m.ended){if(m.decoder){var C=m.decoder.end();C&&C.length&&(m.buffer.push(C),m.length+=m.objectMode?1:C.length)}m.ended=!0,m.sync?y(M):(m.needReadable=!1,!m.emittedReadable&&(m.emittedReadable=!0,k(M)))}}function y(M){var m=M._readableState;J("emitReadable",m.needReadable,m.emittedReadable),m.needReadable=!1,m.emittedReadable||(J("emitReadable",m.flowing),m.emittedReadable=!0,l.nextTick(k,M))}function k(M){var m=M._readableState;J("emitReadable_",m.destroyed,m.length,m.ended),!m.destroyed&&(m.length||m.ended)&&(M.emit("readable"),m.emittedReadable=!1),m.needReadable=!m.flowing&&!m.ended&&m.length<=m.highWaterMark,K(M)}function D(M,m){m.readingMore||(m.readingMore=!0,l.nextTick(T,M,m))}function T(M,m){for(;!m.reading&&!m.ended&&(m.length<m.highWaterMark||m.flowing&&m.length===0);){var C=m.length;if(J("maybeReadMore read 0"),M.read(0),C===m.length)break}m.readingMore=!1}function N(M){return function(){var m=M._readableState;J("pipeOnDrain",m.awaitDrain),m.awaitDrain&&m.awaitDrain--,m.awaitDrain===0&&ee(M,"data")&&(m.flowing=!0,K(M))}}function $(M){var m=M._readableState;m.readableListening=0<M.listenerCount("readable"),m.resumeScheduled&&!m.paused?m.flowing=!0:0<M.listenerCount("data")&&M.resume()}function I(M){J("readable nexttick read 0"),M.read(0)}function L(M,m){m.resumeScheduled||(m.resumeScheduled=!0,l.nextTick(j,M,m))}function j(M,m){J("resume",m.reading),m.reading||M.read(0),m.resumeScheduled=!1,M.emit("resume"),K(M),m.flowing&&!m.reading&&M.read(0)}function K(M){var m=M._readableState;for(J("flow",m.flowing);m.flowing&&M.read()!==null;);}function V(M,m){if(m.length===0)return null;var C;return m.objectMode?C=m.buffer.shift():!M||M>=m.length?(C=m.decoder?m.buffer.join(""):m.buffer.length===1?m.buffer.first():m.buffer.concat(m.length),m.buffer.clear()):C=m.buffer.consume(M,m.decoder),C}function G(M){var m=M._readableState;J("endReadable",m.endEmitted),m.endEmitted||(m.ended=!0,l.nextTick(B,m,M))}function B(M,m){if(J("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,m.readable=!1,m.emit("end"),M.autoDestroy)){var C=m._writableState;(!C||C.autoDestroy&&C.finished)&&m.destroy()}}function W(M,m){for(var C=0,x=M.length;C<x;C++)if(M[C]===m)return C;return-1}a.exports=p;var X;p.ReadableState=h;var J;s("events").EventEmitter;var ee=function(M,m){return M.listeners(m).length},de=s("./internal/streams/stream"),ge=s("buffer").Buffer,Z=c.Uint8Array||function(){},te=s("util");J=te&&te.debuglog?te.debuglog("stream"):function(){};var Y,oe,re,ue=s("./internal/streams/buffer_list"),fe=s("./internal/streams/destroy"),ke=s("./internal/streams/state"),Ce=ke.getHighWaterMark,Se=s("../errors").codes,O=Se.ERR_INVALID_ARG_TYPE,R=Se.ERR_STREAM_PUSH_AFTER_EOF,A=Se.ERR_METHOD_NOT_IMPLEMENTED,P=Se.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;s("inherits")(p,de);var F=fe.errorOrDestroy,q=["error","close","destroy","pause","resume"];Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),p.prototype.destroy=fe.destroy,p.prototype._undestroy=fe.undestroy,p.prototype._destroy=function(M,m){m(M)},p.prototype.push=function(M,m){var C,x=this._readableState;return x.objectMode?C=!0:typeof M=="string"&&(m=m||x.defaultEncoding,m!==x.encoding&&(M=ge.from(M,m),m=""),C=!0),g(this,M,m,!1,C)},p.prototype.unshift=function(M){return g(this,M,null,!0,!1)},p.prototype.isPaused=function(){return this._readableState.flowing===!1},p.prototype.setEncoding=function(M){Y||(Y=s("string_decoder/").StringDecoder);var m=new Y(M);this._readableState.decoder=m,this._readableState.encoding=this._readableState.decoder.encoding;for(var C=this._readableState.buffer.head,x="";C!==null;)x+=m.write(C.data),C=C.next;return this._readableState.buffer.clear(),x!==""&&this._readableState.buffer.push(x),this._readableState.length=x.length,this},p.prototype.read=function(M){J("read",M),M=parseInt(M,10);var m=this._readableState,C=M;if(M!==0&&(m.emittedReadable=!1),M===0&&m.needReadable&&((m.highWaterMark===0?0<m.length:m.length>=m.highWaterMark)||m.ended))return J("read: emitReadable",m.length,m.ended),m.length===0&&m.ended?G(this):y(this),null;if(M=S(M,m),M===0&&m.ended)return m.length===0&&G(this),null;var x=m.needReadable;J("need readable",x),(m.length===0||m.length-M<m.highWaterMark)&&(x=!0,J("length less than watermark",x)),m.ended||m.reading?(x=!1,J("reading or ended",x)):x&&(J("do read"),m.reading=!0,m.sync=!0,m.length===0&&(m.needReadable=!0),this._read(m.highWaterMark),m.sync=!1,!m.reading&&(M=S(C,m)));var U;return U=0<M?V(M,m):null,U===null?(m.needReadable=m.length<=m.highWaterMark,M=0):(m.length-=M,m.awaitDrain=0),m.length===0&&(!m.ended&&(m.needReadable=!0),C!==M&&m.ended&&G(this)),U!==null&&this.emit("data",U),U},p.prototype._read=function(){F(this,new A("_read()"))},p.prototype.pipe=function(M,m){function C(Ee,xe){J("onunpipe"),Ee===me&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,U())}function x(){J("onend"),M.end()}function U(){J("cleanup"),M.removeListener("close",Q),M.removeListener("finish",ae),M.removeListener("drain",He),M.removeListener("error",z),M.removeListener("unpipe",C),me.removeListener("end",x),me.removeListener("end",ve),me.removeListener("data",H),ne=!0,ie.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&He()}function H(Ee){J("ondata");var xe=M.write(Ee);J("dest.write",xe),xe===!1&&((ie.pipesCount===1&&ie.pipes===M||1<ie.pipesCount&&W(ie.pipes,M)!==-1)&&!ne&&(J("false write response, pause",ie.awaitDrain),ie.awaitDrain++),me.pause())}function z(Ee){J("onerror",Ee),ve(),M.removeListener("error",z),ee(M,"error")===0&&F(M,Ee)}function Q(){M.removeListener("finish",ae),ve()}function ae(){J("onfinish"),M.removeListener("close",Q),ve()}function ve(){J("unpipe"),me.unpipe(M)}var me=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=M;break;case 1:ie.pipes=[ie.pipes,M];break;default:ie.pipes.push(M)}ie.pipesCount+=1,J("pipe count=%d opts=%j",ie.pipesCount,m);var be=(!m||m.end!==!1)&&M!==l.stdout&&M!==l.stderr,De=be?x:ve;ie.endEmitted?l.nextTick(De):me.once("end",De),M.on("unpipe",C);var He=N(me);M.on("drain",He);var ne=!1;return me.on("data",H),d(M,"error",z),M.once("close",Q),M.once("finish",ae),M.emit("pipe",me),ie.flowing||(J("pipe resume"),me.resume()),M},p.prototype.unpipe=function(M){var m=this._readableState,C={hasUnpiped:!1};if(m.pipesCount===0)return this;if(m.pipesCount===1)return M&&M!==m.pipes?this:(M||(M=m.pipes),m.pipes=null,m.pipesCount=0,m.flowing=!1,M&&M.emit("unpipe",this,C),this);if(!M){var x=m.pipes,U=m.pipesCount;m.pipes=null,m.pipesCount=0,m.flowing=!1;for(var H=0;H<U;H++)x[H].emit("unpipe",this,{hasUnpiped:!1});return this}var z=W(m.pipes,M);return z===-1?this:(m.pipes.splice(z,1),m.pipesCount-=1,m.pipesCount===1&&(m.pipes=m.pipes[0]),M.emit("unpipe",this,C),this)},p.prototype.on=function(M,m){var C=de.prototype.on.call(this,M,m),x=this._readableState;return M==="data"?(x.readableListening=0<this.listenerCount("readable"),x.flowing!==!1&&this.resume()):M=="readable"&&!x.endEmitted&&!x.readableListening&&(x.readableListening=x.needReadable=!0,x.flowing=!1,x.emittedReadable=!1,J("on readable",x.length,x.reading),x.length?y(this):!x.reading&&l.nextTick(I,this)),C},p.prototype.addListener=p.prototype.on,p.prototype.removeListener=function(M,m){var C=de.prototype.removeListener.call(this,M,m);return M==="readable"&&l.nextTick($,this),C},p.prototype.removeAllListeners=function(M){var m=de.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&l.nextTick($,this),m},p.prototype.resume=function(){var M=this._readableState;return M.flowing||(J("resume"),M.flowing=!M.readableListening,L(this,M)),M.paused=!1,this},p.prototype.pause=function(){return J("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(J("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},p.prototype.wrap=function(M){var m=this,C=this._readableState,x=!1;for(var U in M.on("end",function(){if(J("wrapped end"),C.decoder&&!C.ended){var z=C.decoder.end();z&&z.length&&m.push(z)}m.push(null)}),M.on("data",function(z){if(J("wrapped data"),C.decoder&&(z=C.decoder.write(z)),!(C.objectMode&&z==null)&&(C.objectMode||z&&z.length)){var Q=m.push(z);Q||(x=!0,M.pause())}}),M)this[U]===void 0&&typeof M[U]=="function"&&(this[U]=function(z){return function(){return M[z].apply(M,arguments)}}(U));for(var H=0;H<q.length;H++)M.on(q[H],this.emit.bind(this,q[H]));return this._read=function(z){J("wrapped _read",z),x&&(x=!1,M.resume())},this},typeof Symbol=="function"&&(p.prototype[Symbol.asyncIterator]=function(){return oe===void 0&&(oe=s("./internal/streams/async_iterator")),oe(this)}),Object.defineProperty(p.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(p.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(p.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),p._fromList=V,Object.defineProperty(p.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(p.from=function(M,m){return re===void 0&&(re=s("./internal/streams/from")),re(p,M,m)})}).call(this)}).call(this,s("_process"),typeof On=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:On)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(s,a){function l(b,S){var E=this._transformState;E.transforming=!1;var y=E.writecb;if(y===null)return this.emit("error",new p);E.writechunk=null,E.writecb=null,S!=null&&this.push(S),y(b);var k=this._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}function c(b){return this instanceof c?(w.call(this,b),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),void this.on("prefinish",u)):new c(b)}function u(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?f(this,null,null):this._flush(function(S,E){f(b,S,E)})}function f(b,S,E){if(S)return b.emit("error",S);if(E!=null&&b.push(E),b._writableState.length)throw new v;if(b._transformState.transforming)throw new g;return b.push(null)}a.exports=c;var d=s("../errors").codes,h=d.ERR_METHOD_NOT_IMPLEMENTED,p=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_TRANSFORM_ALREADY_TRANSFORMING,v=d.ERR_TRANSFORM_WITH_LENGTH_0,w=s("./_stream_duplex");s("inherits")(c,w),c.prototype.push=function(b,S){return this._transformState.needTransform=!1,w.prototype.push.call(this,b,S)},c.prototype._transform=function(b,S,E){E(new h("_transform()"))},c.prototype._write=function(b,S,E){var y=this._transformState;if(y.writecb=E,y.writechunk=b,y.writeencoding=S,!y.transforming){var k=this._readableState;(y.needTransform||k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}},c.prototype._read=function(){var b=this._transformState;b.writechunk===null||b.transforming?b.needTransform=!0:(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform))},c.prototype._destroy=function(b,S){w.prototype._destroy.call(this,b,function(E){S(E)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(s,a){(function(l,c){(function(){function u(A){var P=this;this.next=null,this.entry=null,this.finish=function(){G(P,A)}}function f(A){return J.from(A)}function d(A){return J.isBuffer(A)||A instanceof ee}function h(){}function p(A,P,F){B=B||s("./_stream_duplex"),A=A||{},typeof F!="boolean"&&(F=P instanceof B),this.objectMode=!!A.objectMode,F&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=Z(this,A,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=A.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(M){D(P,M)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function g(A){B=B||s("./_stream_duplex");var P=this instanceof B;return P||R.call(g,this)?(this._writableState=new p(A,this,P),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),void X.call(this)):new g(A)}function v(A,P){var F=new Ce;O(A,F),l.nextTick(P,F)}function w(A,P,F,q){var M;return F===null?M=new ke:typeof F!="string"&&!P.objectMode&&(M=new Y("chunk",["string","Buffer"],F)),!M||(O(A,M),l.nextTick(q,M),!1)}function b(A,P,F){return A.objectMode||A.decodeStrings===!1||typeof P!="string"||(P=J.from(P,F)),P}function S(A,P,F,q,M,m){if(!F){var C=b(P,q,M);q!==C&&(F=!0,M="buffer",q=C)}var x=P.objectMode?1:q.length;P.length+=x;var U=P.length<P.highWaterMark;if(U||(P.needDrain=!0),P.writing||P.corked){var H=P.lastBufferedRequest;P.lastBufferedRequest={chunk:q,encoding:M,isBuf:F,callback:m,next:null},H?H.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else E(A,P,!1,x,q,M,m);return U}function E(A,P,F,q,M,m,C){P.writelen=q,P.writecb=C,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new fe("write")):F?A._writev(M,P.onwrite):A._write(M,m,P.onwrite),P.sync=!1}function y(A,P,F,q,M){--P.pendingcb,F?(l.nextTick(M,q),l.nextTick(K,A,P),A._writableState.errorEmitted=!0,O(A,q)):(M(q),A._writableState.errorEmitted=!0,O(A,q),K(A,P))}function k(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function D(A,P){var F=A._writableState,q=F.sync,M=F.writecb;if(typeof M!="function")throw new re;if(k(F),P)y(A,F,q,P,M);else{var m=I(F)||A.destroyed;m||F.corked||F.bufferProcessing||!F.bufferedRequest||$(A,F),q?l.nextTick(T,A,F,m,M):T(A,F,m,M)}}function T(A,P,F,q){F||N(A,P),P.pendingcb--,q(),K(A,P)}function N(A,P){P.length===0&&P.needDrain&&(P.needDrain=!1,A.emit("drain"))}function $(A,P){P.bufferProcessing=!0;var F=P.bufferedRequest;if(A._writev&&F&&F.next){var q=P.bufferedRequestCount,M=Array(q),m=P.corkedRequestsFree;m.entry=F;for(var C=0,x=!0;F;)M[C]=F,F.isBuf||(x=!1),F=F.next,C+=1;M.allBuffers=x,E(A,P,!0,P.length,M,"",m.finish),P.pendingcb++,P.lastBufferedRequest=null,m.next?(P.corkedRequestsFree=m.next,m.next=null):P.corkedRequestsFree=new u(P),P.bufferedRequestCount=0}else{for(;F;){var U=F.chunk,H=F.encoding,z=F.callback,Q=P.objectMode?1:U.length;if(E(A,P,!1,Q,U,H,z),F=F.next,P.bufferedRequestCount--,P.writing)break}F===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=F,P.bufferProcessing=!1}function I(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function L(A,P){A._final(function(F){P.pendingcb--,F&&O(A,F),P.prefinished=!0,A.emit("prefinish"),K(A,P)})}function j(A,P){P.prefinished||P.finalCalled||(typeof A._final!="function"||P.destroyed?(P.prefinished=!0,A.emit("prefinish")):(P.pendingcb++,P.finalCalled=!0,l.nextTick(L,A,P)))}function K(A,P){var F=I(P);if(F&&(j(A,P),P.pendingcb===0&&(P.finished=!0,A.emit("finish"),P.autoDestroy))){var q=A._readableState;(!q||q.autoDestroy&&q.endEmitted)&&A.destroy()}return F}function V(A,P,F){P.ending=!0,K(A,P),F&&(P.finished?l.nextTick(F):A.once("finish",F)),P.ended=!0,A.writable=!1}function G(A,P,F){var q=A.entry;for(A.entry=null;q;){var M=q.callback;P.pendingcb--,M(F),q=q.next}P.corkedRequestsFree.next=A}a.exports=g;var B;g.WritableState=p;var W={deprecate:s("util-deprecate")},X=s("./internal/streams/stream"),J=s("buffer").Buffer,ee=c.Uint8Array||function(){},de=s("./internal/streams/destroy"),ge=s("./internal/streams/state"),Z=ge.getHighWaterMark,te=s("../errors").codes,Y=te.ERR_INVALID_ARG_TYPE,oe=te.ERR_METHOD_NOT_IMPLEMENTED,re=te.ERR_MULTIPLE_CALLBACK,ue=te.ERR_STREAM_CANNOT_PIPE,fe=te.ERR_STREAM_DESTROYED,ke=te.ERR_STREAM_NULL_VALUES,Ce=te.ERR_STREAM_WRITE_AFTER_END,Se=te.ERR_UNKNOWN_ENCODING,O=de.errorOrDestroy;s("inherits")(g,X),p.prototype.getBuffer=function(){for(var A=this.bufferedRequest,P=[];A;)P.push(A),A=A.next;return P},function(){try{Object.defineProperty(p.prototype,"buffer",{get:W.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(A){}}();var R;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(A){return!!R.call(this,A)||this===g&&A&&A._writableState instanceof p}})):R=function(A){return A instanceof this},g.prototype.pipe=function(){O(this,new ue)},g.prototype.write=function(A,P,F){var q=this._writableState,M=!1,m=!q.objectMode&&d(A);return m&&!J.isBuffer(A)&&(A=f(A)),typeof P=="function"&&(F=P,P=null),m?P="buffer":!P&&(P=q.defaultEncoding),typeof F!="function"&&(F=h),q.ending?v(this,F):(m||w(this,q,A,F))&&(q.pendingcb++,M=S(this,q,m,A,P,F)),M},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&$(this,A))},g.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())))throw new Se(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(A,P,F){F(new oe("_write()"))},g.prototype._writev=null,g.prototype.end=function(A,P,F){var q=this._writableState;return typeof A=="function"?(F=A,A=null,P=null):typeof P=="function"&&(F=P,P=null),A!=null&&this.write(A,P),q.corked&&(q.corked=1,this.uncork()),q.ending||V(this,q,F),this},Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),g.prototype.destroy=de.destroy,g.prototype._undestroy=de.undestroy,g.prototype._destroy=function(A,P){P(A)}}).call(this)}).call(this,s("_process"),typeof On=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:On)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(s,a){(function(l){(function(){function c(N,$,I){return $ in N?Object.defineProperty(N,$,{value:I,enumerable:!0,configurable:!0,writable:!0}):N[$]=I,N}function u(N,$){return{value:N,done:$}}function f(N){var $=N[v];if($!==null){var I=N[k].read();I!==null&&(N[E]=null,N[v]=null,N[w]=null,$(u(I,!1)))}}function d(N){l.nextTick(f,N)}function h(N,$){return function(I,L){N.then(function(){return $[S]?void I(u(void 0,!0)):void $[y](I,L)},L)}}var p,g=s("./end-of-stream"),v=Symbol("lastResolve"),w=Symbol("lastReject"),b=Symbol("error"),S=Symbol("ended"),E=Symbol("lastPromise"),y=Symbol("handlePromise"),k=Symbol("stream"),D=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((p={get stream(){return this[k]},next:function(){var N=this,$=this[b];if($!==null)return Promise.reject($);if(this[S])return Promise.resolve(u(void 0,!0));if(this[k].destroyed)return new Promise(function(K,V){l.nextTick(function(){N[b]?V(N[b]):K(u(void 0,!0))})});var I,L=this[E];if(L)I=new Promise(h(L,this));else{var j=this[k].read();if(j!==null)return Promise.resolve(u(j,!1));I=new Promise(this[y])}return this[E]=I,I}},c(p,Symbol.asyncIterator,function(){return this}),c(p,"return",function(){var N=this;return new Promise(function($,I){N[k].destroy(null,function(L){return L?void I(L):void $(u(void 0,!0))})})}),p),D);a.exports=function(N){var $,I=Object.create(T,($={},c($,k,{value:N,writable:!0}),c($,v,{value:null,writable:!0}),c($,w,{value:null,writable:!0}),c($,b,{value:null,writable:!0}),c($,S,{value:N._readableState.endEmitted,writable:!0}),c($,y,{value:function(L,j){var K=I[k].read();K?(I[E]=null,I[v]=null,I[w]=null,L(u(K,!1))):(I[v]=L,I[w]=j)},writable:!0}),$));return I[E]=null,g(N,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=I[w];return j!==null&&(I[E]=null,I[v]=null,I[w]=null,j(L)),void(I[b]=L)}var K=I[v];K!==null&&(I[E]=null,I[v]=null,I[w]=null,K(u(void 0,!0))),I[S]=!0}),N.on("readable",d.bind(null,I)),I}}).call(this)}).call(this,s("_process"))},{"./end-of-stream":24,_process:12}],22:[function(s,a){function l(E,y){var k=Object.keys(E);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(E);y&&(D=D.filter(function(T){return Object.getOwnPropertyDescriptor(E,T).enumerable})),k.push.apply(k,D)}return k}function c(E){for(var y,k=1;k<arguments.length;k++)y=arguments[k]==null?{}:arguments[k],k%2?l(Object(y),!0).forEach(function(D){u(E,D,y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(y)):l(Object(y)).forEach(function(D){Object.defineProperty(E,D,Object.getOwnPropertyDescriptor(y,D))});return E}function u(E,y,k){return y in E?Object.defineProperty(E,y,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[y]=k,E}function f(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function d(E,y){for(var k,D=0;D<y.length;D++)k=y[D],k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}function h(E,y,k){return y&&d(E.prototype,y),k&&d(E,k),E}function p(E,y,k){v.prototype.copy.call(E,y,k)}var g=s("buffer"),v=g.Buffer,w=s("util"),b=w.inspect,S=b&&b.custom||"inspect";a.exports=function(){function E(){f(this,E),this.head=null,this.tail=null,this.length=0}return h(E,[{key:"push",value:function(y){var k={data:y,next:null};0<this.length?this.tail.next=k:this.head=k,this.tail=k,++this.length}},{key:"unshift",value:function(y){var k={data:y,next:this.head};this.length===0&&(this.tail=k),this.head=k,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var k=this.head,D=""+k.data;k=k.next;)D+=y+k.data;return D}},{key:"concat",value:function(y){if(this.length===0)return v.alloc(0);for(var k=v.allocUnsafe(y>>>0),D=this.head,T=0;D;)p(D.data,k,T),T+=D.data.length,D=D.next;return k}},{key:"consume",value:function(y,k){var D;return y<this.head.data.length?(D=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?D=this.shift():D=k?this._getString(y):this._getBuffer(y),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var k=this.head,D=1,T=k.data;for(y-=T.length;k=k.next;){var N=k.data,$=y>N.length?N.length:y;if(T+=$===N.length?N:N.slice(0,y),y-=$,y===0){$===N.length?(++D,this.head=k.next?k.next:this.tail=null):(this.head=k,k.data=N.slice($));break}++D}return this.length-=D,T}},{key:"_getBuffer",value:function(y){var k=v.allocUnsafe(y),D=this.head,T=1;for(D.data.copy(k),y-=D.data.length;D=D.next;){var N=D.data,$=y>N.length?N.length:y;if(N.copy(k,k.length-y,0,$),y-=$,y===0){$===N.length?(++T,this.head=D.next?D.next:this.tail=null):(this.head=D,D.data=N.slice($));break}++T}return this.length-=T,k}},{key:S,value:function(y,k){return b(this,c({},k,{depth:0,customInspect:!1}))}}]),E}()},{buffer:3,util:2}],23:[function(s,a){(function(l){(function(){function c(d,h){f(d,h),u(d)}function u(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function f(d,h){d.emit("error",h)}a.exports={destroy:function(d,h){var p=this,g=this._readableState&&this._readableState.destroyed,v=this._writableState&&this._writableState.destroyed;return g||v?(h?h(d):d&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,l.nextTick(f,this,d)):l.nextTick(f,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(w){!h&&w?p._writableState?p._writableState.errorEmitted?l.nextTick(u,p):(p._writableState.errorEmitted=!0,l.nextTick(c,p,w)):l.nextTick(c,p,w):h?(l.nextTick(u,p),h(w)):l.nextTick(u,p)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(d,h){var p=d._readableState,g=d._writableState;p&&p.autoDestroy||g&&g.autoDestroy?d.destroy(h):d.emit("error",h)}}}).call(this)}).call(this,s("_process"))},{_process:12}],24:[function(s,a){function l(h){var p=!1;return function(){if(!p){p=!0;for(var g=arguments.length,v=Array(g),w=0;w<g;w++)v[w]=arguments[w];h.apply(this,v)}}}function c(){}function u(h){return h.setHeader&&typeof h.abort=="function"}function f(h,p,g){if(typeof p=="function")return f(h,null,p);p||(p={}),g=l(g||c);var v=p.readable||p.readable!==!1&&h.readable,w=p.writable||p.writable!==!1&&h.writable,b=function(){h.writable||E()},S=h._writableState&&h._writableState.finished,E=function(){w=!1,S=!0,v||g.call(h)},y=h._readableState&&h._readableState.endEmitted,k=function(){v=!1,y=!0,w||g.call(h)},D=function($){g.call(h,$)},T=function(){var $;return v&&!y?(h._readableState&&h._readableState.ended||($=new d),g.call(h,$)):w&&!S?(h._writableState&&h._writableState.ended||($=new d),g.call(h,$)):void 0},N=function(){h.req.on("finish",E)};return u(h)?(h.on("complete",E),h.on("abort",T),h.req?N():h.on("request",N)):w&&!h._writableState&&(h.on("end",b),h.on("close",b)),h.on("end",k),h.on("finish",E),p.error!==!1&&h.on("error",D),h.on("close",T),function(){h.removeListener("complete",E),h.removeListener("abort",T),h.removeListener("request",N),h.req&&h.req.removeListener("finish",E),h.removeListener("end",b),h.removeListener("close",b),h.removeListener("finish",E),h.removeListener("end",k),h.removeListener("error",D),h.removeListener("close",T)}}var d=s("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;a.exports=f},{"../../../errors":15}],25:[function(s,a){a.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(s,a){function l(S){var E=!1;return function(){E||(E=!0,S.apply(void 0,arguments))}}function c(S){if(S)throw S}function u(S){return S.setHeader&&typeof S.abort=="function"}function f(S,E,y,k){k=l(k);var D=!1;S.on("close",function(){D=!0}),g===void 0&&(g=s("./end-of-stream")),g(S,{readable:E,writable:y},function(N){return N?k(N):(D=!0,void k())});var T=!1;return function(N){if(!D)return T?void 0:(T=!0,u(S)?S.abort():typeof S.destroy=="function"?S.destroy():void k(N||new b("pipe")))}}function d(S){S()}function h(S,E){return S.pipe(E)}function p(S){return S.length&&typeof S[S.length-1]=="function"?S.pop():c}var g,v=s("../../../errors").codes,w=v.ERR_MISSING_ARGS,b=v.ERR_STREAM_DESTROYED;a.exports=function(){for(var S=arguments.length,E=Array(S),y=0;y<S;y++)E[y]=arguments[y];var k=p(E);if(Array.isArray(E[0])&&(E=E[0]),2>E.length)throw new w("streams");var D,T=E.map(function(N,$){var I=$<E.length-1;return f(N,I,0<$,function(L){D||(D=L),L&&T.forEach(d),I||(T.forEach(d),k(D))})});return E.reduce(h)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(s,a){function l(u,f,d){return u.highWaterMark==null?f?u[d]:null:u.highWaterMark}var c=s("../../../errors").codes.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(u,f,d,h){var p=l(f,h,d);if(p!=null){if(!(isFinite(p)&&r(p)===p)||0>p){var g=h?d:"highWaterMark";throw new c(g,p)}return r(p)}return u.objectMode?16:16384}}},{"../../../errors":15}],28:[function(s,a){a.exports=s("events").EventEmitter},{events:7}],29:[function(s,a,l){l=a.exports=s("./lib/_stream_readable.js"),l.Stream=l,l.Readable=l,l.Writable=s("./lib/_stream_writable.js"),l.Duplex=s("./lib/_stream_duplex.js"),l.Transform=s("./lib/_stream_transform.js"),l.PassThrough=s("./lib/_stream_passthrough.js"),l.finished=s("./lib/internal/streams/end-of-stream.js"),l.pipeline=s("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(s,a,l){function c(h,p){for(var g in h)p[g]=h[g]}function u(h,p,g){return d(h,p,g)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var f=s("buffer"),d=f.Buffer;d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?a.exports=f:(c(f,l),l.Buffer=u),u.prototype=Object.create(d.prototype),c(d,u),u.from=function(h,p,g){if(typeof h=="number")throw new TypeError("Argument must not be a number");return d(h,p,g)},u.alloc=function(h,p,g){if(typeof h!="number")throw new TypeError("Argument must be a number");var v=d(h);return p===void 0?v.fill(0):typeof g=="string"?v.fill(p,g):v.fill(p),v},u.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return d(h)},u.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(h)}},{buffer:3}],31:[function(s,a,l){function c(T){if(!T)return"utf8";for(var N;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(N)return;T=(""+T).toLowerCase(),N=!0}}function u(T){var N=c(T);if(typeof N!="string"&&(k.isEncoding===D||!D(T)))throw new Error("Unknown encoding: "+T);return N||T}function f(T){this.encoding=u(T);var N;switch(this.encoding){case"utf16le":this.text=v,this.end=w,N=4;break;case"utf8":this.fillLast=g,N=4;break;case"base64":this.text=b,this.end=S,N=3;break;default:return this.write=E,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=k.allocUnsafe(N)}function d(T){return 127>=T?0:T>>5==6?2:T>>4==14?3:T>>3==30?4:T>>6==2?-1:-2}function h(T,N,$){var I=N.length-1;if(I<$)return 0;var L=d(N[I]);return 0<=L?(0<L&&(T.lastNeed=L-1),L):--I<$||L===-2?0:(L=d(N[I]),0<=L?(0<L&&(T.lastNeed=L-2),L):--I<$||L===-2?0:(L=d(N[I]),0<=L?(0<L&&(L===2?L=0:T.lastNeed=L-3),L):0))}function p(T,N){if((192&N[0])!=128)return T.lastNeed=0,"\uFFFD";if(1<T.lastNeed&&1<N.length){if((192&N[1])!=128)return T.lastNeed=1,"\uFFFD";if(2<T.lastNeed&&2<N.length&&(192&N[2])!=128)return T.lastNeed=2,"\uFFFD"}}function g(T){var N=this.lastTotal-this.lastNeed,$=p(this,T);return $===void 0?this.lastNeed<=T.length?(T.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(T.copy(this.lastChar,N,0,T.length),void(this.lastNeed-=T.length)):$}function v(T,N){if((T.length-N)%2==0){var $=T.toString("utf16le",N);if($){var I=$.charCodeAt($.length-1);if(55296<=I&&56319>=I)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],$.slice(0,-1)}return $}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",N,T.length-1)}function w(T){var N=T&&T.length?this.write(T):"";if(this.lastNeed){var $=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,$)}return N}function b(T,N){var $=(T.length-N)%3;return $==0?T.toString("base64",N):(this.lastNeed=3-$,this.lastTotal=3,$==1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",N,T.length-$))}function S(T){var N=T&&T.length?this.write(T):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function E(T){return T.toString(this.encoding)}function y(T){return T&&T.length?this.write(T):""}var k=s("safe-buffer").Buffer,D=k.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};l.StringDecoder=f,f.prototype.write=function(T){if(T.length===0)return"";var N,$;if(this.lastNeed){if(N=this.fillLast(T),N===void 0)return"";$=this.lastNeed,this.lastNeed=0}else $=0;return $<T.length?N?N+this.text(T,$):this.text(T,$):N||""},f.prototype.end=function(T){var N=T&&T.length?this.write(T):"";return this.lastNeed?N+"\uFFFD":N},f.prototype.text=function(T,N){var $=h(this,T,N);if(!this.lastNeed)return T.toString("utf8",N);this.lastTotal=$;var I=T.length-($-this.lastNeed);return T.copy(this.lastChar,0,I),T.toString("utf8",N,I)},f.prototype.fillLast=function(T){return this.lastNeed<=T.length?(T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),void(this.lastNeed-=T.length))}},{"safe-buffer":30}],32:[function(s,a){(function(l){(function(){function c(u){try{if(!l.localStorage)return!1}catch(d){return!1}var f=l.localStorage[u];return f!=null&&(f+"").toLowerCase()==="true"}a.exports=function(u,f){function d(){if(!h){if(c("throwDeprecation"))throw new Error(f);c("traceDeprecation")?console.trace(f):console.warn(f),h=!0}return u.apply(this,arguments)}if(c("noDeprecation"))return u;var h=!1;return d}}).call(this)}).call(this,typeof On=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:On)},{}],"/":[function(s,a){function l(S){return S.replace(/a=ice-options:trickle\s\n/g,"")}function c(S){console.warn(S)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const u=s("debug")("simple-peer"),f=s("get-browser-rtc"),d=s("randombytes"),h=s("readable-stream"),p=s("queue-microtask"),g=s("err-code"),{Buffer:v}=s("buffer"),w=65536;class b extends h.Duplex{constructor(E){if(E=Object.assign({allowHalfOpen:!1},E),super(E),this._id=d(4).toString("hex").slice(0,7),this._debug("new peer %o",E),this.channelName=E.initiator?E.channelName||d(20).toString("hex"):null,this.initiator=E.initiator||!1,this.channelConfig=E.channelConfig||b.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},b.config,E.config),this.offerOptions=E.offerOptions||{},this.answerOptions=E.answerOptions||{},this.sdpTransform=E.sdpTransform||(y=>y),this.streams=E.streams||(E.stream?[E.stream]:[]),this.trickle=E.trickle===void 0||E.trickle,this.allowHalfTrickle=E.allowHalfTrickle!==void 0&&E.allowHalfTrickle,this.iceCompleteTimeout=E.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=E.wrtc&&typeof E.wrtc=="object"?E.wrtc:f(),!this._wrtc)throw g(typeof window=="undefined"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(y){return void this.destroy(g(y,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=y=>{this._onIceCandidate(y)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(y=>{this.destroy(g(y,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=y=>{this._setupData(y)},this.streams&&this.streams.forEach(y=>{this.addStream(y)}),this._pc.ontrack=y=>{this._onTrack(y)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(E){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof E=="string")try{E=JSON.parse(E)}catch(y){E={}}this._debug("signal()"),E.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),E.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(E.transceiverRequest.kind,E.transceiverRequest.init)),E.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(E.candidate):this._pendingCandidates.push(E.candidate)),E.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(E)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(y=>{this._addIceCandidate(y)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(y=>{this.destroy(g(y,"ERR_SET_REMOTE_DESCRIPTION"))}),E.sdp||E.candidate||E.renegotiate||E.transceiverRequest||this.destroy(g(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(E){const y=new this._wrtc.RTCIceCandidate(E);this._pc.addIceCandidate(y).catch(k=>{!y.address||y.address.endsWith(".local")?c("Ignoring unsupported ICE candidate."):this.destroy(g(k,"ERR_ADD_ICE_CANDIDATE"))})}send(E){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(E)}}addTransceiver(E,y){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(E,y),this._needsNegotiation()}catch(k){this.destroy(g(k,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:E,init:y}})}}addStream(E){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),E.getTracks().forEach(y=>{this.addTrack(y,E)})}}addTrack(E,y){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const k=this._senderMap.get(E)||new Map;let D=k.get(y);if(!D)D=this._pc.addTrack(E,y),k.set(y,D),this._senderMap.set(E,k),this._needsNegotiation();else throw D.removed?g(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):g(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(E,y,k){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const D=this._senderMap.get(E),T=D?D.get(k):null;if(!T)throw g(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");y&&this._senderMap.set(y,D),T.replaceTrack==null?this.destroy(g(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):T.replaceTrack(y)}removeTrack(E,y){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const k=this._senderMap.get(E),D=k?k.get(y):null;if(!D)throw g(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{D.removed=!0,this._pc.removeTrack(D)}catch(T){T.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(D):this.destroy(g(T,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(E){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),E.getTracks().forEach(y=>{this.removeTrack(y,E)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,p(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(E){this._destroy(E,()=>{})}_destroy(E,y){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",E&&(E.message||E)),p(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",E&&(E.message||E)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(k){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(k){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,E&&this.emit("error",E),this.emit("close"),y()}))}_setupData(E){if(!E.channel)return this.destroy(g(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=E.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=w),this.channelName=this._channel.label,this._channel.onmessage=k=>{this._onChannelMessage(k)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=k=>{const D=k.error instanceof Error?k.error:new Error(`Datachannel error: ${k.message} ${k.filename}:${k.lineno}:${k.colno}`);this.destroy(g(D,"ERR_DATA_CHANNEL"))};let y=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(y&&this._onChannelClose(),y=!0):y=!1},5e3)}_read(){}_write(E,y,k){if(this.destroyed)return k(g(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(E)}catch(D){return this.destroy(g(D,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>w?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=k):k(null)}else this._debug("write before connect"),this._chunk=E,this._cb=k}_onFinish(){if(!this.destroyed){const E=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?E():this.once("connect",E)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(E=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(E.sdp=l(E.sdp)),E.sdp=this.sdpTransform(E.sdp);const y=()=>{if(!this.destroyed){const k=this._pc.localDescription||E;this._debug("signal"),this.emit("signal",{type:k.type,sdp:k.sdp})}};this._pc.setLocalDescription(E).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))}).catch(k=>{this.destroy(g(k,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(E=>{this.destroy(g(E,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(E=>{E.mid||!E.sender.track||E.requested||(E.requested=!0,this.addTransceiver(E.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(E=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(E.sdp=l(E.sdp)),E.sdp=this.sdpTransform(E.sdp);const y=()=>{if(!this.destroyed){const k=this._pc.localDescription||E;this._debug("signal"),this.emit("signal",{type:k.type,sdp:k.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(E).then(()=>{this.destroyed||(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))}).catch(k=>{this.destroy(g(k,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(E=>{this.destroy(g(E,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(g(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const E=this._pc.iceConnectionState,y=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",E,y),this.emit("iceStateChange",E,y),(E==="connected"||E==="completed")&&(this._pcReady=!0,this._maybeReady()),E==="failed"&&this.destroy(g(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),E==="closed"&&this.destroy(g(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(E){const y=k=>(Object.prototype.toString.call(k.values)==="[object Array]"&&k.values.forEach(D=>{Object.assign(k,D)}),k);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(k=>{const D=[];k.forEach(T=>{D.push(y(T))}),E(null,D)},k=>E(k)):0<this._pc.getStats.length?this._pc.getStats(k=>{if(this.destroyed)return;const D=[];k.result().forEach(T=>{const N={};T.names().forEach($=>{N[$]=T.stat($)}),N.id=T.id,N.type=T.type,N.timestamp=T.timestamp,D.push(y(N))}),E(null,D)},k=>E(k)):E(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const E=()=>{this.destroyed||this.getStats((y,k)=>{if(this.destroyed)return;y&&(k=[]);const D={},T={},N={};let $=!1;k.forEach(L=>{(L.type==="remotecandidate"||L.type==="remote-candidate")&&(D[L.id]=L),(L.type==="localcandidate"||L.type==="local-candidate")&&(T[L.id]=L),(L.type==="candidatepair"||L.type==="candidate-pair")&&(N[L.id]=L)});const I=L=>{$=!0;let j=T[L.localCandidateId];j&&(j.ip||j.address)?(this.localAddress=j.ip||j.address,this.localPort=+j.port):j&&j.ipAddress?(this.localAddress=j.ipAddress,this.localPort=+j.portNumber):typeof L.googLocalAddress=="string"&&(j=L.googLocalAddress.split(":"),this.localAddress=j[0],this.localPort=+j[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let K=D[L.remoteCandidateId];K&&(K.ip||K.address)?(this.remoteAddress=K.ip||K.address,this.remotePort=+K.port):K&&K.ipAddress?(this.remoteAddress=K.ipAddress,this.remotePort=+K.portNumber):typeof L.googRemoteAddress=="string"&&(K=L.googRemoteAddress.split(":"),this.remoteAddress=K[0],this.remotePort=+K[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(k.forEach(L=>{L.type==="transport"&&L.selectedCandidatePairId&&I(N[L.selectedCandidatePairId]),(L.type==="googCandidatePair"&&L.googActiveConnection==="true"||(L.type==="candidatepair"||L.type==="candidate-pair")&&L.selected)&&I(L)}),!$&&(!Object.keys(N).length||Object.keys(T).length))return void setTimeout(E,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(j){return this.destroy(g(j,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const L=this._cb;this._cb=null,L(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};E()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>w)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(E=>{this._pc.removeTrack(E),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(E){this.destroyed||(E.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:E.candidate.candidate,sdpMLineIndex:E.candidate.sdpMLineIndex,sdpMid:E.candidate.sdpMid}}):!E.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),E.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(E){if(this.destroyed)return;let y=E.data;y instanceof ArrayBuffer&&(y=v.from(y)),this.push(y)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const E=this._cb;this._cb=null,E(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(E){this.destroyed||E.streams.forEach(y=>{this._debug("on track"),this.emit("track",E.track,y),this._remoteTracks.push({track:E.track,stream:y}),this._remoteStreams.some(k=>k.id===y.id)||(this._remoteStreams.push(y),p(()=>{this._debug("on stream"),this.emit("stream",y)}))})}_debug(){const E=[].slice.call(arguments);E[0]="["+this._id+"] "+E[0],u.apply(null,E)}}b.WEBRTC_SUPPORT=!!f(),b.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},b.channelConfig={},a.exports=b},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(xS);var M3=xS.exports;const Am=0,Om=1,AS=2,OS=(n,e)=>{Te(n,Am);const r=h1(e);kt(n,r)},DS=(n,e,r)=>{Te(n,Om),kt(n,Tf(e,r))},N3=(n,e,r)=>DS(e,r,Kt(n)),TS=(n,e,r)=>{try{qg(e,Kt(n),r)}catch(i){console.error("Caught error while handling a Yjs update",i)}},R3=(n,e)=>{Te(n,AS),kt(n,e)},I3=TS,P3=(n,e,r,i)=>{const o=Fe(n);switch(o){case Am:N3(n,e,r);break;case Om:TS(n,r,i);break;case AS:I3(n,r,i);break;default:throw new Error("Unknown message type")}return o},Dm=3e4;class L3 extends ha{constructor(e){super();this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const r=Xr();this.getLocalState()!==null&&Dm/2<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const i=[];this.meta.forEach((o,s)=>{s!==this.clientID&&Dm<=r-o.lastUpdated&&this.states.has(s)&&i.push(s)}),i.length>0&&Tm(this,i,"timeout")},as(Dm/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const r=this.clientID,i=this.meta.get(r),o=i===void 0?0:i.clock+1,s=this.states.get(r);e===null?this.states.delete(r):this.states.set(r,e),this.meta.set(r,{clock:o,lastUpdated:Xr()});const a=[],l=[],c=[],u=[];e===null?u.push(r):s==null?e!=null&&a.push(r):(l.push(r),jl(s,e)||c.push(r)),(a.length>0||c.length>0||u.length>0)&&this.emit("change",[{added:a,updated:c,removed:u},"local"]),this.emit("update",[{added:a,updated:l,removed:u},"local"])}setLocalStateField(e,r){const i=this.getLocalState();i!==null&&this.setLocalState(Bt(ce({},i),{[e]:r}))}getStates(){return this.states}}const Tm=(n,e,r)=>{const i=[];for(let o=0;o<e.length;o++){const s=e[o];if(n.states.has(s)){if(n.states.delete(s),s===n.clientID){const a=n.meta.get(s);n.meta.set(s,{clock:a.clock+1,lastUpdated:Xr()})}i.push(s)}}i.length>0&&(n.emit("change",[{added:[],updated:[],removed:i},r]),n.emit("update",[{added:[],updated:[],removed:i},r]))},Xf=(n,e,r=n.states)=>{const i=e.length,o=Ut();Te(o,i);for(let s=0;s<i;s++){const a=e[s],l=r.get(a)||null,c=n.meta.get(a).clock;Te(o,a),Te(o,c),Jr(o,JSON.stringify(l))}return yt(o)},B3=(n,e,r)=>{const i=Yr(e),o=Xr(),s=[],a=[],l=[],c=[],u=Fe(i);for(let f=0;f<u;f++){const d=Fe(i);let h=Fe(i);const p=JSON.parse(Ai(i)),g=n.meta.get(d),v=n.states.get(d),w=g===void 0?0:g.clock;(w<h||w===h&&p===null&&n.states.has(d))&&(p===null?d===n.clientID&&n.getLocalState()!=null?h++:n.states.delete(d):n.states.set(d,p),n.meta.set(d,{clock:h,lastUpdated:o}),g===void 0&&p!==null?s.push(d):g!==void 0&&p===null?c.push(d):p!==null&&(jl(p,v)||l.push(d),a.push(d)))}(s.length>0||l.length>0||c.length>0)&&n.emit("change",[{added:s,updated:l,removed:c},r]),(s.length>0||a.length>0||c.length>0)&&n.emit("update",[{added:s,updated:a,removed:c},r])},F3=(n,e)=>{const r=ME(n).buffer,i=ME(e).buffer;return crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveKey"]).then(o=>crypto.subtle.deriveKey({name:"PBKDF2",salt:i,iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))},MS=(n,e)=>{if(!e)return um(n);const r=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,n).then(i=>{const o=Ut();return Jr(o,"AES-GCM"),kt(o,r),kt(o,new Uint8Array(i)),yt(o)})},$3=(n,e)=>{const r=Ut();return ga(r,n),MS(yt(r),e)},NS=(n,e)=>{if(!e)return um(n);const r=Yr(n);Ai(r)!=="AES-GCM"&&r$(us("Unknown encryption algorithm"));const o=Kt(r),s=Kt(r);return crypto.subtle.decrypt({name:"AES-GCM",iv:o},e,s).then(a=>new Uint8Array(a))},z3=(n,e)=>NS(n,e).then(r=>pa(Yr(new Uint8Array(r)))),Or=UB("y-webrtc"),Aa=0,RS=3,lc=1,Mm=4,Zf=new Map,vs=new Map,IS=n=>{let e=!0;n.webrtcConns.forEach(r=>{r.synced||(e=!1)}),(!e&&n.synced||e&&!n.synced)&&(n.synced=e,n.provider.emit("synced",[{synced:e}]),Or("synced ",Hn,n.name,so," with all peers"))},PS=(n,e,r)=>{const i=Yr(e),o=Ut(),s=Fe(i);if(n===void 0)return null;const a=n.awareness,l=n.doc;let c=!1;switch(s){case Aa:{Te(o,Aa);const u=P3(i,o,l,n);u===Om&&!n.synced&&r(),u===Am&&(c=!0);break}case RS:Te(o,lc),kt(o,Xf(a,Array.from(a.getStates().keys()))),c=!0;break;case lc:B3(a,Kt(i),n);break;case Mm:{const u=cs(i)===1,f=Ai(i);if(f!==n.peerId&&(n.bcConns.has(f)&&!u||!n.bcConns.has(f)&&u)){const d=[],h=[];u?(n.bcConns.add(f),h.push(f)):(n.bcConns.delete(f),d.push(f)),n.provider.emit("peers",[{added:h,removed:d,webrtcPeers:Array.from(n.webrtcConns.keys()),bcPeers:Array.from(n.bcConns)}]),FS(n)}break}default:return console.error("Unable to compute message"),o}return c?o:null},U3=(n,e)=>{const r=n.room;return Or("received message from ",Hn,n.remotePeerId,Af," (",r.name,")",so,ql),PS(r,e,()=>{n.synced=!0,Or("synced ",Hn,r.name,so," with ",Hn,n.remotePeerId),IS(r)})},Nm=(n,e)=>{Or("send message to ",Hn,n.remotePeerId,so,Af," (",n.room.name,")",ql);try{n.peer.send(yt(e))}catch(r){}},H3=(n,e)=>{Or("broadcast message in ",Hn,n.name,so),n.webrtcConns.forEach(r=>{try{r.peer.send(e)}catch(i){}})};class LS{constructor(e,r,i,o){Or("establishing connection to ",Hn,i),this.room=o,this.remotePeerId=i,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new M3(ce({initiator:r},o.provider.peerOpts)),this.peer.on("signal",s=>{Im(e,o,{to:i,from:o.peerId,type:"signal",signal:s})}),this.peer.on("connect",()=>{Or("connected to ",Hn,i),this.connected=!0;const a=o.provider.doc,l=o.awareness,c=Ut();Te(c,Aa),OS(c,a),Nm(this,c);const u=l.getStates();if(u.size>0){const f=Ut();Te(f,lc),kt(f,Xf(l,Array.from(u.keys()))),Nm(this,f)}}),this.peer.on("close",()=>{this.connected=!1,this.closed=!0,o.webrtcConns.has(this.remotePeerId)&&(o.webrtcConns.delete(this.remotePeerId),o.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(o.webrtcConns.keys()),bcPeers:Array.from(o.bcConns)}])),IS(o),this.peer.destroy(),Or("closed connection to ",Hn,i),Rm(o)}),this.peer.on("error",s=>{Or("Error in connection to ",Hn,i,": ",s),Rm(o)}),this.peer.on("data",s=>{const a=U3(this,s);a!==null&&Nm(this,a)})}destroy(){this.peer.destroy()}}const fo=(n,e)=>MS(e,n.key).then(r=>n.mux(()=>T3(n.name,r))),BS=(n,e)=>{n.bcconnected&&fo(n,e),H3(n,e)},Rm=n=>{Zf.forEach(e=>{e.connected&&(e.send({type:"subscribe",topics:[n.name]}),n.webrtcConns.size<n.provider.maxConns&&Im(e,n,{type:"announce",from:n.peerId}))})},FS=n=>{if(n.provider.filterBcConns){const e=Ut();Te(e,Mm),Vl(e,1),Jr(e,n.peerId),fo(n,yt(e))}};class V3{constructor(e,r,i,o){this.peerId=JE(),this.doc=e,this.awareness=r.awareness,this.provider=r,this.synced=!1,this.name=i,this.key=o,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=dm(),this.bcconnected=!1,this._bcSubscriber=s=>NS(new Uint8Array(s),o).then(a=>this.mux(()=>{const l=PS(this,a,()=>{});l&&fo(this,yt(l))})),this._docUpdateHandler=(s,a)=>{const l=Ut();Te(l,Aa),R3(l,s),BS(this,yt(l))},this._awarenessUpdateHandler=({added:s,updated:a,removed:l},c)=>{const u=s.concat(a).concat(l),f=Ut();Te(f,lc),kt(f,Xf(this.awareness,u)),BS(this,yt(f))},this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),window.addEventListener("beforeunload",()=>{Tm(this.awareness,[e.clientID],"window unload"),vs.forEach(s=>{s.disconnect()})})}connect(){Rm(this);const e=this.name;O3(e,this._bcSubscriber),this.bcconnected=!0,FS(this);const r=Ut();Te(r,Aa),OS(r,this.doc),fo(this,yt(r));const i=Ut();Te(i,Aa),DS(i,this.doc),fo(this,yt(i));const o=Ut();Te(o,RS),fo(this,yt(o));const s=Ut();Te(s,lc),kt(s,Xf(this.awareness,[this.doc.clientID])),fo(this,yt(s))}disconnect(){Zf.forEach(r=>{r.connected&&r.send({type:"unsubscribe",topics:[this.name]})}),Tm(this.awareness,[this.doc.clientID],"disconnect");const e=Ut();Te(e,Mm),Vl(e,0),Jr(e,this.peerId),fo(this,yt(e)),D3(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach(r=>r.destroy())}destroy(){this.disconnect()}}const j3=(n,e,r,i)=>{if(vs.has(r))throw us(`A Yjs Doc connected to room "${r}" already exists!`);const o=new V3(n,e,r,i);return vs.set(r,o),o},Im=(n,e,r)=>{e.key?$3(r,e.key).then(i=>{n.send({type:"publish",topic:e.name,data:UE(i)})}):n.send({type:"publish",topic:e.name,data:r})};class q3 extends k3{constructor(e){super(e);this.providers=new Set,this.on("connect",()=>{Or(`connected (${e})`);const r=Array.from(vs.keys());this.send({type:"subscribe",topics:r}),vs.forEach(i=>Im(this,i,{type:"announce",from:i.peerId}))}),this.on("message",r=>{switch(r.type){case"publish":{const i=r.topic,o=vs.get(i);if(o==null||typeof i!="string")return;const s=a=>{const l=o.webrtcConns,c=o.peerId;if(a==null||a.from===c||a.to!==void 0&&a.to!==c||o.bcConns.has(a.from))return;const u=l.has(a.from)?()=>{}:()=>o.provider.emit("peers",[{removed:[],added:[a.from],webrtcPeers:Array.from(o.webrtcConns.keys()),bcPeers:Array.from(o.bcConns)}]);switch(a.type){case"announce":l.size<o.provider.maxConns&&(zn(l,a.from,()=>new LS(this,!0,a.from,o)),u());break;case"signal":a.to===c&&(zn(l,a.from,()=>new LS(this,!1,a.from,o)).peer.signal(a.signal),u());break}};o.key?typeof r.data=="string"&&z3(HE(r.data),o.key).then(s):s(r.data)}}}),this.on("disconnect",()=>Or(`disconnect (${e})`))}}class wne extends ha{constructor(e,r,{signaling:i=["wss://signaling.yjs.dev","wss://y-webrtc-signaling-eu.herokuapp.com","wss://y-webrtc-signaling-us.herokuapp.com"],password:o=null,awareness:s=new L3(r),maxConns:a=20+as(GE()*15),filterBcConns:l=!0,peerOpts:c={}}={}){super();this.roomName=e,this.doc=r,this.filterBcConns=l,this.awareness=s,this.shouldConnect=!1,this.signalingUrls=i,this.signalingConns=[],this.maxConns=a,this.peerOpts=c,this.key=o?F3(o,e):um(null),this.room=null,this.key.then(u=>{this.room=j3(r,this,e,u),this.shouldConnect?this.room.connect():this.room.disconnect()}),this.connect(),this.destroy=this.destroy.bind(this),r.on("destroy",this.destroy)}get connected(){return this.room!==null&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach(e=>{const r=zn(Zf,e,()=>new q3(e));this.signalingConns.push(r),r.providers.add(this)}),this.room&&this.room.connect()}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach(e=>{e.providers.delete(this),e.providers.size===0&&(e.destroy(),Zf.delete(e.url))}),this.room&&this.room.disconnect()}destroy(){this.doc.off("destroy",this.destroy),this.key.then(()=>{this.room.destroy(),vs.delete(this.roomName)}),super.destroy()}}function on(n){this.content=n}on.prototype={constructor:on,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,r){var i=r&&r!=n?this.remove(r):this,o=i.find(n),s=i.content.slice();return o==-1?s.push(r||n,e):(s[o+1]=e,r&&(s[o]=r)),new on(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new on(r)},addToStart:function(n,e){return new on([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var r=this.remove(n).content.slice();return r.push(n,e),new on(r)},addBefore:function(n,e,r){var i=this.remove(e),o=i.content.slice(),s=i.find(n);return o.splice(s==-1?o.length:s,0,e,r),new on(o)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=on.from(n),n.size?new on(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=on.from(n),n.size?new on(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=on.from(n);for(var r=0;r<n.content.length;r+=2)e=e.remove(n.content[r]);return e},get size(){return this.content.length>>1}};on.from=function(n){if(n instanceof on)return n;var e=[];if(n)for(var r in n)e.push(r,n[r]);return new on(e)};var $S=on;function zS(n,e,r){for(var i=0;;i++){if(i==n.childCount||i==e.childCount)return n.childCount==e.childCount?null:r;var o=n.child(i),s=e.child(i);if(o==s){r+=o.nodeSize;continue}if(!o.sameMarkup(s))return r;if(o.isText&&o.text!=s.text){for(var a=0;o.text[a]==s.text[a];a++)r++;return r}if(o.content.size||s.content.size){var l=zS(o.content,s.content,r+1);if(l!=null)return l}r+=o.nodeSize}}function US(n,e,r,i){for(var o=n.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:r,b:i};var a=n.child(--o),l=e.child(--s),c=a.nodeSize;if(a==l){r-=c,i-=c;continue}if(!a.sameMarkup(l))return{a:r,b:i};if(a.isText&&a.text!=l.text){for(var u=0,f=Math.min(a.text.length,l.text.length);u<f&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,i--;return{a:r,b:i}}if(a.content.size||l.content.size){var d=US(a.content,l.content,r-1,i-1);if(d)return d}r-=c,i-=c}}var se=function(e,r){if(this.content=e,this.size=r||0,r==null)for(var i=0;i<e.length;i++)this.size+=e[i].nodeSize},Qf={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};se.prototype.nodesBetween=function(e,r,i,o,s){o===void 0&&(o=0);for(var a=0,l=0;l<r;a++){var c=this.content[a],u=l+c.nodeSize;if(u>e&&i(c,o+l,s,a)!==!1&&c.content.size){var f=l+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,r-f),i,o+f)}l=u}};se.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)};se.prototype.textBetween=function(e,r,i,o){var s="",a=!0;return this.nodesBetween(e,r,function(l,c){l.isText?(s+=l.text.slice(Math.max(e,c)-c,r-c),a=!i):l.isLeaf&&o?(s+=typeof o=="function"?o(l):o,a=!i):!a&&l.isBlock&&(s+=i,a=!0)},0),s};se.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var r=this.lastChild,i=e.firstChild,o=this.content.slice(),s=0;for(r.isText&&r.sameMarkup(i)&&(o[o.length-1]=r.withText(r.text+i.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new se(o,this.size+e.size)};se.prototype.cut=function(e,r){if(r==null&&(r=this.size),e==0&&r==this.size)return this;var i=[],o=0;if(r>e)for(var s=0,a=0;a<r;s++){var l=this.content[s],c=a+l.nodeSize;c>e&&((a<e||c>r)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,r-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,r-a-1))),i.push(l),o+=l.nodeSize),a=c}return new se(i,o)};se.prototype.cutByIndex=function(e,r){return e==r?se.empty:e==0&&r==this.content.length?this:new se(this.content.slice(e,r))};se.prototype.replaceChild=function(e,r){var i=this.content[e];if(i==r)return this;var o=this.content.slice(),s=this.size+r.nodeSize-i.nodeSize;return o[e]=r,new se(o,s)};se.prototype.addToStart=function(e){return new se([e].concat(this.content),this.size+e.nodeSize)};se.prototype.addToEnd=function(e){return new se(this.content.concat(e),this.size+e.nodeSize)};se.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0};Qf.firstChild.get=function(){return this.content.length?this.content[0]:null};Qf.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};Qf.childCount.get=function(){return this.content.length};se.prototype.child=function(e){var r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r};se.prototype.maybeChild=function(e){return this.content[e]};se.prototype.forEach=function(e){for(var r=0,i=0;r<this.content.length;r++){var o=this.content[r];e(o,i,r),i+=o.nodeSize}};se.prototype.findDiffStart=function(e,r){return r===void 0&&(r=0),zS(this,e,r)};se.prototype.findDiffEnd=function(e,r,i){return r===void 0&&(r=this.size),i===void 0&&(i=e.size),US(this,e,r,i)};se.prototype.findIndex=function(e,r){if(r===void 0&&(r=-1),e==0)return ed(0,e);if(e==this.size)return ed(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var i=0,o=0;;i++){var s=this.child(i),a=o+s.nodeSize;if(a>=e)return a==e||r>0?ed(i+1,a):ed(i,o);o=a}};se.prototype.toString=function(){return"<"+this.toStringInner()+">"};se.prototype.toStringInner=function(){return this.content.join(", ")};se.prototype.toJSON=function(){return this.content.length?this.content.map(function(e){return e.toJSON()}):null};se.fromJSON=function(e,r){if(!r)return se.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new se(r.map(e.nodeFromJSON))};se.fromArray=function(e){if(!e.length)return se.empty;for(var r,i=0,o=0;o<e.length;o++){var s=e[o];i+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(r||(r=e.slice(0,o)),r[r.length-1]=s.withText(r[r.length-1].text+s.text)):r&&r.push(s)}return new se(r||e,i)};se.from=function(e){if(!e)return se.empty;if(e instanceof se)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new se([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(se.prototype,Qf);var Pm={index:0,offset:0};function ed(n,e){return Pm.index=n,Pm.offset=e,Pm}se.empty=new se([],0);function td(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;var r=Array.isArray(n);if(Array.isArray(e)!=r)return!1;if(r){if(n.length!=e.length)return!1;for(var i=0;i<n.length;i++)if(!td(n[i],e[i]))return!1}else{for(var o in n)if(!(o in e)||!td(n[o],e[o]))return!1;for(var s in e)if(!(s in n))return!1}return!0}var Ke=function(e,r){this.type=e,this.attrs=r};Ke.prototype.addToSet=function(e){for(var r,i=!1,o=0;o<e.length;o++){var s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))r||(r=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!i&&s.type.rank>this.type.rank&&(r||(r=e.slice(0,o)),r.push(this),i=!0),r&&r.push(s)}}return r||(r=e.slice()),i||r.push(this),r};Ke.prototype.removeFromSet=function(e){for(var r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e};Ke.prototype.isInSet=function(e){for(var r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1};Ke.prototype.eq=function(e){return this==e||this.type==e.type&&td(this.attrs,e.attrs)};Ke.prototype.toJSON=function(){var e={type:this.type.name};for(var r in this.attrs){e.attrs=this.attrs;break}return e};Ke.fromJSON=function(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");var i=e.marks[r.type];if(!i)throw new RangeError("There is no mark type "+r.type+" in this schema");return i.create(r.attrs)};Ke.sameSet=function(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].eq(r[i]))return!1;return!0};Ke.setFrom=function(e){if(!e||e.length==0)return Ke.none;if(e instanceof Ke)return[e];var r=e.slice();return r.sort(function(i,o){return i.type.rank-o.type.rank}),r};Ke.none=[];function ei(n){var e=Error.call(this,n);return e.__proto__=ei.prototype,e}ei.prototype=Object.create(Error.prototype);ei.prototype.constructor=ei;ei.prototype.name="ReplaceError";var _e=function(e,r,i){this.content=e,this.openStart=r,this.openEnd=i},HS={size:{configurable:!0}};HS.size.get=function(){return this.content.size-this.openStart-this.openEnd};_e.prototype.insertAt=function(e,r){var i=jS(this.content,e+this.openStart,r,null);return i&&new _e(i,this.openStart,this.openEnd)};_e.prototype.removeBetween=function(e,r){return new _e(VS(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)};_e.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd};_e.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};_e.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e};_e.fromJSON=function(e,r){if(!r)return _e.empty;var i=r.openStart||0,o=r.openEnd||0;if(typeof i!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new _e(se.fromJSON(e,r.content),i,o)};_e.maxOpen=function(e,r){r===void 0&&(r=!0);for(var i=0,o=0,s=e.firstChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.firstChild)i++;for(var a=e.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)o++;return new _e(e,i,o)};Object.defineProperties(_e.prototype,HS);function VS(n,e,r){var i=n.findIndex(e),o=i.index,s=i.offset,a=n.maybeChild(o),l=n.findIndex(r),c=l.index,u=l.offset;if(s==e||a.isText){if(u!=r&&!n.child(c).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(r))}if(o!=c)throw new RangeError("Removing non-flat range");return n.replaceChild(o,a.copy(VS(a.content,e-s-1,r-s-1)))}function jS(n,e,r,i){var o=n.findIndex(e),s=o.index,a=o.offset,l=n.maybeChild(s);if(a==e||l.isText)return i&&!i.canReplace(s,s,r)?null:n.cut(0,e).append(r).append(n.cut(e));var c=jS(l.content,e-a-1,r);return c&&n.replaceChild(s,l.copy(c))}_e.empty=new _e(se.empty,0,0);function W3(n,e,r){if(r.openStart>n.depth)throw new ei("Inserted content deeper than insertion position");if(n.depth-r.openStart!=e.depth-r.openEnd)throw new ei("Inconsistent open depths");return qS(n,e,r,0)}function qS(n,e,r,i){var o=n.index(i),s=n.node(i);if(o==e.index(i)&&i<n.depth-r.openStart){var a=qS(n,e,r,i+1);return s.copy(s.content.replaceChild(o,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&n.depth==i&&e.depth==i){var l=n.parent,c=l.content;return bs(l,c.cut(0,n.parentOffset).append(r.content).append(c.cut(e.parentOffset)))}else{var u=K3(r,n),f=u.start,d=u.end;return bs(s,KS(n,f,d,e,i))}else return bs(s,nd(n,e,i))}function WS(n,e){if(!e.type.compatibleContent(n.type))throw new ei("Cannot join "+e.type.name+" onto "+n.type.name)}function Lm(n,e,r){var i=n.node(r);return WS(i,e.node(r)),i}function ys(n,e){var r=e.length-1;r>=0&&n.isText&&n.sameMarkup(e[r])?e[r]=n.withText(e[r].text+n.text):e.push(n)}function cc(n,e,r,i){var o=(e||n).node(r),s=0,a=e?e.index(r):o.childCount;n&&(s=n.index(r),n.depth>r?s++:n.textOffset&&(ys(n.nodeAfter,i),s++));for(var l=s;l<a;l++)ys(o.child(l),i);e&&e.depth==r&&e.textOffset&&ys(e.nodeBefore,i)}function bs(n,e){if(!n.type.validContent(e))throw new ei("Invalid content for node "+n.type.name);return n.copy(e)}function KS(n,e,r,i,o){var s=n.depth>o&&Lm(n,e,o+1),a=i.depth>o&&Lm(r,i,o+1),l=[];return cc(null,n,o,l),s&&a&&e.index(o)==r.index(o)?(WS(s,a),ys(bs(s,KS(n,e,r,i,o+1)),l)):(s&&ys(bs(s,nd(n,e,o+1)),l),cc(e,r,o,l),a&&ys(bs(a,nd(r,i,o+1)),l)),cc(i,null,o,l),new se(l)}function nd(n,e,r){var i=[];if(cc(null,n,r,i),n.depth>r){var o=Lm(n,e,r+1);ys(bs(o,nd(n,e,r+1)),i)}return cc(e,null,r,i),new se(i)}function K3(n,e){for(var r=e.depth-n.openStart,i=e.node(r),o=i.copy(n.content),s=r-1;s>=0;s--)o=e.node(s).copy(se.from(o));return{start:o.resolveNoCache(n.openStart+r),end:o.resolveNoCache(o.content.size-n.openEnd-r)}}var mt=function(e,r,i){this.pos=e,this.path=r,this.depth=r.length/3-1,this.parentOffset=i},Oa={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};mt.prototype.resolveDepth=function(e){return e==null?this.depth:e<0?this.depth+e:e};Oa.parent.get=function(){return this.node(this.depth)};Oa.doc.get=function(){return this.node(0)};mt.prototype.node=function(e){return this.path[this.resolveDepth(e)*3]};mt.prototype.index=function(e){return this.path[this.resolveDepth(e)*3+1]};mt.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)};mt.prototype.start=function(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1};mt.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size};mt.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]};mt.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize};Oa.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};Oa.nodeAfter.get=function(){var n=this.parent,e=this.index(this.depth);if(e==n.childCount)return null;var r=this.pos-this.path[this.path.length-1],i=n.child(e);return r?n.child(e).cut(r):i};Oa.nodeBefore.get=function(){var n=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(n).cut(0,e):n==0?null:this.parent.child(n-1)};mt.prototype.posAtIndex=function(e,r){r=this.resolveDepth(r);for(var i=this.path[r*3],o=r==0?0:this.path[r*3-1]+1,s=0;s<e;s++)o+=i.child(s).nodeSize;return o};mt.prototype.marks=function(){var e=this.parent,r=this.index();if(e.content.size==0)return Ke.none;if(this.textOffset)return e.child(r).marks;var i=e.maybeChild(r-1),o=e.maybeChild(r);if(!i){var s=i;i=o,o=s}for(var a=i.marks,l=0;l<a.length;l++)a[l].type.spec.inclusive===!1&&(!o||!a[l].isInSet(o.marks))&&(a=a[l--].removeFromSet(a));return a};mt.prototype.marksAcross=function(e){var r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;for(var i=r.marks,o=e.parent.maybeChild(e.index()),s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i};mt.prototype.sharedDepth=function(e){for(var r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0};mt.prototype.blockRange=function(e,r){if(e===void 0&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!r||r(this.node(i))))return new uc(this,e,i)};mt.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset};mt.prototype.max=function(e){return e.pos>this.pos?e:this};mt.prototype.min=function(e){return e.pos<this.pos?e:this};mt.prototype.toString=function(){for(var e="",r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset};mt.resolve=function(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");for(var i=[],o=0,s=r,a=e;;){var l=a.content.findIndex(s),c=l.index,u=l.offset,f=s-u;if(i.push(a,c,o+u),!f||(a=a.child(c),a.isText))break;s=f-1,o+=u+1}return new mt(r,i,s)};mt.resolveCached=function(e,r){for(var i=0;i<Bm.length;i++){var o=Bm[i];if(o.pos==r&&o.doc==e)return o}var s=Bm[Fm]=mt.resolve(e,r);return Fm=(Fm+1)%G3,s};Object.defineProperties(mt.prototype,Oa);var Bm=[],Fm=0,G3=12,uc=function(e,r,i){this.$from=e,this.$to=r,this.depth=i},Da={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Da.start.get=function(){return this.$from.before(this.depth+1)};Da.end.get=function(){return this.$to.after(this.depth+1)};Da.parent.get=function(){return this.$from.node(this.depth)};Da.startIndex.get=function(){return this.$from.index(this.depth)};Da.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(uc.prototype,Da);var Y3=Object.create(null),Xe=function(e,r,i,o){this.type=e,this.attrs=r,this.content=i||se.empty,this.marks=o||Ke.none},qn={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};qn.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};qn.childCount.get=function(){return this.content.childCount};Xe.prototype.child=function(e){return this.content.child(e)};Xe.prototype.maybeChild=function(e){return this.content.maybeChild(e)};Xe.prototype.forEach=function(e){this.content.forEach(e)};Xe.prototype.nodesBetween=function(e,r,i,o){o===void 0&&(o=0),this.content.nodesBetween(e,r,i,o,this)};Xe.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)};qn.textContent.get=function(){return this.textBetween(0,this.content.size,"")};Xe.prototype.textBetween=function(e,r,i,o){return this.content.textBetween(e,r,i,o)};qn.firstChild.get=function(){return this.content.firstChild};qn.lastChild.get=function(){return this.content.lastChild};Xe.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)};Xe.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)};Xe.prototype.hasMarkup=function(e,r,i){return this.type==e&&td(this.attrs,r||e.defaultAttrs||Y3)&&Ke.sameSet(this.marks,i||Ke.none)};Xe.prototype.copy=function(e){return e===void 0&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)};Xe.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)};Xe.prototype.cut=function(e,r){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))};Xe.prototype.slice=function(e,r,i){if(r===void 0&&(r=this.content.size),i===void 0&&(i=!1),e==r)return _e.empty;var o=this.resolve(e),s=this.resolve(r),a=i?0:o.sharedDepth(r),l=o.start(a),c=o.node(a),u=c.content.cut(o.pos-l,s.pos-l);return new _e(u,o.depth-a,s.depth-a)};Xe.prototype.replace=function(e,r,i){return W3(this.resolve(e),this.resolve(r),i)};Xe.prototype.nodeAt=function(e){for(var r=this;;){var i=r.content.findIndex(e),o=i.index,s=i.offset;if(r=r.maybeChild(o),!r)return null;if(s==e||r.isText)return r;e-=s+1}};Xe.prototype.childAfter=function(e){var r=this.content.findIndex(e),i=r.index,o=r.offset;return{node:this.content.maybeChild(i),index:i,offset:o}};Xe.prototype.childBefore=function(e){if(e==0)return{node:null,index:0,offset:0};var r=this.content.findIndex(e),i=r.index,o=r.offset;if(o<e)return{node:this.content.child(i),index:i,offset:o};var s=this.content.child(i-1);return{node:s,index:i-1,offset:o-s.nodeSize}};Xe.prototype.resolve=function(e){return mt.resolveCached(this,e)};Xe.prototype.resolveNoCache=function(e){return mt.resolve(this,e)};Xe.prototype.rangeHasMark=function(e,r,i){var o=!1;return r>e&&this.nodesBetween(e,r,function(s){return i.isInSet(s.marks)&&(o=!0),!o}),o};qn.isBlock.get=function(){return this.type.isBlock};qn.isTextblock.get=function(){return this.type.isTextblock};qn.inlineContent.get=function(){return this.type.inlineContent};qn.isInline.get=function(){return this.type.isInline};qn.isText.get=function(){return this.type.isText};qn.isLeaf.get=function(){return this.type.isLeaf};qn.isAtom.get=function(){return this.type.isAtom};Xe.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),GS(this.marks,e)};Xe.prototype.contentMatchAt=function(e){var r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r};Xe.prototype.canReplace=function(e,r,i,o,s){i===void 0&&(i=se.empty),o===void 0&&(o=0),s===void 0&&(s=i.childCount);var a=this.contentMatchAt(e).matchFragment(i,o,s),l=a&&a.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(var c=o;c<s;c++)if(!this.type.allowsMarks(i.child(c).marks))return!1;return!0};Xe.prototype.canReplaceWith=function(e,r,i,o){if(o&&!this.type.allowsMarks(o))return!1;var s=this.contentMatchAt(e).matchType(i),a=s&&s.matchFragment(this.content,r);return a?a.validEnd:!1};Xe.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)};Xe.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=Ke.none,r=0;r<this.marks.length;r++)e=this.marks[r].addToSet(e);if(!Ke.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(i){return i.type.name}));this.content.forEach(function(i){return i.check()})};Xe.prototype.toJSON=function(){var e={type:this.type.name};for(var r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(i){return i.toJSON()})),e};Xe.fromJSON=function(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");var i=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,i)}var o=se.fromJSON(e,r.content);return e.nodeType(r.type).create(r.attrs,o,i)};Object.defineProperties(Xe.prototype,qn);var J3=function(n){function e(i,o,s,a){if(n.call(this,i,o,null,a),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):GS(this.marks,JSON.stringify(this.text))},r.textContent.get=function(){return this.text},e.prototype.textBetween=function(o,s){return this.text.slice(o,s)},r.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(o){return o==this.marks?this:new e(this.type,this.attrs,this.text,o)},e.prototype.withText=function(o){return o==this.text?this:new e(this.type,this.attrs,o,this.marks)},e.prototype.cut=function(o,s){return o===void 0&&(o=0),s===void 0&&(s=this.text.length),o==0&&s==this.text.length?this:this.withText(this.text.slice(o,s))},e.prototype.eq=function(o){return this.sameMarkup(o)&&this.text==o.text},e.prototype.toJSON=function(){var o=n.prototype.toJSON.call(this);return o.text=this.text,o},Object.defineProperties(e.prototype,r),e}(Xe);function GS(n,e){for(var r=n.length-1;r>=0;r--)e=n[r].type.name+"("+e+")";return e}var sn=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},rd={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};sn.parse=function(e,r){var i=new id(e,r);if(i.next==null)return sn.empty;var o=JS(i);i.next&&i.err("Unexpected trailing text");var s=rz(nz(o));return iz(s,i),s};sn.prototype.matchType=function(e){for(var r=0;r<this.next.length;r+=2)if(this.next[r]==e)return this.next[r+1];return null};sn.prototype.matchFragment=function(e,r,i){r===void 0&&(r=0),i===void 0&&(i=e.childCount);for(var o=this,s=r;o&&s<i;s++)o=o.matchType(e.child(s).type);return o};rd.inlineContent.get=function(){var n=this.next[0];return n?n.isInline:!1};rd.defaultType.get=function(){for(var n=0;n<this.next.length;n+=2){var e=this.next[n];if(!(e.isText||e.hasRequiredAttrs()))return e}};sn.prototype.compatible=function(e){for(var r=0;r<this.next.length;r+=2)for(var i=0;i<e.next.length;i+=2)if(this.next[r]==e.next[i])return!0;return!1};sn.prototype.fillBefore=function(e,r,i){r===void 0&&(r=!1),i===void 0&&(i=0);var o=[this];function s(a,l){var c=a.matchFragment(e,i);if(c&&(!r||c.validEnd))return se.from(l.map(function(p){return p.createAndFill()}));for(var u=0;u<a.next.length;u+=2){var f=a.next[u],d=a.next[u+1];if(!(f.isText||f.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);var h=s(d,l.concat(f));if(h)return h}}}return s(this,[])};sn.prototype.findWrapping=function(e){for(var r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];var i=this.computeWrapping(e);return this.wrapCache.push(e,i),i};sn.prototype.computeWrapping=function(e){for(var r=Object.create(null),i=[{match:this,type:null,via:null}];i.length;){var o=i.shift(),s=o.match;if(s.matchType(e)){for(var a=[],l=o;l.type;l=l.via)a.push(l.type);return a.reverse()}for(var c=0;c<s.next.length;c+=2){var u=s.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in r)&&(!o.type||s.next[c+1].validEnd)&&(i.push({match:u.contentMatch,type:u,via:o}),r[u.name]=!0)}}};rd.edgeCount.get=function(){return this.next.length>>1};sn.prototype.edge=function(e){var r=e<<1;if(r>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[r],next:this.next[r+1]}};sn.prototype.toString=function(){var e=[];function r(i){e.push(i);for(var o=1;o<i.next.length;o+=2)e.indexOf(i.next[o])==-1&&r(i.next[o])}return r(this),e.map(function(i,o){for(var s=o+(i.validEnd?"*":" ")+" ",a=0;a<i.next.length;a+=2)s+=(a?", ":"")+i.next[a].name+"->"+e.indexOf(i.next[a+1]);return s}).join(`
`)};Object.defineProperties(sn.prototype,rd);sn.empty=new sn(!0);var id=function(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},YS={next:{configurable:!0}};YS.next.get=function(){return this.tokens[this.pos]};id.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)};id.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")};Object.defineProperties(id.prototype,YS);function JS(n){var e=[];do e.push(X3(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function X3(n){var e=[];do e.push(Z3(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Z3(n){for(var e=tz(n);;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Q3(n,e);else break;return e}function XS(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");var e=Number(n.next);return n.pos++,e}function Q3(n,e){var r=XS(n),i=r;return n.eat(",")&&(n.next!="}"?i=XS(n):i=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:r,max:i,expr:e}}function ez(n,e){var r=n.nodeTypes,i=r[e];if(i)return[i];var o=[];for(var s in r){var a=r[s];a.groups.indexOf(e)>-1&&o.push(a)}return o.length==0&&n.err("No node type or group '"+e+"' found"),o}function tz(n){if(n.eat("(")){var e=JS(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{var r=ez(n,n.next).map(function(i){return n.inline==null?n.inline=i.isInline:n.inline!=i.isInline&&n.err("Mixing inline and block content"),{type:"name",value:i}});return n.pos++,r.length==1?r[0]:{type:"choice",exprs:r}}}function nz(n){var e=[[]];return o(s(n,0),r()),e;function r(){return e.push([])-1}function i(a,l,c){var u={term:c,to:l};return e[a].push(u),u}function o(a,l){a.forEach(function(c){return c.to=l})}function s(a,l){if(a.type=="choice")return a.exprs.reduce(function(b,S){return b.concat(s(S,l))},[]);if(a.type=="seq")for(var c=0;;c++){var u=s(a.exprs[c],l);if(c==a.exprs.length-1)return u;o(u,l=r())}else if(a.type=="star"){var f=r();return i(l,f),o(s(a.expr,f),f),[i(f)]}else if(a.type=="plus"){var d=r();return o(s(a.expr,l),d),o(s(a.expr,d),d),[i(d)]}else{if(a.type=="opt")return[i(l)].concat(s(a.expr,l));if(a.type=="range"){for(var h=l,p=0;p<a.min;p++){var g=r();o(s(a.expr,h),g),h=g}if(a.max==-1)o(s(a.expr,h),h);else for(var v=a.min;v<a.max;v++){var w=r();i(h,w),o(s(a.expr,h),w),h=w}return[i(h)]}else if(a.type=="name")return[i(l,null,a.value)]}}}function ZS(n,e){return e-n}function QS(n,e){var r=[];return i(e),r.sort(ZS);function i(o){var s=n[o];if(s.length==1&&!s[0].term)return i(s[0].to);r.push(o);for(var a=0;a<s.length;a++){var l=s[a],c=l.term,u=l.to;!c&&r.indexOf(u)==-1&&i(u)}}}function rz(n){var e=Object.create(null);return r(QS(n,0));function r(i){var o=[];i.forEach(function(c){n[c].forEach(function(u){var f=u.term,d=u.to;if(!!f){var h=o.indexOf(f),p=h>-1&&o[h+1];QS(n,d).forEach(function(g){p||o.push(f,p=[]),p.indexOf(g)==-1&&p.push(g)})}})});for(var s=e[i.join(",")]=new sn(i.indexOf(n.length-1)>-1),a=0;a<o.length;a+=2){var l=o[a+1].sort(ZS);s.next.push(o[a],e[l.join(",")]||r(l))}return s}}function iz(n,e){for(var r=0,i=[n];r<i.length;r++){for(var o=i[r],s=!o.validEnd,a=[],l=0;l<o.next.length;l+=2){var c=o.next[l],u=o.next[l+1];a.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),i.indexOf(u)==-1&&i.push(u)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function ek(n){var e=Object.create(null);for(var r in n){var i=n[r];if(!i.hasDefault)return null;e[r]=i.default}return e}function tk(n,e){var r=Object.create(null);for(var i in n){var o=e&&e[i];if(o===void 0){var s=n[i];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+i)}r[i]=o}return r}function nk(n){var e=Object.create(null);if(n)for(var r in n)e[r]=new rk(n[r]);return e}var bn=function(e,r,i){this.name=e,this.schema=r,this.spec=i,this.groups=i.group?i.group.split(" "):[],this.attrs=nk(i.attrs),this.defaultAttrs=ek(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"},fc={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};fc.isInline.get=function(){return!this.isBlock};fc.isTextblock.get=function(){return this.isBlock&&this.inlineContent};fc.isLeaf.get=function(){return this.contentMatch==sn.empty};fc.isAtom.get=function(){return this.isLeaf||this.spec.atom};bn.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1};bn.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)};bn.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:tk(this.attrs,e)};bn.prototype.create=function(e,r,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Xe(this,this.computeAttrs(e),se.from(r),Ke.setFrom(i))};bn.prototype.createChecked=function(e,r,i){if(r=se.from(r),!this.validContent(r))throw new RangeError("Invalid content for node "+this.name);return new Xe(this,this.computeAttrs(e),r,Ke.setFrom(i))};bn.prototype.createAndFill=function(e,r,i){if(e=this.computeAttrs(e),r=se.from(r),r.size){var o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}var s=this.contentMatch.matchFragment(r).fillBefore(se.empty,!0);return s?new Xe(this,e,r.append(s),Ke.setFrom(i)):null};bn.prototype.validContent=function(e){var r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(var i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0};bn.prototype.allowsMarkType=function(e){return this.markSet==null||this.markSet.indexOf(e)>-1};bn.prototype.allowsMarks=function(e){if(this.markSet==null)return!0;for(var r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0};bn.prototype.allowedMarks=function(e){if(this.markSet==null)return e;for(var r,i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?r&&r.push(e[i]):r||(r=e.slice(0,i));return r?r.length?r:Ke.empty:e};bn.compile=function(e,r){var i=Object.create(null);e.forEach(function(a,l){return i[a]=new bn(a,r,l)});var o=r.spec.topNode||"doc";if(!i[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(var s in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i};Object.defineProperties(bn.prototype,fc);var rk=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},ik={isRequired:{configurable:!0}};ik.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(rk.prototype,ik);var ho=function(e,r,i,o){this.name=e,this.schema=i,this.spec=o,this.attrs=nk(o.attrs),this.rank=r,this.excluded=null;var s=ek(this.attrs);this.instance=s&&new Ke(this,s)};ho.prototype.create=function(e){return!e&&this.instance?this.instance:new Ke(this,tk(this.attrs,e))};ho.compile=function(e,r){var i=Object.create(null),o=0;return e.forEach(function(s,a){return i[s]=new ho(s,o++,r,a)}),i};ho.prototype.removeFromSet=function(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e};ho.prototype.isInSet=function(e){for(var r=0;r<e.length;r++)if(e[r].type==this)return e[r]};ho.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var _s=function(e){this.spec={};for(var r in e)this.spec[r]=e[r];this.spec.nodes=$S.from(e.nodes),this.spec.marks=$S.from(e.marks),this.nodes=bn.compile(this.spec.nodes,this),this.marks=ho.compile(this.spec.marks,this);var i=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var s=this.nodes[o],a=s.spec.content||"",l=s.spec.marks;s.contentMatch=i[a]||(i[a]=sn.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=l=="_"?null:l?ok(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(var c in this.marks){var u=this.marks[c],f=u.spec.excludes;u.excluded=f==null?[u]:f==""?[]:ok(this,f.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};_s.prototype.node=function(e,r,i,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof bn){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,i,o)};_s.prototype.text=function(e,r){var i=this.nodes.text;return new J3(i,i.defaultAttrs,e,Ke.setFrom(r))};_s.prototype.mark=function(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)};_s.prototype.nodeFromJSON=function(e){return Xe.fromJSON(this,e)};_s.prototype.markFromJSON=function(e){return Ke.fromJSON(this,e)};_s.prototype.nodeType=function(e){var r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r};function ok(n,e){for(var r=[],i=0;i<e.length;i++){var o=e[i],s=n.marks[o],a=s;if(s)r.push(s);else for(var l in n.marks){var c=n.marks[l];(o=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&r.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return r}var Wn=function(e,r){var i=this;this.schema=e,this.rules=r,this.tags=[],this.styles=[],r.forEach(function(o){o.tag?i.tags.push(o):o.style&&i.styles.push(o)}),this.normalizeLists=!this.tags.some(function(o){if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;var s=e.nodes[o.node];return s.contentMatch.matchType(s)})};Wn.prototype.parse=function(e,r){r===void 0&&(r={});var i=new ht(this,r,!1);return i.addAll(e,null,r.from,r.to),i.finish()};Wn.prototype.parseSlice=function(e,r){r===void 0&&(r={});var i=new ht(this,r,!0);return i.addAll(e,null,r.from,r.to),_e.maxOpen(i.finish())};Wn.prototype.matchTag=function(e,r,i){for(var o=i?this.tags.indexOf(i)+1:0;o<this.tags.length;o++){var s=this.tags[o];if(az(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||r.matchesContext(s.context))){if(s.getAttrs){var a=s.getAttrs(e);if(a===!1)continue;s.attrs=a}return s}}};Wn.prototype.matchStyle=function(e,r,i,o){for(var s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){var a=this.styles[s];if(!(a.style.indexOf(e)!=0||a.context&&!i.matchesContext(a.context)||a.style.length>e.length&&(a.style.charCodeAt(e.length)!=61||a.style.slice(e.length+1)!=r))){if(a.getAttrs){var l=a.getAttrs(r);if(l===!1)continue;a.attrs=l}return a}}};Wn.schemaRules=function(e){var r=[];function i(c){for(var u=c.priority==null?50:c.priority,f=0;f<r.length;f++){var d=r[f],h=d.priority==null?50:d.priority;if(h<u)break}r.splice(f,0,c)}var o=function(c){var u=e.marks[c].spec.parseDOM;u&&u.forEach(function(f){i(f=lk(f)),f.mark=c})};for(var s in e.marks)o(s);var a=function(c){var u=e.nodes[l].spec.parseDOM;u&&u.forEach(function(f){i(f=lk(f)),f.node=l})};for(var l in e.nodes)a();return r};Wn.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new Wn(e,Wn.schemaRules(e)))};var $m={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},sk={ol:!0,ul:!0},zm=1,Um=2,dc=4;function ak(n){return(n?zm:0)|(n==="full"?Um:0)}var Mi=function(e,r,i,o,s,a,l){this.type=e,this.attrs=r,this.solid=s,this.match=a||(l&dc?null:e.contentMatch),this.options=l,this.content=[],this.marks=i,this.activeMarks=Ke.none,this.pendingMarks=o,this.stashMarks=[]};Mi.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var r=this.type.contentMatch.fillBefore(se.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{var i=this.type.contentMatch,o;return(o=i.findWrapping(e.type))?(this.match=i,o):null}}return this.match.findWrapping(e.type)};Mi.prototype.finish=function(e){if(!(this.options&zm)){var r=this.content[this.content.length-1],i;r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))&&(r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-i[0].length)))}var o=se.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(se.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o};Mi.prototype.popFromStashMark=function(e){for(var r=this.stashMarks.length-1;r>=0;r--)if(e.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]};Mi.prototype.applyPending=function(e){for(var r=0,i=this.pendingMarks;r<i.length;r++){var o=i[r];(this.type?this.type.allowsMarkType(o.type):cz(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}};Mi.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!$m.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var ht=function(e,r,i){this.parser=e,this.options=r,this.isOpen=i;var o=r.topNode,s,a=ak(r.preserveWhitespace)|(i?dc:0);o?s=new Mi(o.type,o.attrs,Ke.none,Ke.none,!0,r.topMatch||o.type.contentMatch,a):i?s=new Mi(null,null,Ke.none,Ke.none,!0,null,a):s=new Mi(e.schema.topNodeType,null,Ke.none,Ke.none,!0,null,a),this.nodes=[s],this.open=0,this.find=r.findPositions,this.needsBlock=!1},Hm={top:{configurable:!0},currentPos:{configurable:!0}};Hm.top.get=function(){return this.nodes[this.open]};ht.prototype.addDOM=function(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){var r=e.getAttribute("style"),i=r?this.readStyles(lz(r)):null,o=this.top;if(i!=null)for(var s=0;s<i.length;s++)this.addPendingMark(i[s]);if(this.addElement(e),i!=null)for(var a=0;a<i.length;a++)this.removePendingMark(i[a],o)}};ht.prototype.addTextNode=function(e){var r=e.nodeValue,i=this.top;if(i.options&Um||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&zm)i.options&Um?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){var o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(e)}else this.findInside(e)};ht.prototype.addElement=function(e,r){var i=e.nodeName.toLowerCase(),o;sk.hasOwnProperty(i)&&this.parser.normalizeLists&&sz(e);var s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(s?s.ignore:oz.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);var a,l=this.top,c=this.needsBlock;if($m.hasOwnProperty(i))a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),a&&this.sync(l),this.needsBlock=c}else this.addElementByRule(e,s,s.consuming===!1?o:null)};ht.prototype.leafFallback=function(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))};ht.prototype.ignoreFallback=function(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};ht.prototype.readStyles=function(e){var r=Ke.none;e:for(var i=0;i<e.length;i+=2)for(var o=null;;){var s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)continue e;if(s.ignore)return null;if(r=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(r),s.consuming===!1)o=s;else break}return r};ht.prototype.addElementByRule=function(e,r,i){var o=this,s,a,l,c;r.node?(a=this.parser.schema.nodes[r.node],a.isLeaf?this.insertNode(a.create(r.attrs))||this.leafFallback(e):s=this.enter(a,r.attrs,r.preserveWhitespace)):(l=this.parser.schema.marks[r.mark],c=l.create(r.attrs),this.addPendingMark(c));var u=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(function(d){return o.insertNode(d)});else{var f=r.contentElement;typeof f=="string"?f=e.querySelector(f):typeof f=="function"&&(f=f(e)),f||(f=e),this.findAround(e,f,!0),this.addAll(f,s)}s&&(this.sync(u),this.open--),c&&this.removePendingMark(c,u)};ht.prototype.addAll=function(e,r,i,o){for(var s=i||0,a=i?e.childNodes[i]:e.firstChild,l=o==null?null:e.childNodes[o];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a),r&&$m.hasOwnProperty(a.nodeName.toLowerCase())&&this.sync(r);this.findAtPoint(e,s)};ht.prototype.findPlace=function(e){for(var r,i,o=this.open;o>=0;o--){var s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return!1;this.sync(i);for(var l=0;l<r.length;l++)this.enterInner(r[l],null,!1);return!0};ht.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(e)){this.closeExtra();var i=this.top;i.applyPending(e.type),i.match&&(i.match=i.match.matchType(e.type));for(var o=i.activeMarks,s=0;s<e.marks.length;s++)(!i.type||i.type.allowsMarkType(e.marks[s].type))&&(o=e.marks[s].addToSet(o));return i.content.push(e.mark(o)),!0}return!1};ht.prototype.enter=function(e,r,i){var o=this.findPlace(e.create(r));return o&&this.enterInner(e,r,!0,i),o};ht.prototype.enterInner=function(e,r,i,o){this.closeExtra();var s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e,r);var a=o==null?s.options&~dc:ak(o);s.options&dc&&s.content.length==0&&(a|=dc),this.nodes.push(new Mi(e,r,s.activeMarks,s.pendingMarks,i,null,a)),this.open++};ht.prototype.closeExtra=function(e){var r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}};ht.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};ht.prototype.sync=function(e){for(var r=this.open;r>=0;r--)if(this.nodes[r]==e){this.open=r;return}};Hm.currentPos.get=function(){this.closeExtra();for(var n=0,e=this.open;e>=0;e--){for(var r=this.nodes[e].content,i=r.length-1;i>=0;i--)n+=r[i].nodeSize;e&&n++}return n};ht.prototype.findAtPoint=function(e,r){if(this.find)for(var i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==r&&(this.find[i].pos=this.currentPos)};ht.prototype.findInside=function(e){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)};ht.prototype.findAround=function(e,r,i){if(e!=r&&this.find){for(var o=0;o<this.find.length;o++)if(this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)){var s=r.compareDocumentPosition(this.find[o].node);s&(i?2:4)&&(this.find[o].pos=this.currentPos)}}};ht.prototype.findInText=function(e){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))};ht.prototype.matchesContext=function(e){var r=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var i=e.split("/"),o=this.options.context,s=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),a=-(o?o.depth+1:0)+(s?0:1),l=function(c,u){for(;c>=0;c--){var f=i[c];if(f==""){if(c==i.length-1||c==0)continue;for(;u>=a;u--)if(l(c-1,u))return!0;return!1}else{var d=u>0||u==0&&s?r.nodes[u].type:o&&u>=a?o.node(u-a).type:null;if(!d||d.name!=f&&d.groups.indexOf(f)==-1)return!1;u--}}return!0};return l(i.length-1,this.open)};ht.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var r=e.depth;r>=0;r--){var i=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(var o in this.parser.schema.nodes){var s=this.parser.schema.nodes[o];if(s.isTextblock&&s.defaultAttrs)return s}};ht.prototype.addPendingMark=function(e){var r=uz(e,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)};ht.prototype.removePendingMark=function(e,r){for(var i=this.open;i>=0;i--){var o=this.nodes[i],s=o.pendingMarks.lastIndexOf(e);if(s>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);var a=o.popFromStashMark(e);a&&o.type&&o.type.allowsMarkType(a.type)&&(o.activeMarks=a.addToSet(o.activeMarks))}if(o==r)break}};Object.defineProperties(ht.prototype,Hm);function sz(n){for(var e=n.firstChild,r=null;e;e=e.nextSibling){var i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&sk.hasOwnProperty(i)&&r?(r.appendChild(e),e=r):i=="li"?r=e:i&&(r=null)}}function az(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function lz(n){for(var e=/\s*([\w-]+)\s*:\s*([^;]+)/g,r,i=[];r=e.exec(n);)i.push(r[1],r[2].trim());return i}function lk(n){var e={};for(var r in n)e[r]=n[r];return e}function cz(n,e){var r=e.schema.nodes,i=function(a){var l=r[a];if(!!l.allowsMarkType(n)){var c=[],u=function(f){c.push(f);for(var d=0;d<f.edgeCount;d++){var h=f.edge(d),p=h.type,g=h.next;if(p==e||c.indexOf(g)<0&&u(g))return!0}};if(u(l.contentMatch))return{v:!0}}};for(var o in r){var s=i(o);if(s)return s.v}}function uz(n,e){for(var r=0;r<e.length;r++)if(n.eq(e[r]))return e[r]}var xt=function(e,r){this.nodes=e||{},this.marks=r||{}};xt.prototype.serializeFragment=function(e,r,i){var o=this;r===void 0&&(r={}),i||(i=Vm(r).createDocumentFragment());var s=i,a=null;return e.forEach(function(l){if(a||l.marks.length){a||(a=[]);for(var c=0,u=0;c<a.length&&u<l.marks.length;){var f=l.marks[u];if(!o.marks[f.type.name]){u++;continue}if(!f.eq(a[c])||f.type.spec.spanning===!1)break;c+=2,u++}for(;c<a.length;)s=a.pop(),a.pop();for(;u<l.marks.length;){var d=l.marks[u++],h=o.serializeMark(d,l.isInline,r);h&&(a.push(d,s),s.appendChild(h.dom),s=h.contentDOM||h.dom)}}s.appendChild(o.serializeNodeInner(l,r))}),i};xt.prototype.serializeNodeInner=function(e,r){r===void 0&&(r={});var i=xt.renderSpec(Vm(r),this.nodes[e.type.name](e)),o=i.dom,s=i.contentDOM;if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");r.onContent?r.onContent(e,s,r):this.serializeFragment(e.content,r,s)}return o};xt.prototype.serializeNode=function(e,r){r===void 0&&(r={});for(var i=this.serializeNodeInner(e,r),o=e.marks.length-1;o>=0;o--){var s=this.serializeMark(e.marks[o],e.isInline,r);s&&((s.contentDOM||s.dom).appendChild(i),i=s.dom)}return i};xt.prototype.serializeMark=function(e,r,i){i===void 0&&(i={});var o=this.marks[e.type.name];return o&&xt.renderSpec(Vm(i),o(e,r))};xt.renderSpec=function(e,r,i){if(i===void 0&&(i=null),typeof r=="string")return{dom:e.createTextNode(r)};if(r.nodeType!=null)return{dom:r};if(r.dom&&r.dom.nodeType!=null)return r;var o=r[0],s=o.indexOf(" ");s>0&&(i=o.slice(0,s),o=o.slice(s+1));var a=null,l=i?e.createElementNS(i,o):e.createElement(o),c=r[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(var f in c)if(c[f]!=null){var d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),c[f]):l.setAttribute(f,c[f])}}for(var h=u;h<r.length;h++){var p=r[h];if(p===0){if(h<r.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{var g=xt.renderSpec(e,p,i),v=g.dom,w=g.contentDOM;if(l.appendChild(v),w){if(a)throw new RangeError("Multiple content holes");a=w}}}return{dom:l,contentDOM:a}};xt.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new xt(this.nodesFromSchema(e),this.marksFromSchema(e)))};xt.nodesFromSchema=function(e){var r=ck(e.nodes);return r.text||(r.text=function(i){return i.text}),r};xt.marksFromSchema=function(e){return ck(e.marks)};function ck(n){var e={};for(var r in n){var i=n[r].spec.toDOM;i&&(e[r]=i)}return e}function Vm(n){return n.document||window.document}var uk=65535,fk=Math.pow(2,16);function fz(n,e){return n+e*fk}function dk(n){return n&uk}function dz(n){return(n-(n&uk))/fk}var jm=function(e,r,i){r===void 0&&(r=!1),i===void 0&&(i=null),this.pos=e,this.deleted=r,this.recover=i},Jt=function(e,r){r===void 0&&(r=!1),this.ranges=e,this.inverted=r};Jt.prototype.recover=function(e){var r=0,i=dk(e);if(!this.inverted)for(var o=0;o<i;o++)r+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[i*3]+r+dz(e)};Jt.prototype.mapResult=function(e,r){return r===void 0&&(r=1),this._map(e,r,!1)};Jt.prototype.map=function(e,r){return r===void 0&&(r=1),this._map(e,r,!0)};Jt.prototype._map=function(e,r,i){for(var o=0,s=this.inverted?2:1,a=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var c=this.ranges[l]-(this.inverted?o:0);if(c>e)break;var u=this.ranges[l+s],f=this.ranges[l+a],d=c+u;if(e<=d){var h=u?e==c?-1:e==d?1:r:r,p=c+o+(h<0?0:f);if(i)return p;var g=e==(r<0?c:d)?null:fz(l/3,e-c);return new jm(p,r<0?e!=c:e!=d,g)}o+=f-u}return i?e+o:new jm(e+o)};Jt.prototype.touches=function(e,r){for(var i=0,o=dk(r),s=this.inverted?2:1,a=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;var u=this.ranges[l+s],f=c+u;if(e<=f&&l==o*3)return!0;i+=this.ranges[l+a]-u}return!1};Jt.prototype.forEach=function(e){for(var r=this.inverted?2:1,i=this.inverted?1:2,o=0,s=0;o<this.ranges.length;o+=3){var a=this.ranges[o],l=a-(this.inverted?s:0),c=a+(this.inverted?0:s),u=this.ranges[o+r],f=this.ranges[o+i];e(l,l+u,c,c+f),s+=f-u}};Jt.prototype.invert=function(){return new Jt(this.ranges,!this.inverted)};Jt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};Jt.offset=function(e){return e==0?Jt.empty:new Jt(e<0?[0,-e,0]:[0,0,e])};Jt.empty=new Jt([]);var an=function(e,r,i,o){this.maps=e||[],this.from=i||0,this.to=o==null?this.maps.length:o,this.mirror=r};an.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.maps.length),new an(this.maps,this.mirror,e,r)};an.prototype.copy=function(){return new an(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};an.prototype.appendMap=function(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)};an.prototype.appendMapping=function(e){for(var r=0,i=this.maps.length;r<e.maps.length;r++){var o=e.getMirror(r);this.appendMap(e.maps[r],o!=null&&o<r?i+o:null)}};an.prototype.getMirror=function(e){if(this.mirror){for(var r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}};an.prototype.setMirror=function(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)};an.prototype.appendMappingInverted=function(e){for(var r=e.maps.length-1,i=this.maps.length+e.maps.length;r>=0;r--){var o=e.getMirror(r);this.appendMap(e.maps[r].invert(),o!=null&&o>r?i-o-1:null)}};an.prototype.invert=function(){var e=new an;return e.appendMappingInverted(this),e};an.prototype.map=function(e,r){if(r===void 0&&(r=1),this.mirror)return this._map(e,r,!0);for(var i=this.from;i<this.to;i++)e=this.maps[i].map(e,r);return e};an.prototype.mapResult=function(e,r){return r===void 0&&(r=1),this._map(e,r,!1)};an.prototype._map=function(e,r,i){for(var o=!1,s=this.from;s<this.to;s++){var a=this.maps[s],l=a.mapResult(e,r);if(l.recover!=null){var c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this.maps[c].recover(l.recover);continue}}l.deleted&&(o=!0),e=l.pos}return i?e:new jm(e,o)};function Ta(n){var e=Error.call(this,n);return e.__proto__=Ta.prototype,e}Ta.prototype=Object.create(Error.prototype);Ta.prototype.constructor=Ta;Ta.prototype.name="TransformError";var At=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new an},qm={before:{configurable:!0},docChanged:{configurable:!0}};qm.before.get=function(){return this.docs.length?this.docs[0]:this.doc};At.prototype.step=function(e){var r=this.maybeStep(e);if(r.failed)throw new Ta(r.failed);return this};At.prototype.maybeStep=function(e){var r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r};qm.docChanged.get=function(){return this.steps.length>0};At.prototype.addStep=function(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r};Object.defineProperties(At.prototype,qm);function od(){throw new Error("Override me")}var Wm=Object.create(null),ln=function(){};ln.prototype.apply=function(e){return od()};ln.prototype.getMap=function(){return Jt.empty};ln.prototype.invert=function(e){return od()};ln.prototype.map=function(e){return od()};ln.prototype.merge=function(e){return null};ln.prototype.toJSON=function(){return od()};ln.fromJSON=function(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");var i=Wm[r.stepType];if(!i)throw new RangeError("No step type "+r.stepType+" defined");return i.fromJSON(e,r)};ln.jsonID=function(e,r){if(e in Wm)throw new RangeError("Duplicate use of step JSON ID "+e);return Wm[e]=r,r.prototype.jsonID=e,r};var _n=function(e,r){this.doc=e,this.failed=r};_n.ok=function(e){return new _n(e,null)};_n.fail=function(e){return new _n(null,e)};_n.fromReplace=function(e,r,i,o){try{return _n.ok(e.replace(r,i,o))}catch(s){if(s instanceof ei)return _n.fail(s.message);throw s}};var Ni=function(n){function e(r,i,o,s){n.call(this),this.from=r,this.to=i,this.slice=o,this.structure=!!s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.apply=function(i){return this.structure&&Km(i,this.from,this.to)?_n.fail("Structure replace would overwrite content"):_n.fromReplace(i,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new Jt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(i){return new e(this.from,this.from+this.slice.size,i.slice(this.from,this.to))},e.prototype.map=function(i){var o=i.mapResult(this.from,1),s=i.mapResult(this.to,-1);return o.deleted&&s.deleted?null:new e(o.pos,Math.max(o.pos,s.pos),this.slice)},e.prototype.merge=function(i){if(!(i instanceof e)||i.structure||this.structure)return null;if(this.from+this.slice.size==i.from&&!this.slice.openEnd&&!i.slice.openStart){var o=this.slice.size+i.slice.size==0?_e.empty:new _e(this.slice.content.append(i.slice.content),this.slice.openStart,i.slice.openEnd);return new e(this.from,this.to+(i.to-i.from),o,this.structure)}else if(i.to==this.from&&!this.slice.openStart&&!i.slice.openEnd){var s=this.slice.size+i.slice.size==0?_e.empty:new _e(i.slice.content.append(this.slice.content),i.slice.openStart,this.slice.openEnd);return new e(i.from,this.to,s,this.structure)}else return null},e.prototype.toJSON=function(){var i={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(i.slice=this.slice.toJSON()),this.structure&&(i.structure=!0),i},e.fromJSON=function(i,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(o.from,o.to,_e.fromJSON(i,o.slice),!!o.structure)},e}(ln);ln.jsonID("replace",Ni);var Dn=function(n){function e(r,i,o,s,a,l,c){n.call(this),this.from=r,this.to=i,this.gapFrom=o,this.gapTo=s,this.slice=a,this.insert=l,this.structure=!!c}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.apply=function(i){if(this.structure&&(Km(i,this.from,this.gapFrom)||Km(i,this.gapTo,this.to)))return _n.fail("Structure gap-replace would overwrite content");var o=i.slice(this.gapFrom,this.gapTo);if(o.openStart||o.openEnd)return _n.fail("Gap is not a flat range");var s=this.slice.insertAt(this.insert,o.content);return s?_n.fromReplace(i,this.from,this.to,s):_n.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new Jt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(i){var o=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+o,this.from+this.insert,this.from+this.insert+o,i.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(i){var o=i.mapResult(this.from,1),s=i.mapResult(this.to,-1),a=i.map(this.gapFrom,-1),l=i.map(this.gapTo,1);return o.deleted&&s.deleted||a<o.pos||l>s.pos?null:new e(o.pos,s.pos,a,l,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var i={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(i.slice=this.slice.toJSON()),this.structure&&(i.structure=!0),i},e.fromJSON=function(i,o){if(typeof o.from!="number"||typeof o.to!="number"||typeof o.gapFrom!="number"||typeof o.gapTo!="number"||typeof o.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(o.from,o.to,o.gapFrom,o.gapTo,_e.fromJSON(i,o.slice),o.insert,!!o.structure)},e}(ln);ln.jsonID("replaceAround",Dn);function Km(n,e,r){for(var i=n.resolve(e),o=r-e,s=i.depth;o>0&&s>0&&i.indexAfter(s)==i.node(s).childCount;)s--,o--;if(o>0)for(var a=i.node(s).maybeChild(i.indexAfter(s));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function hz(n,e,r){return(e==0||n.canReplace(e,n.childCount))&&(r==n.childCount||n.canReplace(0,r))}function Ma(n){for(var e=n.parent,r=e.content.cutByIndex(n.startIndex,n.endIndex),i=n.depth;;--i){var o=n.$from.node(i),s=n.$from.index(i),a=n.$to.indexAfter(i);if(i<n.depth&&o.canReplace(s,a,r))return i;if(i==0||o.type.spec.isolating||!hz(o,s,a))break}}At.prototype.lift=function(n,e){for(var r=n.$from,i=n.$to,o=n.depth,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=se.empty,f=0,d=o,h=!1;d>e;d--)h||r.index(d)>0?(h=!0,u=se.from(r.node(d).copy(u)),f++):l--;for(var p=se.empty,g=0,v=o,w=!1;v>e;v--)w||i.after(v+1)<i.end(v)?(w=!0,p=se.from(i.node(v).copy(p)),g++):c++;return this.step(new Dn(l,c,s,a,new _e(u.append(p),f,g),u.size-f,!0))};function Gm(n,e,r,i){i===void 0&&(i=n);var o=pz(n,e),s=o&&gz(i,e);return s?o.map(hk).concat({type:e,attrs:r}).concat(s.map(hk)):null}function hk(n){return{type:n,attrs:null}}function pz(n,e){var r=n.parent,i=n.startIndex,o=n.endIndex,s=r.contentMatchAt(i).findWrapping(e);if(!s)return null;var a=s.length?s[0]:e;return r.canReplaceWith(i,o,a)?s:null}function gz(n,e){var r=n.parent,i=n.startIndex,o=n.endIndex,s=r.child(i),a=e.contentMatch.findWrapping(s.type);if(!a)return null;for(var l=a.length?a[a.length-1]:e,c=l.contentMatch,u=i;c&&u<o;u++)c=c.matchType(r.child(u).type);return!c||!c.validEnd?null:a}At.prototype.wrap=function(n,e){for(var r=se.empty,i=e.length-1;i>=0;i--)r=se.from(e[i].type.create(e[i].attrs,r));var o=n.start,s=n.end;return this.step(new Dn(o,s,o,s,new _e(r,0,0),e.length,!0))};At.prototype.setBlockType=function(n,e,r,i){var o=this;if(e===void 0&&(e=n),!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(n,e,function(a,l){if(a.isTextblock&&!a.hasMarkup(r,i)&&mz(o.doc,o.mapping.slice(s).map(l),r)){o.clearIncompatible(o.mapping.slice(s).map(l,1),r);var c=o.mapping.slice(s),u=c.map(l,1),f=c.map(l+a.nodeSize,1);return o.step(new Dn(u,f,u+1,f-1,new _e(se.from(r.create(i,null,a.marks)),0,0),1,!0)),!1}}),this};function mz(n,e,r){var i=n.resolve(e),o=i.index();return i.parent.canReplaceWith(o,o+1,r)}At.prototype.setNodeMarkup=function(n,e,r,i){var o=this.doc.nodeAt(n);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var s=e.create(r,null,i||o.marks);if(o.isLeaf)return this.replaceWith(n,n+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Dn(n,n+o.nodeSize,n+1,n+o.nodeSize-1,new _e(se.from(s),0,0),1,!0))};function Ri(n,e,r,i){r===void 0&&(r=1);var o=n.resolve(e),s=o.depth-r,a=i&&i[i.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var l=o.depth-1,c=r-2;l>s;l--,c--){var u=o.node(l),f=o.index(l);if(u.type.spec.isolating)return!1;var d=u.content.cutByIndex(f,u.childCount),h=i&&i[c]||u;if(h!=u&&(d=d.replaceChild(0,h.type.create(h.attrs))),!u.canReplace(f+1,u.childCount)||!h.type.validContent(d))return!1}var p=o.indexAfter(s),g=i&&i[0];return o.node(s).canReplaceWith(p,p,g?g.type:o.node(s+1).type)}At.prototype.split=function(n,e,r){e===void 0&&(e=1);for(var i=this.doc.resolve(n),o=se.empty,s=se.empty,a=i.depth,l=i.depth-e,c=e-1;a>l;a--,c--){o=se.from(i.node(a).copy(o));var u=r&&r[c];s=se.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}return this.step(new Ni(n,n,new _e(o.append(s),e,e),!0))};function Ym(n,e){var r=n.resolve(e),i=r.index();return vz(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(i,i+1)}function vz(n,e){return n&&e&&!n.isLeaf&&n.canAppend(e)}At.prototype.join=function(n,e){e===void 0&&(e=1);var r=new Ni(n-e,n+e,_e.empty,!0);return this.step(r)};function yz(n,e,r){var i=n.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),r))return e;if(i.parentOffset==0)for(var o=i.depth-1;o>=0;o--){var s=i.index(o);if(i.node(o).canReplaceWith(s,s,r))return i.before(o+1);if(s>0)return null}if(i.parentOffset==i.parent.content.size)for(var a=i.depth-1;a>=0;a--){var l=i.indexAfter(a);if(i.node(a).canReplaceWith(l,l,r))return i.after(a+1);if(l<i.node(a).childCount)return null}}function Jm(n,e,r){var i=n.resolve(e);if(!r.content.size)return e;for(var o=r.content,s=0;s<r.openStart;s++)o=o.firstChild.content;for(var a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(var l=i.depth;l>=0;l--){var c=l==i.depth?0:i.pos<=(i.start(l+1)+i.end(l+1))/2?-1:1,u=i.index(l)+(c>0?1:0),f=i.node(l),d=!1;if(a==1)d=f.canReplace(u,u,o);else{var h=f.contentMatchAt(u).findWrapping(o.firstChild.type);d=h&&f.canReplaceWith(u,u,h[0])}if(d)return c==0?i.pos:c<0?i.before(l+1):i.after(l+1)}return null}function Xm(n,e,r){for(var i=[],o=0;o<n.childCount;o++){var s=n.child(o);s.content.size&&(s=s.copy(Xm(s.content,e,s))),s.isInline&&(s=e(s,r,o)),i.push(s)}return se.fromArray(i)}var Zm=function(n){function e(r,i,o){n.call(this),this.from=r,this.to=i,this.mark=o}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.apply=function(i){var o=this,s=i.slice(this.from,this.to),a=i.resolve(this.from),l=a.node(a.sharedDepth(this.to)),c=new _e(Xm(s.content,function(u,f){return!u.isAtom||!f.type.allowsMarkType(o.mark.type)?u:u.mark(o.mark.addToSet(u.marks))},l),s.openStart,s.openEnd);return _n.fromReplace(i,this.from,this.to,c)},e.prototype.invert=function(){return new hc(this.from,this.to,this.mark)},e.prototype.map=function(i){var o=i.mapResult(this.from,1),s=i.mapResult(this.to,-1);return o.deleted&&s.deleted||o.pos>=s.pos?null:new e(o.pos,s.pos,this.mark)},e.prototype.merge=function(i){if(i instanceof e&&i.mark.eq(this.mark)&&this.from<=i.to&&this.to>=i.from)return new e(Math.min(this.from,i.from),Math.max(this.to,i.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(i,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(o.from,o.to,i.markFromJSON(o.mark))},e}(ln);ln.jsonID("addMark",Zm);var hc=function(n){function e(r,i,o){n.call(this),this.from=r,this.to=i,this.mark=o}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.apply=function(i){var o=this,s=i.slice(this.from,this.to),a=new _e(Xm(s.content,function(l){return l.mark(o.mark.removeFromSet(l.marks))}),s.openStart,s.openEnd);return _n.fromReplace(i,this.from,this.to,a)},e.prototype.invert=function(){return new Zm(this.from,this.to,this.mark)},e.prototype.map=function(i){var o=i.mapResult(this.from,1),s=i.mapResult(this.to,-1);return o.deleted&&s.deleted||o.pos>=s.pos?null:new e(o.pos,s.pos,this.mark)},e.prototype.merge=function(i){if(i instanceof e&&i.mark.eq(this.mark)&&this.from<=i.to&&this.to>=i.from)return new e(Math.min(this.from,i.from),Math.max(this.to,i.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(i,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(o.from,o.to,i.markFromJSON(o.mark))},e}(ln);ln.jsonID("removeMark",hc);At.prototype.addMark=function(n,e,r){var i=this,o=[],s=[],a=null,l=null;return this.doc.nodesBetween(n,e,function(c,u,f){if(!!c.isInline){var d=c.marks;if(!r.isInSet(d)&&f.type.allowsMarkType(r.type)){for(var h=Math.max(u,n),p=Math.min(u+c.nodeSize,e),g=r.addToSet(d),v=0;v<d.length;v++)d[v].isInSet(g)||(a&&a.to==h&&a.mark.eq(d[v])?a.to=p:o.push(a=new hc(h,p,d[v])));l&&l.to==h?l.to=p:s.push(l=new Zm(h,p,r))}}}),o.forEach(function(c){return i.step(c)}),s.forEach(function(c){return i.step(c)}),this};At.prototype.removeMark=function(n,e,r){var i=this;r===void 0&&(r=null);var o=[],s=0;return this.doc.nodesBetween(n,e,function(a,l){if(!!a.isInline){s++;var c=null;if(r instanceof ho)for(var u=a.marks,f;f=r.isInSet(u);)(c||(c=[])).push(f),u=f.removeFromSet(u);else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length)for(var d=Math.min(l+a.nodeSize,e),h=0;h<c.length;h++){for(var p=c[h],g=void 0,v=0;v<o.length;v++){var w=o[v];w.step==s-1&&p.eq(o[v].style)&&(g=w)}g?(g.to=d,g.step=s):o.push({style:p,from:Math.max(l,n),to:d,step:s})}}}),o.forEach(function(a){return i.step(new hc(a.from,a.to,a.style))}),this};At.prototype.clearIncompatible=function(n,e,r){r===void 0&&(r=e.contentMatch);for(var i=this.doc.nodeAt(n),o=[],s=n+1,a=0;a<i.childCount;a++){var l=i.child(a),c=s+l.nodeSize,u=r.matchType(l.type,l.attrs);if(!u)o.push(new Ni(s,c,_e.empty));else{r=u;for(var f=0;f<l.marks.length;f++)e.allowsMarkType(l.marks[f].type)||this.step(new hc(s,c,l.marks[f]))}s=c}if(!r.validEnd){var d=r.fillBefore(se.empty,!0);this.replace(s,s,new _e(d,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this};function bz(n,e,r,i){if(r===void 0&&(r=e),i===void 0&&(i=_e.empty),e==r&&!i.size)return null;var o=n.resolve(e),s=n.resolve(r);return pk(o,s,i)?new Ni(e,r,i):new lr(o,s,i).fit()}At.prototype.replace=function(n,e,r){e===void 0&&(e=n),r===void 0&&(r=_e.empty);var i=bz(this.doc,n,e,r);return i&&this.step(i),this};At.prototype.replaceWith=function(n,e,r){return this.replace(n,e,new _e(se.from(r),0,0))};At.prototype.delete=function(n,e){return this.replace(n,e,_e.empty)};At.prototype.insert=function(n,e){return this.replaceWith(n,n,e)};function pk(n,e,r){return!r.openStart&&!r.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),r.content)}var lr=function(e,r,i){this.$to=r,this.$from=e,this.unplaced=i,this.frontier=[];for(var o=0;o<=e.depth;o++){var s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}this.placed=se.empty;for(var a=e.depth;a>0;a--)this.placed=se.from(e.node(a).copy(this.placed))},gk={depth:{configurable:!0}};gk.depth.get=function(){return this.frontier.length-1};lr.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var r=this.mustMoveInline(),i=this.placed.size-this.depth-this.$from.depth,o=this.$from,s=this.close(r<0?this.$to:o.doc.resolve(r));if(!s)return null;for(var a=this.placed,l=o.depth,c=s.depth;l&&c&&a.childCount==1;)a=a.firstChild.content,l--,c--;var u=new _e(a,l,c);if(r>-1)return new Dn(o.pos,r,this.$to.pos,this.$to.end(),u,i);if(u.size||o.pos!=this.$to.pos)return new Ni(o.pos,s.pos,u)};lr.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var r=this.unplaced.openStart;r>=0;r--){var i=void 0,o=void 0;r?(o=Qm(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;for(var s=i.firstChild,a=this.depth;a>=0;a--){var l=this.frontier[a],c=l.type,u=l.match,f=void 0,d=void 0;if(e==1&&(s?u.matchType(s.type)||(d=u.fillBefore(se.from(s),!1)):c.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(e==2&&s&&(f=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:f};if(o&&u.matchType(o.type))break}}};lr.prototype.openMore=function(){var e=this.unplaced,r=e.content,i=e.openStart,o=e.openEnd,s=Qm(r,i);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new _e(r,i+1,Math.max(o,s.size+i>=r.size-o?i+1:0)),!0)};lr.prototype.dropNode=function(){var e=this.unplaced,r=e.content,i=e.openStart,o=e.openEnd,s=Qm(r,i);if(s.childCount<=1&&i>0){var a=r.size-i<=i+s.size;this.unplaced=new _e(pc(r,i-1,1),i-1,a?i-1:o)}else this.unplaced=new _e(pc(r,i,1),i,o)};lr.prototype.placeNodes=function(e){for(var r=e.sliceDepth,i=e.frontierDepth,o=e.parent,s=e.inject,a=e.wrap;this.depth>i;)this.closeFrontierNode();if(a)for(var l=0;l<a.length;l++)this.openFrontierNode(a[l]);var c=this.unplaced,u=o?o.content:c.content,f=c.openStart-r,d=0,h=[],p=this.frontier[i],g=p.match,v=p.type;if(s){for(var w=0;w<s.childCount;w++)h.push(s.child(w));g=g.matchFragment(s)}for(var b=u.size+r-(c.content.size-c.openEnd);d<u.childCount;){var S=u.child(d),E=g.matchType(S.type);if(!E)break;d++,(d>1||f==0||S.content.size)&&(g=E,h.push(mk(S.mark(v.allowedMarks(S.marks)),d==1?f:0,d==u.childCount?b:-1)))}var y=d==u.childCount;y||(b=-1),this.placed=gc(this.placed,i,se.from(h)),this.frontier[i].match=g,y&&b<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var k=0,D=u;k<b;k++){var T=D.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),D=T.content}this.unplaced=y?r==0?_e.empty:new _e(pc(c.content,r-1,1),r-1,b<0?c.openEnd:r-1):new _e(pc(c.content,r,d),c.openStart,c.openEnd)};lr.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e=this.frontier[this.depth],r;if(!e.type.isTextblock||!ev(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;for(var i=this.$to,o=i.depth,s=this.$to.after(o);o>1&&s==this.$to.end(--o);)++s;return s};lr.prototype.findCloseLevel=function(e){e:for(var r=Math.min(this.depth,e.depth);r>=0;r--){var i=this.frontier[r],o=i.match,s=i.type,a=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),l=ev(e,r,s,o,a);if(!!l){for(var c=r-1;c>=0;c--){var u=this.frontier[c],f=u.match,d=u.type,h=ev(e,c,d,f,!0);if(!h||h.childCount)continue e}return{depth:r,fit:l,move:a?e.doc.resolve(e.after(r+1)):e}}}};lr.prototype.close=function(e){var r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=gc(this.placed,r.depth,r.fit)),e=r.move;for(var i=r.depth+1;i<=e.depth;i++){var o=e.node(i),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(i));this.openFrontierNode(o.type,o.attrs,s)}return e};lr.prototype.openFrontierNode=function(e,r,i){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=gc(this.placed,this.depth,se.from(e.create(r,i))),this.frontier.push({type:e,match:e.contentMatch})};lr.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),r=e.match.fillBefore(se.empty,!0);r.childCount&&(this.placed=gc(this.placed,this.frontier.length,r))};Object.defineProperties(lr.prototype,gk);function pc(n,e,r){return e==0?n.cutByIndex(r):n.replaceChild(0,n.firstChild.copy(pc(n.firstChild.content,e-1,r)))}function gc(n,e,r){return e==0?n.append(r):n.replaceChild(n.childCount-1,n.lastChild.copy(gc(n.lastChild.content,e-1,r)))}function Qm(n,e){for(var r=0;r<e;r++)n=n.firstChild.content;return n}function mk(n,e,r){if(e<=0)return n;var i=n.content;return e>1&&(i=i.replaceChild(0,mk(i.firstChild,e-1,i.childCount==1?r-1:0))),e>0&&(i=n.type.contentMatch.fillBefore(i).append(i),r<=0&&(i=i.append(n.type.contentMatch.matchFragment(i).fillBefore(se.empty,!0)))),n.copy(i)}function ev(n,e,r,i,o){var s=n.node(e),a=o?n.indexAfter(e):n.index(e);if(a==s.childCount&&!r.compatibleContent(s.type))return null;var l=i.fillBefore(s.content,!0,a);return l&&!_z(r,s.content,a)?l:null}function _z(n,e,r){for(var i=r;i<e.childCount;i++)if(!n.allowsMarks(e.child(i).marks))return!0;return!1}At.prototype.replaceRange=function(n,e,r){if(!r.size)return this.deleteRange(n,e);var i=this.doc.resolve(n),o=this.doc.resolve(e);if(pk(i,o,r))return this.step(new Ni(n,e,r));var s=yk(i,this.doc.resolve(e));s[s.length-1]==0&&s.pop();var a=-(i.depth+1);s.unshift(a);for(var l=i.depth,c=i.pos-1;l>0;l--,c--){var u=i.node(l).type.spec;if(u.defining||u.isolating)break;s.indexOf(l)>-1?a=l:i.before(l)==c&&s.splice(1,0,-l)}for(var f=s.indexOf(a),d=[],h=r.openStart,p=r.content,g=0;;g++){var v=p.firstChild;if(d.push(v),g==r.openStart)break;p=v.content}h>0&&d[h-1].type.spec.defining&&i.node(f).type!=d[h-1].type?h-=1:h>=2&&d[h-1].isTextblock&&d[h-2].type.spec.defining&&i.node(f).type!=d[h-2].type&&(h-=2);for(var w=r.openStart;w>=0;w--){var b=(w+h+1)%(r.openStart+1),S=d[b];if(!!S)for(var E=0;E<s.length;E++){var y=s[(E+f)%s.length],k=!0;y<0&&(k=!1,y=-y);var D=i.node(y-1),T=i.index(y-1);if(D.canReplaceWith(T,T,S.type,S.marks))return this.replace(i.before(y),k?o.after(y):e,new _e(vk(r.content,0,r.openStart,b),b,r.openEnd))}}for(var N=this.steps.length,$=s.length-1;$>=0&&(this.replace(n,e,r),!(this.steps.length>N));$--){var I=s[$];I<0||(n=i.before(I),e=o.after(I))}return this};function vk(n,e,r,i,o){if(e<r){var s=n.firstChild;n=n.replaceChild(0,s.copy(vk(s.content,e+1,r,i,s)))}if(e>i){var a=o.contentMatchAt(0),l=a.fillBefore(n).append(n);n=l.append(a.matchFragment(l).fillBefore(se.empty,!0))}return n}At.prototype.replaceRangeWith=function(n,e,r){if(!r.isInline&&n==e&&this.doc.resolve(n).parent.content.size){var i=yz(this.doc,n,r.type);i!=null&&(n=e=i)}return this.replaceRange(n,e,new _e(se.from(r),0,0))};At.prototype.deleteRange=function(n,e){for(var r=this.doc.resolve(n),i=this.doc.resolve(e),o=yk(r,i),s=0;s<o.length;s++){var a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return this.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return this.delete(r.before(a),i.after(a))}for(var c=1;c<=r.depth&&c<=i.depth;c++)if(n-r.start(c)==r.depth-c&&e>r.end(c)&&i.end(c)-e!=i.depth-c)return this.delete(r.before(c),e);return this.delete(n,e)};function yk(n,e){for(var r=[],i=Math.min(n.depth,e.depth),o=i;o>=0;o--){var s=n.start(o);if(s<n.pos-(n.depth-o)||e.end(o)>e.pos+(e.depth-o)||n.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==n.depth&&o==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&r.push(o)}return r}var tv=Object.create(null),Be=function(e,r,i){this.ranges=i||[new wz(e.min(r),e.max(r))],this.$anchor=e,this.$head=r},po={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};po.anchor.get=function(){return this.$anchor.pos};po.head.get=function(){return this.$head.pos};po.from.get=function(){return this.$from.pos};po.to.get=function(){return this.$to.pos};po.$from.get=function(){return this.ranges[0].$from};po.$to.get=function(){return this.ranges[0].$to};po.empty.get=function(){for(var n=this.ranges,e=0;e<n.length;e++)if(n[e].$from.pos!=n[e].$to.pos)return!1;return!0};Be.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};Be.prototype.replace=function(e,r){r===void 0&&(r=_e.empty);for(var i=r.content.lastChild,o=null,s=0;s<r.openEnd;s++)o=i,i=i.lastChild;for(var a=e.steps.length,l=this.ranges,c=0;c<l.length;c++){var u=l[c],f=u.$from,d=u.$to,h=e.mapping.slice(a);e.replaceRange(h.map(f.pos),h.map(d.pos),c?_e.empty:r),c==0&&bk(e,a,(i?i.isInline:o&&o.isTextblock)?-1:1)}};Be.prototype.replaceWith=function(e,r){for(var i=e.steps.length,o=this.ranges,s=0;s<o.length;s++){var a=o[s],l=a.$from,c=a.$to,u=e.mapping.slice(i),f=u.map(l.pos),d=u.map(c.pos);s?e.deleteRange(f,d):(e.replaceRangeWith(f,d,r),bk(e,i,r.isInline?-1:1))}};Be.findFrom=function(e,r,i){var o=e.parent.inlineContent?new Pe(e):Na(e.node(0),e.parent,e.pos,e.index(),r,i);if(o)return o;for(var s=e.depth-1;s>=0;s--){var a=r<0?Na(e.node(0),e.node(s),e.before(s+1),e.index(s),r,i):Na(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,r,i);if(a)return a}};Be.near=function(e,r){return r===void 0&&(r=1),this.findFrom(e,r)||this.findFrom(e,-r)||new ti(e.node(0))};Be.atStart=function(e){return Na(e,e,0,0,1)||new ti(e)};Be.atEnd=function(e){return Na(e,e,e.content.size,e.childCount,-1)||new ti(e)};Be.fromJSON=function(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");var i=tv[r.type];if(!i)throw new RangeError("No selection type "+r.type+" defined");return i.fromJSON(e,r)};Be.jsonID=function(e,r){if(e in tv)throw new RangeError("Duplicate use of selection JSON ID "+e);return tv[e]=r,r.prototype.jsonID=e,r};Be.prototype.getBookmark=function(){return Pe.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(Be.prototype,po);Be.prototype.visible=!0;var wz=function(e,r){this.$from=e,this.$to=r},Pe=function(n){function e(i,o){o===void 0&&(o=i),n.call(this,i,o)}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={$cursor:{configurable:!0}};return r.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(o,s){var a=o.resolve(s.map(this.head));if(!a.parent.inlineContent)return n.near(a);var l=o.resolve(s.map(this.anchor));return new e(l.parent.inlineContent?l:a,a)},e.prototype.replace=function(o,s){if(s===void 0&&(s=_e.empty),n.prototype.replace.call(this,o,s),s==_e.empty){var a=this.$from.marksAcross(this.$to);a&&o.ensureMarks(a)}},e.prototype.eq=function(o){return o instanceof e&&o.anchor==this.anchor&&o.head==this.head},e.prototype.getBookmark=function(){return new mc(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(o,s){if(typeof s.anchor!="number"||typeof s.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(o.resolve(s.anchor),o.resolve(s.head))},e.create=function(o,s,a){a===void 0&&(a=s);var l=o.resolve(s);return new this(l,a==s?l:o.resolve(a))},e.between=function(o,s,a){var l=o.pos-s.pos;if((!a||l)&&(a=l>=0?1:-1),!s.parent.inlineContent){var c=n.findFrom(s,a,!0)||n.findFrom(s,-a,!0);if(c)s=c.$head;else return n.near(s,a)}return o.parent.inlineContent||(l==0?o=s:(o=(n.findFrom(o,-a,!0)||n.findFrom(o,a,!0)).$anchor,o.pos<s.pos!=l<0&&(o=s))),new e(o,s)},Object.defineProperties(e.prototype,r),e}(Be);Be.jsonID("text",Pe);var mc=function(e,r){this.anchor=e,this.head=r};mc.prototype.map=function(e){return new mc(e.map(this.anchor),e.map(this.head))};mc.prototype.resolve=function(e){return Pe.between(e.resolve(this.anchor),e.resolve(this.head))};var Ae=function(n){function e(r){var i=r.nodeAfter,o=r.node(0).resolve(r.pos+i.nodeSize);n.call(this,r,o),this.node=i}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.map=function(i,o){var s=o.mapResult(this.anchor),a=s.deleted,l=s.pos,c=i.resolve(l);return a?n.near(c):new e(c)},e.prototype.content=function(){return new _e(se.from(this.node),0,0)},e.prototype.eq=function(i){return i instanceof e&&i.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new sd(this.anchor)},e.fromJSON=function(i,o){if(typeof o.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(i.resolve(o.anchor))},e.create=function(i,o){return new this(i.resolve(o))},e.isSelectable=function(i){return!i.isText&&i.type.spec.selectable!==!1},e}(Be);Ae.prototype.visible=!1;Be.jsonID("node",Ae);var sd=function(e){this.anchor=e};sd.prototype.map=function(e){var r=e.mapResult(this.anchor),i=r.deleted,o=r.pos;return i?new mc(o,o):new sd(o)};sd.prototype.resolve=function(e){var r=e.resolve(this.anchor),i=r.nodeAfter;return i&&Ae.isSelectable(i)?new Ae(r):Be.near(r)};var ti=function(n){function e(r){n.call(this,r.resolve(0),r.resolve(r.content.size))}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.replace=function(i,o){if(o===void 0&&(o=_e.empty),o==_e.empty){i.delete(0,i.doc.content.size);var s=n.atStart(i.doc);s.eq(i.selection)||i.setSelection(s)}else n.prototype.replace.call(this,i,o)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(i){return new e(i)},e.prototype.map=function(i){return new e(i)},e.prototype.eq=function(i){return i instanceof e},e.prototype.getBookmark=function(){return Ez},e}(Be);Be.jsonID("all",ti);var Ez={map:function(){return this},resolve:function(e){return new ti(e)}};function Na(n,e,r,i,o,s){if(e.inlineContent)return Pe.create(n,r);for(var a=i-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){var l=e.child(a);if(l.isAtom){if(!s&&Ae.isSelectable(l))return Ae.create(n,r-(o<0?l.nodeSize:0))}else{var c=Na(n,l,r+o,o<0?l.childCount:0,o,s);if(c)return c}r+=l.nodeSize*o}}function bk(n,e,r){var i=n.steps.length-1;if(!(i<e)){var o=n.steps[i];if(o instanceof Ni||o instanceof Dn){var s=n.mapping.maps[i],a;s.forEach(function(l,c,u,f){a==null&&(a=f)}),n.setSelection(Be.near(n.doc.resolve(a),r))}}}var _k=1,ad=2,wk=4,Sz=function(n){function e(i){n.call(this,i.doc),this.time=Date.now(),this.curSelection=i.selection,this.curSelectionFor=0,this.storedMarks=i.storedMarks,this.updated=0,this.meta=Object.create(null)}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return r.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(o){if(o.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=o,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_k)&~ad,this.storedMarks=null,this},r.selectionSet.get=function(){return(this.updated&_k)>0},e.prototype.setStoredMarks=function(o){return this.storedMarks=o,this.updated|=ad,this},e.prototype.ensureMarks=function(o){return Ke.sameSet(this.storedMarks||this.selection.$from.marks(),o)||this.setStoredMarks(o),this},e.prototype.addStoredMark=function(o){return this.ensureMarks(o.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(o){return this.ensureMarks(o.removeFromSet(this.storedMarks||this.selection.$head.marks()))},r.storedMarksSet.get=function(){return(this.updated&ad)>0},e.prototype.addStep=function(o,s){n.prototype.addStep.call(this,o,s),this.updated=this.updated&~ad,this.storedMarks=null},e.prototype.setTime=function(o){return this.time=o,this},e.prototype.replaceSelection=function(o){return this.selection.replace(this,o),this},e.prototype.replaceSelectionWith=function(o,s){var a=this.selection;return s!==!1&&(o=o.mark(this.storedMarks||(a.empty?a.$from.marks():a.$from.marksAcross(a.$to)||Ke.none))),a.replaceWith(this,o),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(o,s,a){a===void 0&&(a=s);var l=this.doc.type.schema;if(s==null)return o?this.replaceSelectionWith(l.text(o),!0):this.deleteSelection();if(!o)return this.deleteRange(s,a);var c=this.storedMarks;if(!c){var u=this.doc.resolve(s);c=a==s?u.marks():u.marksAcross(this.doc.resolve(a))}return this.replaceRangeWith(s,a,l.text(o,c)),this.selection.empty||this.setSelection(Be.near(this.selection.$to)),this},e.prototype.setMeta=function(o,s){return this.meta[typeof o=="string"?o:o.key]=s,this},e.prototype.getMeta=function(o){return this.meta[typeof o=="string"?o:o.key]},r.isGeneric.get=function(){for(var i in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=wk,this},r.scrolledIntoView.get=function(){return(this.updated&wk)>0},Object.defineProperties(e.prototype,r),e}(At);function Ek(n,e){return!e||!n?n:n.bind(e)}var vc=function(e,r,i){this.name=e,this.init=Ek(r.init,i),this.apply=Ek(r.apply,i)},kz=[new vc("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new vc("selection",{init:function(e,r){return e.selection||Be.atStart(r.doc)},apply:function(e){return e.selection}}),new vc("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,r,i,o){return o.selection.$cursor?e.storedMarks:null}}),new vc("scrollToSelection",{init:function(){return 0},apply:function(e,r){return e.scrolledIntoView?r+1:r}})],nv=function(e,r){var i=this;this.schema=e,this.fields=kz.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),r&&r.forEach(function(o){if(i.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");i.plugins.push(o),i.pluginsByKey[o.key]=o,o.spec.state&&i.fields.push(new vc(o.key,o.spec.state,o))})},cn=function(e){this.config=e},ld={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};ld.schema.get=function(){return this.config.schema};ld.plugins.get=function(){return this.config.plugins};cn.prototype.apply=function(e){return this.applyTransaction(e).state};cn.prototype.filterTransaction=function(e,r){r===void 0&&(r=-1);for(var i=0;i<this.config.plugins.length;i++)if(i!=r){var o=this.config.plugins[i];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0};cn.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var r=[e],i=this.applyInner(e),o=null;;){for(var s=!1,a=0;a<this.config.plugins.length;a++){var l=this.config.plugins[a];if(l.spec.appendTransaction){var c=o?o[a].n:0,u=o?o[a].state:this,f=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,u,i);if(f&&i.filterTransaction(f,a)){if(f.setMeta("appendedTransaction",e),!o){o=[];for(var d=0;d<this.config.plugins.length;d++)o.push(d<a?{state:i,n:r.length}:{state:this,n:0})}r.push(f),i=i.applyInner(f),s=!0}o&&(o[a]={state:i,n:r.length})}}if(!s)return{state:i,transactions:r}}};cn.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var r=new cn(this.config),i=this.config.fields,o=0;o<i.length;o++){var s=i[o];r[s.name]=s.apply(e,this[s.name],this,r)}for(var a=0;a<yc.length;a++)yc[a](this,e,r);return r};ld.tr.get=function(){return new Sz(this)};cn.create=function(e){for(var r=new nv(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new cn(r),o=0;o<r.fields.length;o++)i[r.fields[o].name]=r.fields[o].init(e,i);return i};cn.prototype.reconfigure=function(e){for(var r=new nv(this.schema,e.plugins),i=r.fields,o=new cn(r),s=0;s<i.length;s++){var a=i[s].name;o[a]=this.hasOwnProperty(a)?this[a]:i[s].init(e,o)}return o};cn.prototype.toJSON=function(e){var r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(function(a){return a.toJSON()})),e&&typeof e=="object")for(var i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=e[i],s=o.spec.state;s&&s.toJSON&&(r[i]=s.toJSON.call(o,this[o.key]))}return r};cn.fromJSON=function(e,r,i){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new nv(e.schema,e.plugins),s=new cn(o);return o.fields.forEach(function(a){if(a.name=="doc")s.doc=Xe.fromJSON(e.schema,r.doc);else if(a.name=="selection")s.selection=Be.fromJSON(s.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(s.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(i)for(var l in i){var c=i[l],u=c.spec.state;if(c.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){s[a.name]=u.fromJSON.call(c,e,r[l],s);return}}s[a.name]=a.init(e,s)}}),s};cn.addApplyListener=function(e){yc.push(e)};cn.removeApplyListener=function(e){var r=yc.indexOf(e);r>-1&&yc.splice(r,1)};Object.defineProperties(cn.prototype,ld);var yc=[];function Sk(n,e,r){for(var i in n){var o=n[i];o instanceof Function?o=o.bind(e):i=="handleDOMEvents"&&(o=Sk(o,e,{})),r[i]=o}return r}var bt=function(e){this.props={},e.props&&Sk(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:kk("plugin")};bt.prototype.getState=function(e){return e[this.key]};var rv=Object.create(null);function kk(n){return n in rv?n+"$"+ ++rv[n]:(rv[n]=0,n+"$")}var It=function(e){e===void 0&&(e="key"),this.key=kk(e)};It.prototype.get=function(e){return e.config.pluginsByKey[this.key]};It.prototype.getState=function(e){return e[this.key]};function iv(n,e){return n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0)}function Ck(n,e,r){var i=n.selection,o=i.$cursor;if(!o||(r?!r.endOfTextblock("backward",n):o.parentOffset>0))return!1;var s=Ak(o);if(!s){var a=o.blockRange(),l=a&&Ma(a);return l==null?!1:(e&&e(n.tr.lift(a,l).scrollIntoView()),!0)}var c=s.nodeBefore;if(!c.type.spec.isolating&&Lk(n,s,e))return!0;if(o.parent.content.size==0&&(Ra(c,"end")||Ae.isSelectable(c))){if(e){var u=n.tr.deleteRange(o.before(),o.after());u.setSelection(Ra(c,"end")?Be.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):Ae.create(u.doc,s.pos-c.nodeSize)),e(u.scrollIntoView())}return!0}return c.isAtom&&s.depth==o.depth-1?(e&&e(n.tr.delete(s.pos-c.nodeSize,s.pos).scrollIntoView()),!0):!1}function Ra(n,e,r){for(;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}function xk(n,e,r){var i=n.selection,o=i.$head,s=i.empty,a=o;if(!s)return!1;if(o.parent.isTextblock){if(r?!r.endOfTextblock("backward",n):o.parentOffset>0)return!1;a=Ak(o)}var l=a&&a.nodeBefore;return!l||!Ae.isSelectable(l)?!1:(e&&e(n.tr.setSelection(Ae.create(n.doc,a.pos-l.nodeSize)).scrollIntoView()),!0)}function Ak(n){if(!n.parent.type.spec.isolating)for(var e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Ok(n,e,r){var i=n.selection,o=i.$cursor;if(!o||(r?!r.endOfTextblock("forward",n):o.parentOffset<o.parent.content.size))return!1;var s=Tk(o);if(!s)return!1;var a=s.nodeAfter;if(Lk(n,s,e))return!0;if(o.parent.content.size==0&&(Ra(a,"start")||Ae.isSelectable(a))){if(e){var l=n.tr.deleteRange(o.before(),o.after());l.setSelection(Ra(a,"start")?Be.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Ae.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}return a.isAtom&&s.depth==o.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1}function Dk(n,e,r){var i=n.selection,o=i.$head,s=i.empty,a=o;if(!s)return!1;if(o.parent.isTextblock){if(r?!r.endOfTextblock("forward",n):o.parentOffset<o.parent.content.size)return!1;a=Tk(o)}var l=a&&a.nodeAfter;return!l||!Ae.isSelectable(l)?!1:(e&&e(n.tr.setSelection(Ae.create(n.doc,a.pos)).scrollIntoView()),!0)}function Tk(n){if(!n.parent.type.spec.isolating)for(var e=n.depth-1;e>=0;e--){var r=n.node(e);if(n.index(e)+1<r.childCount)return n.doc.resolve(n.after(e+1));if(r.type.spec.isolating)break}return null}function Mk(n,e){var r=n.selection,i=r.$from,o=r.$to,s=i.blockRange(o),a=s&&Ma(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}function Nk(n,e){var r=n.selection,i=r.$head,o=r.$anchor;return!i.parent.type.spec.code||!i.sameParent(o)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)}function ov(n){for(var e=0;e<n.edgeCount;e++){var r=n.edge(e),i=r.type;if(i.isTextblock&&!i.hasRequiredAttrs())return i}return null}function Rk(n,e){var r=n.selection,i=r.$head,o=r.$anchor;if(!i.parent.type.spec.code||!i.sameParent(o))return!1;var s=i.node(-1),a=i.indexAfter(-1),l=ov(s.contentMatchAt(a));if(!s.canReplaceWith(a,a,l))return!1;if(e){var c=i.after(),u=n.tr.replaceWith(c,c,l.createAndFill());u.setSelection(Be.near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0}function Ik(n,e){var r=n.selection,i=r.$from,o=r.$to;if(r instanceof ti||i.parent.inlineContent||o.parent.inlineContent)return!1;var s=ov(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){var a=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,l=n.tr.insert(a,s.createAndFill());l.setSelection(Pe.create(l.doc,a+1)),e(l.scrollIntoView())}return!0}function Pk(n,e){var r=n.selection,i=r.$cursor;if(!i||i.parent.content.size)return!1;if(i.depth>1&&i.after()!=i.end(-1)){var o=i.before();if(Ri(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}var s=i.blockRange(),a=s&&Ma(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}function Cz(n,e){var r=n.selection,i=r.$from,o=r.$to;if(n.selection instanceof Ae&&n.selection.node.isBlock)return!i.parentOffset||!Ri(n.doc,i.pos)?!1:(e&&e(n.tr.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;if(e){var s=o.parentOffset==o.parent.content.size,a=n.tr;(n.selection instanceof Pe||n.selection instanceof ti)&&a.deleteSelection();var l=i.depth==0?null:ov(i.node(-1).contentMatchAt(i.indexAfter(-1))),c=s&&l?[{type:l}]:null,u=Ri(a.doc,a.mapping.map(i.pos),1,c);if(!c&&!u&&Ri(a.doc,a.mapping.map(i.pos),1,l&&[{type:l}])&&(c=[{type:l}],u=!0),u&&(a.split(a.mapping.map(i.pos),1,c),!s&&!i.parentOffset&&i.parent.type!=l)){var f=a.mapping.map(i.before()),d=a.doc.resolve(f);i.node(-1).canReplaceWith(d.index(),d.index()+1,l)&&a.setNodeMarkup(a.mapping.map(i.before()),l)}e(a.scrollIntoView())}return!0}function xz(n,e){var r=n.selection,i=r.$from,o=r.to,s,a=i.sharedDepth(o);return a==0?!1:(s=i.before(a),e&&e(n.tr.setSelection(Ae.create(n.doc,s))),!0)}function Az(n,e){return e&&e(n.tr.setSelection(new ti(n.doc))),!0}function Oz(n,e,r){var i=e.nodeBefore,o=e.nodeAfter,s=e.index();return!i||!o||!i.type.compatibleContent(o.type)?!1:!i.content.size&&e.parent.canReplace(s-1,s)?(r&&r(n.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||Ym(n.doc,e.pos))?!1:(r&&r(n.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),!0)}function Lk(n,e,r){var i=e.nodeBefore,o=e.nodeAfter,s,a;if(i.type.spec.isolating||o.type.spec.isolating)return!1;if(Oz(n,e,r))return!0;var l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(r){for(var c=e.pos+o.nodeSize,u=se.empty,f=s.length-1;f>=0;f--)u=se.from(s[f].create(null,u));u=se.from(i.copy(u));var d=n.tr.step(new Dn(e.pos-1,c,e.pos,c,new _e(u,1,0),s.length,!0)),h=c+2*s.length;Ym(d.doc,h)&&d.join(h),r(d.scrollIntoView())}return!0}var p=Be.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),v=g&&Ma(g);if(v!=null&&v>=e.depth)return r&&r(n.tr.lift(g,v).scrollIntoView()),!0;if(l&&Ra(o,"start",!0)&&Ra(i,"end")){for(var w=i,b=[];b.push(w),!w.isTextblock;)w=w.lastChild;for(var S=o,E=1;!S.isTextblock;S=S.firstChild)E++;if(w.canReplace(w.childCount,w.childCount,S.content)){if(r){for(var y=se.empty,k=b.length-1;k>=0;k--)y=se.from(b[k].copy(y));var D=n.tr.step(new Dn(e.pos-b.length,e.pos+o.nodeSize,e.pos+E,e.pos+o.nodeSize-E,new _e(y,b.length,0),0,!0));r(D.scrollIntoView())}return!0}}return!1}function Bk(n,e){return function(r,i){var o=r.selection,s=o.$from,a=o.$to,l=s.blockRange(a),c=l&&Gm(l,n,e);return c?(i&&i(r.tr.wrap(l,c).scrollIntoView()),!0):!1}}function Dz(n,e){return function(r,i){var o=r.selection,s=o.from,a=o.to,l=!1;return r.doc.nodesBetween(s,a,function(c,u){if(l)return!1;if(!(!c.isTextblock||c.hasMarkup(n,e)))if(c.type==n)l=!0;else{var f=r.doc.resolve(u),d=f.index();l=f.parent.canReplaceWith(d,d+1,n)}}),l?(i&&i(r.tr.setBlockType(s,a,n,e).scrollIntoView()),!0):!1}}function sv(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(r,i,o){for(var s=0;s<n.length;s++)if(n[s](r,i,o))return!0;return!1}}var av=sv(iv,Ck,xk),Fk=sv(iv,Ok,Dk),go={Enter:sv(Nk,Ik,Pk,Cz),"Mod-Enter":Rk,Backspace:av,"Mod-Backspace":av,"Shift-Backspace":av,Delete:Fk,"Mod-Delete":Fk,"Mod-a":Az},Tz={"Ctrl-h":go.Backspace,"Alt-Backspace":go["Mod-Backspace"],"Ctrl-d":go.Delete,"Ctrl-Alt-Backspace":go["Mod-Delete"],"Alt-Delete":go["Mod-Delete"],"Alt-d":go["Mod-Delete"]};for(var $k in go)Tz[$k]=go[$k];typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform()=="darwin";function Mz(n,e){return function(r,i){var o=r.selection,s=o.$from,a=o.$to,l=s.blockRange(a),c=!1,u=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(n)&&l.startIndex==0){if(s.index(l.depth-1)==0)return!1;var f=r.doc.resolve(l.start-2);u=new uc(f,f,l.depth),l.endIndex<l.parent.childCount&&(l=new uc(s,r.doc.resolve(a.end(l.depth)),l.depth)),c=!0}var d=Gm(u,n,e,l);return d?(i&&i(Nz(r.tr,l,d,c,n).scrollIntoView()),!0):!1}}function Nz(n,e,r,i,o){for(var s=se.empty,a=r.length-1;a>=0;a--)s=se.from(r[a].type.create(r[a].attrs,s));n.step(new Dn(e.start-(i?2:0),e.end,e.start,e.end,new _e(s,0,0),r.length,!0));for(var l=0,c=0;c<r.length;c++)r[c].type==o&&(l=c+1);for(var u=r.length-l,f=e.start+r.length-(i?2:0),d=e.parent,h=e.startIndex,p=e.endIndex,g=!0;h<p;h++,g=!1)!g&&Ri(n.doc,f,u)&&(n.split(f,u),f+=2*u),f+=d.child(h).nodeSize;return n}function Rz(n){return function(e,r){var i=e.selection,o=i.$from,s=i.$to,a=o.blockRange(s,function(l){return l.childCount&&l.firstChild.type==n});return a?r?o.node(a.depth-1).type==n?Iz(e,r,n,a):Pz(e,r,a):!0:!1}}function Iz(n,e,r,i){var o=n.tr,s=i.end,a=i.$to.end(i.depth);return s<a&&(o.step(new Dn(s-1,a,s,a,new _e(se.from(r.create(null,i.parent.copy())),1,0),1,!0)),i=new uc(o.doc.resolve(i.$from.pos),o.doc.resolve(a),i.depth)),e(o.lift(i,Ma(i)).scrollIntoView()),!0}function Pz(n,e,r){for(var i=n.tr,o=r.parent,s=r.end,a=r.endIndex-1,l=r.startIndex;a>l;a--)s-=o.child(a).nodeSize,i.delete(s-1,s+1);var c=i.doc.resolve(r.start),u=c.nodeAfter;if(i.mapping.map(r.end)!=r.start+c.nodeAfter.nodeSize)return!1;var f=r.startIndex==0,d=r.endIndex==o.childCount,h=c.node(-1),p=c.index(-1);if(!h.canReplace(p+(f?0:1),p+1,u.content.append(d?se.empty:se.from(o))))return!1;var g=c.pos,v=g+u.nodeSize;return i.step(new Dn(g-(f?1:0),v+(d?1:0),g+1,v-1,new _e((f?se.empty:se.from(o.copy(se.empty))).append(d?se.empty:se.from(o.copy(se.empty))),f?0:1,d?0:1),f?0:1)),e(i.scrollIntoView()),!0}function Lz(n){return function(e,r){var i=e.selection,o=i.$from,s=i.$to,a=o.blockRange(s,function(v){return v.childCount&&v.firstChild.type==n});if(!a)return!1;var l=a.startIndex;if(l==0)return!1;var c=a.parent,u=c.child(l-1);if(u.type!=n)return!1;if(r){var f=u.lastChild&&u.lastChild.type==c.type,d=se.from(f?n.create():null),h=new _e(se.from(n.create(null,se.from(c.type.create(null,d)))),f?3:1,0),p=a.start,g=a.end;r(e.tr.step(new Dn(p-(f?3:1),g,p,g,h,1,!0)).scrollIntoView())}return!0}}var he={};if(typeof navigator!="undefined"&&typeof document!="undefined"){var lv=/Edge\/(\d+)/.exec(navigator.userAgent),zk=/MSIE \d/.test(navigator.userAgent),cv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),uv=he.ie=!!(zk||cv||lv);he.ie_version=zk?document.documentMode||6:cv?+cv[1]:lv?+lv[1]:null,he.gecko=!uv&&/gecko\/(\d+)/i.test(navigator.userAgent),he.gecko_version=he.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var fv=!uv&&/Chrome\/(\d+)/.exec(navigator.userAgent);he.chrome=!!fv,he.chrome_version=fv&&+fv[1],he.safari=!uv&&/Apple Computer/.test(navigator.vendor),he.ios=he.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),he.mac=he.ios||/Mac/.test(navigator.platform),he.android=/Android \d/.test(navigator.userAgent),he.webkit="webkitFontSmoothing"in document.documentElement.style,he.webkit_version=he.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Kn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},dv=function(n){var e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e},Uk=null,Ii=function(n,e,r){var i=Uk||(Uk=document.createRange());return i.setEnd(n,r==null?n.nodeValue.length:r),i.setStart(n,e||0),i},cd=function(n,e,r,i){return r&&(Hk(n,e,r,i,-1)||Hk(n,e,r,i,1))},Bz=/^(img|br|input|textarea|hr)$/i;function Hk(n,e,r,i,o){for(;;){if(n==r&&e==i)return!0;if(e==(o<0?0:ni(n))){var s=n.parentNode;if(s.nodeType!=1||$z(n)||Bz.test(n.nodeName)||n.contentEditable=="false")return!1;e=Kn(n)+(o<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(o<0?-1:0)],n.contentEditable=="false")return!1;e=o<0?ni(n):0}else return!1}}function ni(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Fz(n,e,r){for(var i=e==0,o=e==ni(n);i||o;){if(n==r)return!0;var s=Kn(n);if(n=n.parentNode,!n)return!1;i=i&&s==0,o=o&&s==ni(n)}}function $z(n){for(var e,r=n;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}var hv=function(n){var e=n.isCollapsed;return e&&he.chrome&&n.rangeCount&&!n.getRangeAt(0).collapsed&&(e=!1),e};function Ia(n,e){var r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=n,r.key=r.code=e,r}function zz(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function mo(n,e){return typeof n=="number"?n:n[e]}function Uz(n){var e=n.getBoundingClientRect(),r=e.width/n.offsetWidth||1,i=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*r,top:e.top,bottom:e.top+n.clientHeight*i}}function Vk(n,e,r){for(var i=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument,a=r||n.dom;a;a=dv(a))if(a.nodeType==1){var l=a==s.body||a.nodeType!=1,c=l?zz(s):Uz(a),u=0,f=0;if(e.top<c.top+mo(i,"top")?f=-(c.top-e.top+mo(o,"top")):e.bottom>c.bottom-mo(i,"bottom")&&(f=e.bottom-c.bottom+mo(o,"bottom")),e.left<c.left+mo(i,"left")?u=-(c.left-e.left+mo(o,"left")):e.right>c.right-mo(i,"right")&&(u=e.right-c.right+mo(o,"right")),u||f)if(l)s.defaultView.scrollBy(u,f);else{var d=a.scrollLeft,h=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);var p=a.scrollLeft-d,g=a.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l)break}}function Hz(n){for(var e=n.dom.getBoundingClientRect(),r=Math.max(0,e.top),i,o,s=(e.left+e.right)/2,a=r+1;a<Math.min(innerHeight,e.bottom);a+=5){var l=n.root.elementFromPoint(s,a);if(!(l==n.dom||!n.dom.contains(l))){var c=l.getBoundingClientRect();if(c.top>=r-20){i=l,o=c.top;break}}}return{refDOM:i,refTop:o,stack:jk(n.dom)}}function jk(n){for(var e=[],r=n.ownerDocument;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),n!=r);n=dv(n));return e}function Vz(n){var e=n.refDOM,r=n.refTop,i=n.stack,o=e?e.getBoundingClientRect().top:0;qk(i,o==0?0:o-r)}function qk(n,e){for(var r=0;r<n.length;r++){var i=n[r],o=i.dom,s=i.top,a=i.left;o.scrollTop!=s+e&&(o.scrollTop=s+e),o.scrollLeft!=a&&(o.scrollLeft=a)}}var Pa=null;function jz(n){if(n.setActive)return n.setActive();if(Pa)return n.focus(Pa);var e=jk(n);n.focus(Pa==null?{get preventScroll(){return Pa={preventScroll:!0},!0}}:void 0),Pa||(Pa=!1,qk(e,0))}function Wk(n,e){for(var r,i=2e8,o,s=0,a=e.top,l=e.top,c=n.firstChild,u=0;c;c=c.nextSibling,u++){var f=void 0;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Ii(c).getClientRects();else continue;for(var d=0;d<f.length;d++){var h=f[d];if(h.top<=a&&h.bottom>=l){a=Math.max(h.bottom,a),l=Math.min(h.top,l);var p=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(p<i){r=c,i=p,o=p&&r.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&p&&(s=u+(e.left>=(h.left+h.right)/2?1:0));continue}}!r&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=u+1)}}return r&&r.nodeType==3?qz(r,o):!r||i&&r.nodeType==1?{node:n,offset:s}:Wk(r,o)}function qz(n,e){for(var r=n.nodeValue.length,i=document.createRange(),o=0;o<r;o++){i.setEnd(n,o+1),i.setStart(n,o);var s=vo(i,1);if(s.top!=s.bottom&&pv(e,s))return{node:n,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function pv(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Wz(n,e){var r=n.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<n.getBoundingClientRect().left?r:n}function Kz(n,e,r){var i=Wk(e,r),o=i.node,s=i.offset,a=-1;if(o.nodeType==1&&!o.firstChild){var l=o.getBoundingClientRect();a=l.left!=l.right&&r.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(o,s,a)}function Gz(n,e,r,i){for(var o=-1,s=e;s!=n.dom;){var a=n.docView.nearestDesc(s,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var l=a.dom.getBoundingClientRect();if(l.left>i.left||l.top>i.top)o=a.posBefore;else if(l.right<i.left||l.bottom<i.top)o=a.posAfter;else break}s=a.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,r)}function Kk(n,e,r){var i=n.childNodes.length;if(i&&r.top<r.bottom)for(var o=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-r.top)/(r.bottom-r.top))-2)),s=o;;){var a=n.childNodes[s];if(a.nodeType==1)for(var l=a.getClientRects(),c=0;c<l.length;c++){var u=l[c];if(pv(e,u))return Kk(a,e,u)}if((s=(s+1)%i)==o)break}return n}function Yz(n,e){var r,i,o=n.dom.ownerDocument,s,a;if(o.caretPositionFromPoint)try{var l=o.caretPositionFromPoint(e.left,e.top);l&&(r=l,s=r.offsetNode,a=r.offset)}catch(w){}if(!s&&o.caretRangeFromPoint){var c=o.caretRangeFromPoint(e.left,e.top);c&&(i=c,s=i.startContainer,a=i.startOffset)}var u=(n.root.elementFromPoint?n.root:o).elementFromPoint(e.left,e.top+1),f;if(!u||!n.dom.contains(u.nodeType!=1?u.parentNode:u)){var d=n.dom.getBoundingClientRect();if(!pv(e,d)||(u=Kk(n.dom,e,d),!u))return null}if(he.safari)for(var h=u;s&&h;h=dv(h))h.draggable&&(s=a=null);if(u=Wz(u,e),s){if(he.gecko&&s.nodeType==1&&(a=Math.min(a,s.childNodes.length),a<s.childNodes.length)){var p=s.childNodes[a],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&a++}s==n.dom&&a==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?f=n.state.doc.content.size:(a==0||s.nodeType!=1||s.childNodes[a-1].nodeName!="BR")&&(f=Gz(n,s,a,e))}f==null&&(f=Kz(n,u,e));var v=n.docView.nearestDesc(u,!0);return{pos:f,inside:v?v.posAtStart-v.border:-1}}function vo(n,e){var r=n.getClientRects();return r.length?r[e<0?0:r.length-1]:n.getBoundingClientRect()}var Jz=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Gk(n,e,r){var i=n.docView.domFromPos(e,r<0?-1:1),o=i.node,s=i.offset,a=he.webkit||he.gecko;if(o.nodeType==3)if(a&&(Jz.test(o.nodeValue)||(r<0?!s:s==o.nodeValue.length))){var l=vo(Ii(o,s,s),r);if(he.gecko&&s&&/\s/.test(o.nodeValue[s-1])&&s<o.nodeValue.length){var c=vo(Ii(o,s-1,s-1),-1);if(c.top==l.top){var u=vo(Ii(o,s,s+1),-1);if(u.top!=l.top)return bc(u,u.left<c.left)}}return l}else{var f=s,d=s,h=r<0?1:-1;return r<0&&!s?(d++,h=-1):r>=0&&s==o.nodeValue.length?(f--,h=1):r<0?f--:d++,bc(vo(Ii(o,f,d),h),h<0)}if(!n.state.doc.resolve(e).parent.inlineContent){if(s&&(r<0||s==ni(o))){var p=o.childNodes[s-1];if(p.nodeType==1)return gv(p.getBoundingClientRect(),!1)}if(s<ni(o)){var g=o.childNodes[s];if(g.nodeType==1)return gv(g.getBoundingClientRect(),!0)}return gv(o.getBoundingClientRect(),r>=0)}if(s&&(r<0||s==ni(o))){var v=o.childNodes[s-1],w=v.nodeType==3?Ii(v,ni(v)-(a?0:1)):v.nodeType==1&&(v.nodeName!="BR"||!v.nextSibling)?v:null;if(w)return bc(vo(w,1),!1)}if(s<ni(o)){for(var b=o.childNodes[s];b.pmViewDesc&&b.pmViewDesc.ignoreForCoords;)b=b.nextSibling;var S=b?b.nodeType==3?Ii(b,0,a?0:1):b.nodeType==1?b:null:null;if(S)return bc(vo(S,-1),!0)}return bc(vo(o.nodeType==3?Ii(o):o,-r),r>=0)}function bc(n,e){if(n.width==0)return n;var r=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:r,right:r}}function gv(n,e){if(n.height==0)return n;var r=e?n.top:n.bottom;return{top:r,bottom:r,left:n.left,right:n.right}}function Yk(n,e,r){var i=n.state,o=n.root.activeElement;i!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return r()}finally{i!=e&&n.updateState(i),o!=n.dom&&o&&o.focus()}}function Xz(n,e,r){var i=e.selection,o=r=="up"?i.$from:i.$to;return Yk(n,e,function(){for(var s=n.docView.domFromPos(o.pos,r=="up"?-1:1),a=s.node;;){var l=n.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.dom;break}a=l.dom.parentNode}for(var c=Gk(n,o.pos,1),u=a.firstChild;u;u=u.nextSibling){var f=void 0;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Ii(u,0,u.nodeValue.length).getClientRects();else continue;for(var d=0;d<f.length;d++){var h=f[d];if(h.bottom>h.top+1&&(r=="up"?c.top-h.top>(h.bottom-c.top)*2:h.bottom-c.bottom>(c.bottom-h.top)*2))return!1}}return!0})}var Zz=/[\u0590-\u08ac]/;function Qz(n,e,r){var i=e.selection,o=i.$head;if(!o.parent.isTextblock)return!1;var s=o.parentOffset,a=!s,l=s==o.parent.content.size,c=n.root.getSelection();return!Zz.test(o.parent.textContent)||!c.modify?r=="left"||r=="backward"?a:l:Yk(n,e,function(){var u=c.getRangeAt(0),f=c.focusNode,d=c.focusOffset,h=c.caretBidiLevel;c.modify("move",r,"character");var p=o.depth?n.docView.domAfterPos(o.before()):n.dom,g=!p.contains(c.focusNode.nodeType==1?c.focusNode:c.focusNode.parentNode)||f==c.focusNode&&d==c.focusOffset;return c.removeAllRanges(),c.addRange(u),h!=null&&(c.caretBidiLevel=h),g})}var Jk=null,Xk=null,Zk=!1;function eU(n,e,r){return Jk==e&&Xk==r?Zk:(Jk=e,Xk=r,Zk=r=="up"||r=="down"?Xz(n,e,r):Qz(n,e,r))}var Dr=0,Qk=1,_c=2,yo=3,lt=function(e,r,i,o){this.parent=e,this.children=r,this.dom=i,i.pmViewDesc=this,this.contentDOM=o,this.dirty=Dr},ri={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};lt.prototype.matchesWidget=function(){return!1};lt.prototype.matchesMark=function(){return!1};lt.prototype.matchesNode=function(){return!1};lt.prototype.matchesHack=function(e){return!1};lt.prototype.parseRule=function(){return null};lt.prototype.stopEvent=function(){return!1};ri.size.get=function(){for(var n=0,e=0;e<this.children.length;e++)n+=this.children[e].size;return n};ri.border.get=function(){return 0};lt.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()};lt.prototype.posBeforeChild=function(e){for(var r=0,i=this.posAtStart;r<this.children.length;r++){var o=this.children[r];if(o==e)return i;i+=o.size}};ri.posBefore.get=function(){return this.parent.posBeforeChild(this)};ri.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0};ri.posAfter.get=function(){return this.posBefore+this.size};ri.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border};lt.prototype.localPosFromDOM=function(e,r,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){var o,s;if(e==this.contentDOM)o=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{var a,l;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(l):this.posAtEnd}var c;if(e==this.dom&&this.contentDOM)c=r>Kn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))c=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(var u=e;;u=u.parentNode){if(u==this.dom){c=!1;break}if(u.parentNode.firstChild!=u)break}if(c==null&&r==e.childNodes.length)for(var f=e;;f=f.parentNode){if(f==this.dom){c=!0;break}if(f.parentNode.lastChild!=f)break}}return(c==null?i>0:c)?this.posAtEnd:this.posAtStart};lt.prototype.nearestDesc=function(e,r){for(var i=!0,o=e;o;o=o.parentNode){var s=this.getDesc(o);if(s&&(!r||s.node))if(i&&s.nodeDOM&&!(s.nodeDOM.nodeType==1?s.nodeDOM.contains(e.nodeType==1?e:e.parentNode):s.nodeDOM==e))i=!1;else return s}};lt.prototype.getDesc=function(e){for(var r=e.pmViewDesc,i=r;i;i=i.parent)if(i==this)return r};lt.prototype.posFromDOM=function(e,r,i){for(var o=e;o;o=o.parentNode){var s=this.getDesc(o);if(s)return s.localPosFromDOM(e,r,i)}return-1};lt.prototype.descAt=function(e){for(var r=0,i=0;r<this.children.length;r++){var o=this.children[r],s=i+o.size;if(i==e&&s!=i){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<s)return o.descAt(e-i-o.border);i=s}};lt.prototype.domFromPos=function(e,r){if(!this.contentDOM)return{node:this.dom,offset:0};for(var i=0,o=0,s=0;i<this.children.length;i++){var a=this.children[i],l=s+a.size;if(l>e||a instanceof rC){o=e-s;break}s=l}if(o)return this.children[i].domFromPos(o-this.children[i].border,r);for(var c=void 0;i&&!(c=this.children[i-1]).size&&c instanceof eC&&c.widget.type.side>=0;i--);if(r<=0){for(var u,f=!0;u=i?this.children[i-1]:null,!(!u||u.dom.parentNode==this.contentDOM);i--,f=!1);return u&&r&&f&&!u.border&&!u.domAtom?u.domFromPos(u.size,r):{node:this.contentDOM,offset:u?Kn(u.dom)+1:0}}else{for(var d,h=!0;d=i<this.children.length?this.children[i]:null,!(!d||d.dom.parentNode==this.contentDOM);i++,h=!1);return d&&h&&!d.border&&!d.domAtom?d.domFromPos(0,r):{node:this.contentDOM,offset:d?Kn(d.dom):this.contentDOM.childNodes.length}}};lt.prototype.parseRange=function(e,r,i){if(i===void 0&&(i=0),this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,s=-1,a=i,l=0;;l++){var c=this.children[l],u=a+c.size;if(o==-1&&e<=u){var f=a+c.border;if(e>=f&&r<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,f);e=a;for(var d=l;d>0;d--){var h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){o=Kn(h.dom)+1;break}e-=h.size}o==-1&&(o=0)}if(o>-1&&(u>r||l==this.children.length-1)){r=u;for(var p=l+1;p<this.children.length;p++){var g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){s=Kn(g.dom);break}r+=g.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:r,fromOffset:o,toOffset:s}};lt.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)};lt.prototype.domAfterPos=function(e){var r=this.domFromPos(e,0),i=r.node,o=r.offset;if(i.nodeType!=1||o==i.childNodes.length)throw new RangeError("No node after pos "+e);return i.childNodes[o]};lt.prototype.setSelection=function(e,r,i,o){for(var s=Math.min(e,r),a=Math.max(e,r),l=0,c=0;l<this.children.length;l++){var u=this.children[l],f=c+u.size;if(s>c&&a<f)return u.setSelection(e-c-u.border,r-c-u.border,i,o);c=f}var d=this.domFromPos(e,e?-1:1),h=r==e?d:this.domFromPos(r,r?-1:1),p=i.getSelection(),g=!1;if((he.gecko||he.safari)&&e==r){var v=d.node,w=d.offset;if(v.nodeType==3){if(g=w&&v.nodeValue[w-1]==`
`,g&&w==v.nodeValue.length)for(var b=v,S=void 0;b;b=b.parentNode){if(S=b.nextSibling){S.nodeName=="BR"&&(d=h={node:S.parentNode,offset:Kn(S)+1});break}var E=b.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{var y=v.childNodes[w-1];g=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(he.gecko&&p.focusNode&&p.focusNode!=h.node&&p.focusNode.nodeType==1){var k=p.focusNode.childNodes[p.focusOffset];k&&k.contentEditable=="false"&&(o=!0)}if(!(!(o||g&&he.safari)&&cd(d.node,d.offset,p.anchorNode,p.anchorOffset)&&cd(h.node,h.offset,p.focusNode,p.focusOffset))){var D=!1;if((p.extend||e==r)&&!g){p.collapse(d.node,d.offset);try{e!=r&&p.extend(h.node,h.offset),D=!0}catch($){if(!($ instanceof DOMException))throw $}}if(!D){if(e>r){var T=d;d=h,h=T}var N=document.createRange();N.setEnd(h.node,h.offset),N.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(N)}}};lt.prototype.ignoreMutation=function(e){return!this.contentDOM&&e.type!="selection"};ri.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)};lt.prototype.markDirty=function(e,r){for(var i=0,o=0;o<this.children.length;o++){var s=this.children[o],a=i+s.size;if(i==a?e<=a&&r>=i:e<a&&r>i){var l=i+s.border,c=a-s.border;if(e>=l&&r<=c){this.dirty=e==i||r==a?_c:Qk,e==l&&r==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=yo:s.markDirty(e-l,r-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM?_c:yo}i=a}this.dirty=_c};lt.prototype.markParentsDirty=function(){for(var e=1,r=this.parent;r;r=r.parent,e++){var i=e==1?_c:Qk;r.dirty<i&&(r.dirty=i)}};ri.domAtom.get=function(){return!1};ri.ignoreForCoords.get=function(){return!1};Object.defineProperties(lt.prototype,ri);var bo=[],eC=function(n){function e(i,o,s,a){var l,c=o.type.toDOM;if(typeof c=="function"&&(c=c(s,function(){if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!o.type.spec.raw){if(c.nodeType!=1){var u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable=!1,c.classList.add("ProseMirror-widget")}n.call(this,i,bo,c,null),this.widget=o,l=this}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(o){return this.dirty==Dr&&o.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(o){var s=this.widget.spec.stopEvent;return s?s(o):!1},e.prototype.ignoreMutation=function(o){return o.type!="selection"||this.widget.spec.ignoreSelection},e.prototype.destroy=function(){this.widget.type.destroy(this.dom),n.prototype.destroy.call(this)},r.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,r),e}(lt),tU=function(n){function e(i,o,s,a){n.call(this,i,bo,o,null),this.textDOM=s,this.text=a}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={size:{configurable:!0}};return r.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(o,s){return o!=this.textDOM?this.posAtStart+(s?this.size:0):this.posAtStart+s},e.prototype.domFromPos=function(o){return{node:this.textDOM,offset:o}},e.prototype.ignoreMutation=function(o){return o.type==="characterData"&&o.target.nodeValue==o.oldValue},Object.defineProperties(e.prototype,r),e}(lt),mv=function(n){function e(r,i,o,s){n.call(this,r,[],o,s),this.mark=i}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.create=function(i,o,s,a){var l=a.nodeViews[o.type.name],c=l&&l(o,a,s);return(!c||!c.dom)&&(c=xt.renderSpec(document,o.type.spec.toDOM(o,s))),new e(i,o,c.dom,c.contentDOM||c.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(i){return this.dirty!=yo&&this.mark.eq(i)},e.prototype.markDirty=function(i,o){if(n.prototype.markDirty.call(this,i,o),this.dirty!=Dr){for(var s=this.parent;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Dr}},e.prototype.slice=function(i,o,s){var a=e.create(this.parent,this.mark,!0,s),l=this.children,c=this.size;o<c&&(l=bv(l,o,c,s)),i>0&&(l=bv(l,0,i,s));for(var u=0;u<l.length;u++)l[u].parent=a;return a.children=l,a},e}(lt),wc=function(n){function e(i,o,s,a,l,c,u,f,d){n.call(this,i,o.isLeaf?bo:[],l,c),this.nodeDOM=u,this.node=o,this.outerDeco=s,this.innerDeco=a,c&&this.updateChildren(f,d)}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(o,s,a,l,c,u){var f,d=c.nodeViews[s.type.name],h,p=d&&d(s,c,function(){if(!h)return u;if(h.parent)return h.parent.posBeforeChild(h)},a,l),g=p&&p.dom,v=p&&p.contentDOM;if(s.isText){if(!g)g=document.createTextNode(s.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||(f=xt.renderSpec(document,s.type.spec.toDOM(s)),g=f.dom,v=f.contentDOM);!v&&!s.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable=!1),s.type.spec.draggable&&(g.draggable=!0));var w=g;return g=sC(g,a,s),p?h=new nU(o,s,a,l,g,v,w,p,c,u+1):s.isText?new nC(o,s,a,l,g,w,c):new e(o,s,a,l,g,v,w,c,u+1)},e.prototype.parseRule=function(){var o=this;if(this.node.type.spec.reparseInView)return null;var s={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(s.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?s.contentElement=this.contentDOM:s.getContent=function(){return o.contentDOM?se.empty:o.node.content},s},e.prototype.matchesNode=function(o,s,a){return this.dirty==Dr&&o.eq(this.node)&&yv(s,this.outerDeco)&&a.eq(this.innerDeco)},r.size.get=function(){return this.node.nodeSize},r.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(o,s){var a=this,l=this.node.inlineContent,c=s,u=o.composing&&this.localCompositionInfo(o,s),f=u&&u.pos>-1?u:null,d=u&&u.pos<0,h=new cr(this,f&&f.node);sU(this.node,this.innerDeco,function(p,g,v){p.spec.marks?h.syncToMarks(p.spec.marks,l,o):p.type.side>=0&&!v&&h.syncToMarks(g==a.node.childCount?Ke.none:a.node.child(g).marks,l,o),h.placeWidget(p,o,c)},function(p,g,v,w){h.syncToMarks(p.marks,l,o);var b;h.findNodeMatch(p,g,v,w)||d&&o.state.selection.from>c&&o.state.selection.to<c+p.nodeSize&&(b=h.findIndexWithChild(u.node))>-1&&h.updateNodeAt(p,g,v,b,o)||h.updateNextNode(p,g,v,o,w)||h.addNode(p,g,v,o,c),c+=p.nodeSize}),h.syncToMarks(bo,l,o),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==_c)&&(f&&this.protectLocalComposition(o,f),iC(this.contentDOM,this.children,o),he.ios&&aU(this.dom))},e.prototype.localCompositionInfo=function(o,s){var a=o.state.selection,l=a.from,c=a.to;if(!(!(o.state.selection instanceof Pe)||l<s||c>s+this.node.content.size)){var u=o.root.getSelection(),f=lU(u.focusNode,u.focusOffset);if(!(!f||!this.dom.contains(f.parentNode)))if(this.node.inlineContent){var d=f.nodeValue,h=cU(this.node.content,d,l-s,c-s);return h<0?null:{node:f,pos:h,text:d}}else return{node:f,pos:-1}}},e.prototype.protectLocalComposition=function(o,s){var a=s.node,l=s.pos,c=s.text;if(!this.getDesc(a)){for(var u=a;u.parentNode!=this.contentDOM;u=u.parentNode){for(;u.previousSibling;)u.parentNode.removeChild(u.previousSibling);for(;u.nextSibling;)u.parentNode.removeChild(u.nextSibling);u.pmViewDesc&&(u.pmViewDesc=null)}var f=new tU(this,u,a,c);o.compositionNodes.push(f),this.children=bv(this.children,l,l+c.length,o,f)}},e.prototype.update=function(o,s,a,l){return this.dirty==yo||!o.sameMarkup(this.node)?!1:(this.updateInner(o,s,a,l),!0)},e.prototype.updateInner=function(o,s,a,l){this.updateOuterDeco(s),this.node=o,this.innerDeco=a,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=Dr},e.prototype.updateOuterDeco=function(o){if(!yv(o,this.outerDeco)){var s=this.nodeDOM.nodeType!=1,a=this.dom;this.dom=oC(this.dom,this.nodeDOM,vv(this.outerDeco,this.node,s),vv(o,this.node,s)),this.dom!=a&&(a.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=o}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},r.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,r),e}(lt);function tC(n,e,r,i,o){return sC(i,e,n),new wc(null,n,e,r,i,i,i,o,0)}var nC=function(n){function e(i,o,s,a,l,c,u){n.call(this,i,o,s,a,l,null,c,u)}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var o=this.nodeDOM.parentNode;o&&o!=this.dom&&!o.pmIsDeco;)o=o.parentNode;return{skip:o||!0}},e.prototype.update=function(o,s,a,l){return this.dirty==yo||this.dirty!=Dr&&!this.inParent()||!o.sameMarkup(this.node)?!1:(this.updateOuterDeco(s),(this.dirty!=Dr||o.text!=this.node.text)&&o.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=o.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=o,this.dirty=Dr,!0)},e.prototype.inParent=function(){for(var o=this.parent.contentDOM,s=this.nodeDOM;s;s=s.parentNode)if(s==o)return!0;return!1},e.prototype.domFromPos=function(o){return{node:this.nodeDOM,offset:o}},e.prototype.localPosFromDOM=function(o,s,a){return o==this.nodeDOM?this.posAtStart+Math.min(s,this.node.text.length):n.prototype.localPosFromDOM.call(this,o,s,a)},e.prototype.ignoreMutation=function(o){return o.type!="characterData"&&o.type!="selection"},e.prototype.slice=function(o,s,a){var l=this.node.cut(o,s),c=document.createTextNode(l.text);return new e(this.parent,l,this.outerDeco,this.innerDeco,c,c,a)},e.prototype.markDirty=function(o,s){n.prototype.markDirty.call(this,o,s),this.dom!=this.nodeDOM&&(o==0||s==this.nodeDOM.nodeValue.length)&&(this.dirty=yo)},r.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,r),e}(wc),rC=function(n){function e(){n.apply(this,arguments)}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(o){return this.dirty==Dr&&this.dom.nodeName==o},r.domAtom.get=function(){return!0},r.ignoreForCoords.get=function(){return this.dom.nodeName=="IMG"},Object.defineProperties(e.prototype,r),e}(lt),nU=function(n){function e(r,i,o,s,a,l,c,u,f,d){n.call(this,r,i,o,s,a,l,c,f,d),this.spec=u}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.update=function(i,o,s,a){if(this.dirty==yo)return!1;if(this.spec.update){var l=this.spec.update(i,o,s);return l&&this.updateInner(i,o,s,a),l}else return!this.contentDOM&&!i.isLeaf?!1:n.prototype.update.call(this,i,o,s,a)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():n.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():n.prototype.deselectNode.call(this)},e.prototype.setSelection=function(i,o,s,a){this.spec.setSelection?this.spec.setSelection(i,o,s):n.prototype.setSelection.call(this,i,o,s,a)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),n.prototype.destroy.call(this)},e.prototype.stopEvent=function(i){return this.spec.stopEvent?this.spec.stopEvent(i):!1},e.prototype.ignoreMutation=function(i){return this.spec.ignoreMutation?this.spec.ignoreMutation(i):n.prototype.ignoreMutation.call(this,i)},e}(wc);function iC(n,e,r){for(var i=n.firstChild,o=!1,s=0;s<e.length;s++){var a=e[s],l=a.dom;if(l.parentNode==n){for(;l!=i;)i=aC(i),o=!0;i=i.nextSibling}else o=!0,n.insertBefore(l,i);if(a instanceof mv){var c=i?i.previousSibling:n.lastChild;iC(a.contentDOM,a.children,r),i=c?c.nextSibling:n.firstChild}}for(;i;)i=aC(i),o=!0;o&&r.trackWrites==n&&(r.trackWrites=null)}function Ec(n){n&&(this.nodeName=n)}Ec.prototype=Object.create(null);var ws=[new Ec];function vv(n,e,r){if(n.length==0)return ws;for(var i=r?ws[0]:new Ec,o=[i],s=0;s<n.length;s++){var a=n[s].type.attrs;if(!!a){a.nodeName&&o.push(i=new Ec(a.nodeName));for(var l in a){var c=a[l];c!=null&&(r&&o.length==1&&o.push(i=new Ec(e.isInline?"span":"div")),l=="class"?i.class=(i.class?i.class+" ":"")+c:l=="style"?i.style=(i.style?i.style+";":"")+c:l!="nodeName"&&(i[l]=c))}}}return o}function oC(n,e,r,i){if(r==ws&&i==ws)return e;for(var o=e,s=0;s<i.length;s++){var a=i[s],l=r[s];if(s){var c=void 0;l&&l.nodeName==a.nodeName&&o!=n&&(c=o.parentNode)&&c.tagName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(o),l=ws[0]),o=c}rU(o,l||ws[0],a)}return o}function rU(n,e,r){for(var i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in r)&&n.removeAttribute(i);for(var o in r)o!="class"&&o!="style"&&o!="nodeName"&&r[o]!=e[o]&&n.setAttribute(o,r[o]);if(e.class!=r.class){for(var s=e.class?e.class.split(" ").filter(Boolean):bo,a=r.class?r.class.split(" ").filter(Boolean):bo,l=0;l<s.length;l++)a.indexOf(s[l])==-1&&n.classList.remove(s[l]);for(var c=0;c<a.length;c++)s.indexOf(a[c])==-1&&n.classList.add(a[c]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=r.style){if(e.style)for(var u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,f;f=u.exec(e.style);)n.style.removeProperty(f[1]);r.style&&(n.style.cssText+=r.style)}}function sC(n,e,r){return oC(n,n,ws,vv(e,r,n.nodeType!=1))}function yv(n,e){if(n.length!=e.length)return!1;for(var r=0;r<n.length;r++)if(!n[r].type.eq(e[r].type))return!1;return!0}function aC(n){var e=n.nextSibling;return n.parentNode.removeChild(n),e}var cr=function(e,r){this.top=e,this.lock=r,this.index=0,this.stack=[],this.changed=!1,this.preMatch=iU(e.node.content,e.children)};cr.prototype.destroyBetween=function(e,r){if(e!=r){for(var i=e;i<r;i++)this.top.children[i].destroy();this.top.children.splice(e,r-e),this.changed=!0}};cr.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)};cr.prototype.syncToMarks=function(e,r,i){for(var o=0,s=this.stack.length>>1,a=Math.min(s,e.length);o<a&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=Dr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);for(var l=-1,c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(e[s])){l=c;break}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{var u=mv.create(this.top,e[s],r,i);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}};cr.prototype.findNodeMatch=function(e,r,i,o){var s=this.top.children,a=-1;if(o>=this.preMatch.index){for(var l=this.index;l<s.length;l++)if(this.preMatch.matched.get(s[l])==o){s[l].matchesNode(e,r,i)&&(a=l);break}}else for(var c=this.index,u=Math.min(s.length,c+1);c<u;c++){var f=s[c];if(f.matchesNode(e,r,i)&&!this.preMatch.matched.has(f)){a=c;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)};cr.prototype.updateNodeAt=function(e,r,i,o,s){var a=this.top.children[o];return a.update(e,r,i,s)?(this.destroyBetween(this.index,o),this.index=o+1,!0):!1};cr.prototype.findIndexWithChild=function(e){for(;;){var r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){var i=e.pmViewDesc;if(i){for(var o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==i)return o}return-1}e=r}};cr.prototype.updateNextNode=function(e,r,i,o,s){for(var a=this.index;a<this.top.children.length;a++){var l=this.top.children[a];if(l instanceof wc){var c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;var u=l.dom,f=this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=yo&&yv(r,l.outerDeco));if(!f&&l.update(e,r,i,o))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1};cr.prototype.addNode=function(e,r,i,o,s){this.top.children.splice(this.index++,0,wc.create(this.top,e,r,i,o,s)),this.changed=!0};cr.prototype.placeWidget=function(e,r,i){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{var s=new eC(this.top,e,r,i);this.top.children.splice(this.index++,0,s),this.changed=!0}};cr.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof mv;)e=e.children[e.children.length-1];(!e||!(e instanceof nC)||/\n$/.test(e.node.text))&&((he.safari||he.chrome)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG"),this.addHackNode("BR"))};cr.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator"),e=="BR"&&(r.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new rC(this.top,bo,r,null)),this.changed=!0}};function iU(n,e){for(var r=n.childCount,i=e.length,o=new Map;r>0&&i>0;i--){var s=e[i-1],a=s.node;if(!!a){if(a!=n.child(r-1))break;--r,o.set(s,r)}}return{index:r,matched:o}}function oU(n,e){return n.type.side-e.type.side}function sU(n,e,r,i){var o=e.locals(n),s=0;if(o.length==0){for(var a=0;a<n.childCount;a++){var l=n.child(a);i(l,o,e.forChild(s,l),a),s+=l.nodeSize}return}for(var c=0,u=[],f=null,d=0;;){if(c<o.length&&o[c].to==s){for(var h=o[c++],p=void 0;c<o.length&&o[c].to==s;)(p||(p=[h])).push(o[c++]);if(p){p.sort(oU);for(var g=0;g<p.length;g++)r(p[g],d,!!f)}else r(h,d,!!f)}var v=void 0,w=void 0;if(f)w=-1,v=f,f=null;else if(d<n.childCount)w=d,v=n.child(d++);else break;for(var b=0;b<u.length;b++)u[b].to<=s&&u.splice(b--,1);for(;c<o.length&&o[c].from<=s&&o[c].to>s;)u.push(o[c++]);var S=s+v.nodeSize;if(v.isText){var E=S;c<o.length&&o[c].from<E&&(E=o[c].from);for(var y=0;y<u.length;y++)u[y].to<E&&(E=u[y].to);E<S&&(f=v.cut(E-s),v=v.cut(0,E-s),S=E,w=-1)}var k=u.length?v.isInline&&!v.isLeaf?u.filter(function(D){return!D.inline}):u.slice():bo;i(v,k,e.forChild(s,v),w),s=S}}function aU(n){if(n.nodeName=="UL"||n.nodeName=="OL"){var e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function lU(n,e){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0){if(n.childNodes.length>e&&n.childNodes[e].nodeType==3)return n.childNodes[e];n=n.childNodes[e-1],e=ni(n)}else if(n.nodeType==1&&e<n.childNodes.length)n=n.childNodes[e],e=0;else return null}}function cU(n,e,r,i){for(var o=0,s=0;o<n.childCount&&s<=i;){var a=n.child(o++),l=s;if(s+=a.nodeSize,!!a.isText){for(var c=a.text;o<n.childCount;){var u=n.child(o++);if(s+=u.nodeSize,!u.isText)break;c+=u.text}if(s>=r){var f=c.lastIndexOf(e,i-l);if(f>=0&&f+e.length+l>=r)return l+f}}}return-1}function bv(n,e,r,i,o){for(var s=[],a=0,l=0;a<n.length;a++){var c=n[a],u=l,f=l+=c.size;u>=r||f<=e?s.push(c):(u<e&&s.push(c.slice(0,e-u,i)),o&&(s.push(o),o=null),f>r&&s.push(c.slice(r-u,c.size,i)))}return s}function lC(n,e){var r=n.root.getSelection(),i=n.state.doc;if(!r.focusNode)return null;var o=n.docView.nearestDesc(r.focusNode),s=o&&o.size==0,a=n.docView.posFromDOM(r.focusNode,r.focusOffset);if(a<0)return null;var l=i.resolve(a),c,u;if(hv(r)){for(c=l;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&Ae.isSelectable(o.node)&&o.parent&&!(o.node.isInline&&Fz(r.focusNode,r.focusOffset,o.dom))){var f=o.posBefore;u=new Ae(a==f?l:i.resolve(f))}}else{var d=n.docView.posFromDOM(r.anchorNode,r.anchorOffset);if(d<0)return null;c=i.resolve(d)}if(!u){var h=e=="pointer"||n.state.selection.head<l.pos&&!s?1:-1;u=wv(n,c,l,h)}return u}function cC(n){return n.editable?n.hasFocus():Ev(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function _o(n,e){var r=n.state.selection;if(hC(n,r),!!cC(n)){if(!e&&n.mouseDown&&n.mouseDown.allowDefault){n.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}if(n.domObserver.disconnectSelection(),n.cursorWrapper)fU(n);else{var i=r.anchor,o=r.head,s,a;uC&&!(r instanceof Pe)&&(r.$from.parent.inlineContent||(s=fC(n,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=fC(n,r.to))),n.docView.setSelection(i,o,n.root,e),uC&&(s&&dC(s),a&&dC(a)),r.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&uU(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}var uC=he.safari||he.chrome&&he.chrome_version<63;function fC(n,e){var r=n.docView.domFromPos(e,0),i=r.node,o=r.offset,s=o<i.childNodes.length?i.childNodes[o]:null,a=o?i.childNodes[o-1]:null;if(he.safari&&s&&s.contentEditable=="false")return _v(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return _v(s);if(a)return _v(a)}}function _v(n){return n.contentEditable="true",he.safari&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function dC(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function uU(n){var e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.hideSelectionGuard);var r=n.root.getSelection(),i=r.anchorNode,o=r.anchorOffset;e.addEventListener("selectionchange",n.hideSelectionGuard=function(){(r.anchorNode!=i||r.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.hideSelectionGuard),setTimeout(function(){(!cC(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function fU(n){var e=n.root.getSelection(),r=document.createRange(),i=n.cursorWrapper.dom,o=i.nodeName=="IMG";o?r.setEnd(i.parentNode,Kn(i)+1):r.setEnd(i,0),r.collapse(!1),e.removeAllRanges(),e.addRange(r),!o&&!n.state.selection.visible&&he.ie&&he.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}function hC(n,e){if(e instanceof Ae){var r=n.docView.descAt(e.from);r!=n.lastSelectedViewDesc&&(pC(n),r&&r.selectNode(),n.lastSelectedViewDesc=r)}else pC(n)}function pC(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=null)}function wv(n,e,r,i){return n.someProp("createSelectionBetween",function(o){return o(n,e,r)})||Pe.between(e,r,i)}function dU(n){return n.editable&&n.root.activeElement!=n.dom?!1:Ev(n)}function Ev(n){var e=n.root.getSelection();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch(r){return!1}}function hU(n){var e=n.docView.domFromPos(n.state.selection.anchor,0),r=n.root.getSelection();return cd(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Sv(n,e){var r=n.selection,i=r.$anchor,o=r.$head,s=e>0?i.max(o):i.min(o),a=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return a&&Be.findFrom(a,e)}function Es(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function gC(n,e,r){var i=n.state.selection;if(i instanceof Pe){if(!i.empty||r.indexOf("s")>-1)return!1;if(n.endOfTextblock(e>0?"right":"left")){var o=Sv(n.state,e);return o&&o instanceof Ae?Es(n,o):!1}else if(!(he.mac&&r.indexOf("m")>-1)){var s=i.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!a||a.isText)return!1;var c=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(l=n.docView.descAt(c))&&!l.contentDOM?Ae.isSelectable(a)?Es(n,new Ae(e<0?n.state.doc.resolve(s.pos-a.nodeSize):s)):he.webkit?Es(n,new Pe(n.state.doc.resolve(e<0?c:c+a.nodeSize))):!1:!1}}else{if(i instanceof Ae&&i.node.isInline)return Es(n,new Pe(e>0?i.$to:i.$from));var u=Sv(n.state,e);return u?Es(n,u):!1}}function ud(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Sc(n){var e=n.pmViewDesc;return e&&e.size==0&&(n.nextSibling||n.nodeName!="BR")}function kv(n){var e=n.root.getSelection(),r=e.focusNode,i=e.focusOffset;if(!!r){var o,s,a=!1;for(he.gecko&&r.nodeType==1&&i<ud(r)&&Sc(r.childNodes[i])&&(a=!0);;)if(i>0){if(r.nodeType!=1)break;var l=r.childNodes[i-1];if(Sc(l))o=r,s=--i;else if(l.nodeType==3)r=l,i=r.nodeValue.length;else break}else{if(mC(r))break;for(var c=r.previousSibling;c&&Sc(c);)o=r.parentNode,s=Kn(c),c=c.previousSibling;if(c)r=c,i=ud(r);else{if(r=r.parentNode,r==n.dom)break;i=0}}a?xv(n,e,r,i):o&&xv(n,e,o,s)}}function Cv(n){var e=n.root.getSelection(),r=e.focusNode,i=e.focusOffset;if(!!r){for(var o=ud(r),s,a;;)if(i<o){if(r.nodeType!=1)break;var l=r.childNodes[i];if(Sc(l))s=r,a=++i;else break}else{if(mC(r))break;for(var c=r.nextSibling;c&&Sc(c);)s=c.parentNode,a=Kn(c)+1,c=c.nextSibling;if(c)r=c,i=0,o=ud(r);else{if(r=r.parentNode,r==n.dom)break;i=o=0}}s&&xv(n,e,s,a)}}function mC(n){var e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function xv(n,e,r,i){if(hv(e)){var o=document.createRange();o.setEnd(r,i),o.setStart(r,i),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(r,i);n.domObserver.setCurSelection();var s=n.state;setTimeout(function(){n.state==s&&_o(n)},50)}function vC(n,e,r){var i=n.state.selection;if(i instanceof Pe&&!i.empty||r.indexOf("s")>-1||he.mac&&r.indexOf("m")>-1)return!1;var o=i.$from,s=i.$to;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){var a=Sv(n.state,e);if(a&&a instanceof Ae)return Es(n,a)}if(!o.parent.inlineContent){var l=e<0?o:s,c=i instanceof ti?Be.near(l,e):Be.findFrom(l,e);return c?Es(n,c):!1}return!1}function yC(n,e){if(!(n.state.selection instanceof Pe))return!0;var r=n.state.selection,i=r.$head,o=r.$anchor,s=r.empty;if(!i.sameParent(o))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!i.textOffset&&(e<0?i.nodeBefore:i.nodeAfter);if(a&&!a.isText){var l=n.state.tr;return e<0?l.delete(i.pos-a.nodeSize,i.pos):l.delete(i.pos,i.pos+a.nodeSize),n.dispatch(l),!0}return!1}function bC(n,e,r){n.domObserver.stop(),e.contentEditable=r,n.domObserver.start()}function pU(n){if(!(!he.safari||n.state.selection.$head.parentOffset>0)){var e=n.root.getSelection(),r=e.focusNode,i=e.focusOffset;if(r&&r.nodeType==1&&i==0&&r.firstChild&&r.firstChild.contentEditable=="false"){var o=r.firstChild;bC(n,o,!0),setTimeout(function(){return bC(n,o,!1)},20)}}}function gU(n){var e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function mU(n,e){var r=e.keyCode,i=gU(e);return r==8||he.mac&&r==72&&i=="c"?yC(n,-1)||kv(n):r==46||he.mac&&r==68&&i=="c"?yC(n,1)||Cv(n):r==13||r==27?!0:r==37?gC(n,-1,i)||kv(n):r==39?gC(n,1,i)||Cv(n):r==38?vC(n,-1,i)||kv(n):r==40?pU(n)||vC(n,1,i)||Cv(n):i==(he.mac?"m":"c")&&(r==66||r==73||r==89||r==90)}function vU(n,e,r){var i=n.docView.parseRange(e,r),o=i.node,s=i.fromOffset,a=i.toOffset,l=i.from,c=i.to,u=n.root.getSelection(),f=null,d=u.anchorNode;if(d&&n.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:u.anchorOffset}],hv(u)||f.push({node:u.focusNode,offset:u.focusOffset})),he.chrome&&n.lastKeyCode===8)for(var h=a;h>s;h--){var p=o.childNodes[h-1],g=p.pmViewDesc;if(p.nodeName=="BR"&&!g){a=h;break}if(!g||g.size)break}var v=n.state.doc,w=n.someProp("domParser")||Wn.fromSchema(n.state.schema),b=v.resolve(l),S=null,E=w.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:a,preserveWhitespace:b.parent.type.spec.code?"full":!0,editableContent:!0,findPositions:f,ruleFromNode:yU,context:b});if(f&&f[0].pos!=null){var y=f[0].pos,k=f[1]&&f[1].pos;k==null&&(k=y),S={anchor:y+l,head:k+l}}return{doc:E,sel:S,from:l,to:c}}function yU(n){var e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(he.safari&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){var r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(n.parentNode.lastChild==n||he.safari&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0}}function bU(n,e,r,i,o){if(e<0){var s=n.lastSelectionTime>Date.now()-50?n.lastSelectionOrigin:null,a=lC(n,s);if(a&&!n.state.selection.eq(a)){var l=n.state.tr.setSelection(a);s=="pointer"?l.setMeta("pointer",!0):s=="key"&&l.scrollIntoView(),n.dispatch(l)}return}var c=n.state.doc.resolve(e),u=c.sharedDepth(r);e=c.before(u+1),r=n.state.doc.resolve(r).after(u+1);var f=n.state.selection,d=vU(n,e,r);if(he.chrome&&n.cursorWrapper&&d.sel&&d.sel.anchor==n.cursorWrapper.deco.from){var h=n.cursorWrapper.deco.type.toDOM.nextSibling,p=h&&h.nodeValue?h.nodeValue.length:1;d.sel={anchor:d.sel.anchor+p,head:d.sel.anchor+p}}var g=n.state.doc,v=g.slice(d.from,d.to),w,b;n.lastKeyCode===8&&Date.now()-100<n.lastKeyCodeTime?(w=n.state.selection.to,b="end"):(w=n.state.selection.from,b="start"),n.lastKeyCode=null;var S=EU(v.content,d.doc.content,d.from,w,b);if(!S)if(i&&f instanceof Pe&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))S={start:f.from,endA:f.to,endB:f.to};else if((he.ios&&n.lastIOSEnter>Date.now()-225||he.android)&&o.some(function(B){return B.nodeName=="DIV"||B.nodeName=="P"})&&n.someProp("handleKeyDown",function(B){return B(n,Ia(13,"Enter"))})){n.lastIOSEnter=0;return}else{if(d.sel){var E=_C(n,n.state.doc,d.sel);E&&!E.eq(n.state.selection)&&n.dispatch(n.state.tr.setSelection(E))}return}n.domChangeCount++,n.state.selection.from<n.state.selection.to&&S.start==S.endB&&n.state.selection instanceof Pe&&(S.start>n.state.selection.from&&S.start<=n.state.selection.from+2?S.start=n.state.selection.from:S.endA<n.state.selection.to&&S.endA>=n.state.selection.to-2&&(S.endB+=n.state.selection.to-S.endA,S.endA=n.state.selection.to)),he.ie&&he.ie_version<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>d.from&&d.doc.textBetween(S.start-d.from-1,S.start-d.from+1)==" \xA0"&&(S.start--,S.endA--,S.endB--);var y=d.doc.resolveNoCache(S.start-d.from),k=d.doc.resolveNoCache(S.endB-d.from),D=y.sameParent(k)&&y.parent.inlineContent,T;if((he.ios&&n.lastIOSEnter>Date.now()-225&&(!D||o.some(function(B){return B.nodeName=="DIV"||B.nodeName=="P"}))||!D&&y.pos<d.doc.content.size&&(T=Be.findFrom(d.doc.resolve(y.pos+1),1,!0))&&T.head==k.pos)&&n.someProp("handleKeyDown",function(B){return B(n,Ia(13,"Enter"))})){n.lastIOSEnter=0;return}if(n.state.selection.anchor>S.start&&wU(g,S.start,S.endA,y,k)&&n.someProp("handleKeyDown",function(B){return B(n,Ia(8,"Backspace"))})){he.android&&he.chrome&&n.domObserver.suppressSelectionUpdates();return}he.chrome&&he.android&&S.toB==S.from&&(n.lastAndroidDelete=Date.now()),he.android&&!D&&y.start()!=k.start()&&k.parentOffset==0&&y.depth==k.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==S.endA&&(S.endB-=2,k=d.doc.resolveNoCache(S.endB-d.from),setTimeout(function(){n.someProp("handleKeyDown",function(B){return B(n,Ia(13,"Enter"))})},20));var N=S.start,$=S.endA,I,L,j,K;if(D){if(y.pos==k.pos)he.ie&&he.ie_version<=11&&y.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(function(){return _o(n)},20)),I=n.state.tr.delete(N,$),L=g.resolve(S.start).marksAcross(g.resolve(S.endA));else if(S.endA==S.endB&&(K=g.resolve(S.start))&&(j=_U(y.parent.content.cut(y.parentOffset,k.parentOffset),K.parent.content.cut(K.parentOffset,S.endA-K.start()))))I=n.state.tr,j.type=="add"?I.addMark(N,$,j.mark):I.removeMark(N,$,j.mark);else if(y.parent.child(y.index()).isText&&y.index()==k.index()-(k.textOffset?0:1)){var V=y.parent.textBetween(y.parentOffset,k.parentOffset);if(n.someProp("handleTextInput",function(B){return B(n,N,$,V)}))return;I=n.state.tr.insertText(V,N,$)}}if(I||(I=n.state.tr.replace(N,$,d.doc.slice(S.start-d.from,S.endB-d.from))),d.sel){var G=_C(n,I.doc,d.sel);G&&!(he.chrome&&he.android&&n.composing&&G.empty&&(S.start!=S.endB||n.lastAndroidDelete<Date.now()-100)&&(G.head==N||G.head==I.mapping.map($)-1)||he.ie&&G.empty&&G.head==N)&&I.setSelection(G)}L&&I.ensureMarks(L),n.dispatch(I.scrollIntoView())}function _C(n,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:wv(n,e.resolve(r.anchor),e.resolve(r.head))}function _U(n,e){for(var r=n.firstChild.marks,i=e.firstChild.marks,o=r,s=i,a,l,c,u=0;u<i.length;u++)o=i[u].removeFromSet(o);for(var f=0;f<r.length;f++)s=r[f].removeFromSet(s);if(o.length==1&&s.length==0)l=o[0],a="add",c=function(p){return p.mark(l.addToSet(p.marks))};else if(o.length==0&&s.length==1)l=s[0],a="remove",c=function(p){return p.mark(l.removeFromSet(p.marks))};else return null;for(var d=[],h=0;h<e.childCount;h++)d.push(c(e.child(h)));if(se.from(d).eq(n))return{mark:l,type:a}}function wU(n,e,r,i,o){if(!i.parent.isTextblock||r-e<=o.pos-i.pos||Av(i,!0,!1)<o.pos)return!1;var s=n.resolve(e);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;var a=n.resolve(Av(s,!0,!0));return!a.parent.isTextblock||a.pos>r||Av(a,!0,!1)<r?!1:i.parent.content.cut(i.parentOffset).eq(a.parent.content)}function Av(n,e,r){for(var i=n.depth,o=e?n.end():n.pos;i>0&&(e||n.indexAfter(i)==n.node(i).childCount);)i--,o++,e=!1;if(r)for(var s=n.node(i).maybeChild(n.indexAfter(i));s&&!s.isLeaf;)s=s.firstChild,o++;return o}function EU(n,e,r,i,o){var s=n.findDiffStart(e,r);if(s==null)return null;var a=n.findDiffEnd(e,r+n.size,r+e.size),l=a.a,c=a.b;if(o=="end"){var u=Math.max(0,s-Math.min(l,c));i-=l+u-s}if(l<s&&n.size<e.size){var f=i<=s&&i>=l?s-i:0;s-=f,c=s+(c-l),l=s}else if(c<s){var d=i<=s&&i>=c?s-i:0;s-=d,l=s+(l-c),c=s}return{start:s,endA:l,endB:c}}function wC(n,e){for(var r=[],i=e.content,o=e.openStart,s=e.openEnd;o>1&&s>1&&i.childCount==1&&i.firstChild.childCount==1;){o--,s--;var a=i.firstChild;r.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),i=a.content}var l=n.someProp("clipboardSerializer")||xt.fromSchema(n.state.schema),c=DC(),u=c.createElement("div");u.appendChild(l.serializeFragment(i,{document:c}));for(var f=u.firstChild,d;f&&f.nodeType==1&&(d=AC[f.nodeName.toLowerCase()]);){for(var h=d.length-1;h>=0;h--){for(var p=c.createElement(d[h]);u.firstChild;)p.appendChild(u.firstChild);u.appendChild(p),d[h]!="tbody"&&(o++,s++)}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",o+" "+s+" "+JSON.stringify(r));var g=n.someProp("clipboardTextSerializer",function(v){return v(e)})||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:g}}function EC(n,e,r,i,o){var s,a=o.parent.type.spec.code,l;if(!r&&!e)return null;var c=e&&(i||a||!r);if(c){if(n.someProp("transformPastedText",function(k){e=k(e,a||i)}),a)return e?new _e(se.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):_e.empty;var u=n.someProp("clipboardTextParser",function(k){return k(e,o,i)});if(u)l=u;else{var f=o.marks(),d=n.state,h=d.schema,p=xt.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(function(k){var D=s.appendChild(document.createElement("p"));k&&D.appendChild(p.serializeNode(h.text(k,f)))})}}else n.someProp("transformPastedHTML",function(k){r=k(r)}),s=kU(r),he.webkit&&CU(s);var g=s&&s.querySelector("[data-pm-slice]"),v=g&&/^(\d+) (\d+) (.*)/.exec(g.getAttribute("data-pm-slice"));if(!l){var w=n.someProp("clipboardParser")||n.someProp("domParser")||Wn.fromSchema(n.state.schema);l=w.parseSlice(s,{preserveWhitespace:!!(c||v),context:o})}if(v)l=xU(xC(l,+v[1],+v[2]),v[3]);else if(l=_e.maxOpen(SU(l.content,o),!0),l.openStart||l.openEnd){for(var b=0,S=0,E=l.content.firstChild;b<l.openStart&&!E.type.spec.isolating;b++,E=E.firstChild);for(var y=l.content.lastChild;S<l.openEnd&&!y.type.spec.isolating;S++,y=y.lastChild);l=xC(l,b,S)}return n.someProp("transformPasted",function(k){l=k(l)}),l}function SU(n,e){if(n.childCount<2)return n;for(var r=function(s){var a=e.node(s),l=a.contentMatchAt(e.index(s)),c=void 0,u=[];if(n.forEach(function(f){if(!!u){var d=l.findWrapping(f.type),h;if(!d)return u=null;if(h=u.length&&c.length&&kC(d,c,f,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=CC(u[u.length-1],c.length));var p=SC(f,d);u.push(p),l=l.matchType(p.type,p.attrs),c=d}}}),u)return{v:se.from(u)}},i=e.depth;i>=0;i--){var o=r(i);if(o)return o.v}return n}function SC(n,e,r){r===void 0&&(r=0);for(var i=e.length-1;i>=r;i--)n=e[i].create(null,se.from(n));return n}function kC(n,e,r,i,o){if(o<n.length&&o<e.length&&n[o]==e[o]){var s=kC(n,e,r,i.lastChild,o+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));var a=i.contentMatchAt(i.childCount);if(a.matchType(o==n.length-1?r.type:n[o+1]))return i.copy(i.content.append(se.from(SC(r,n,o+1))))}}function CC(n,e){if(e==0)return n;var r=n.content.replaceChild(n.childCount-1,CC(n.lastChild,e-1)),i=n.contentMatchAt(n.childCount).fillBefore(se.empty,!0);return n.copy(r.append(i))}function Ov(n,e,r,i,o,s){var a=e<0?n.firstChild:n.lastChild,l=a.content;return o<i-1&&(l=Ov(l,e,r,i,o+1,s)),o>=r&&(l=e<0?a.contentMatchAt(0).fillBefore(l,n.childCount>1||s<=o).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(se.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(l))}function xC(n,e,r){return e<n.openStart&&(n=new _e(Ov(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),r<n.openEnd&&(n=new _e(Ov(n.content,1,r,n.openEnd,0,0),n.openStart,r)),n}var AC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},OC=null;function DC(){return OC||(OC=document.implementation.createHTMLDocument("title"))}function kU(n){var e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));var r=DC().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),o;if((o=i&&AC[i[1].toLowerCase()])&&(n=o.map(function(a){return"<"+a+">"}).join("")+n+o.map(function(a){return"</"+a+">"}).reverse().join("")),r.innerHTML=n,o)for(var s=0;s<o.length;s++)r=r.querySelector(o[s])||r;return r}function CU(n){for(var e=n.querySelectorAll(he.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),r=0;r<e.length;r++){var i=e[r];i.childNodes.length==1&&i.textContent=="\xA0"&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function xU(n,e){if(!n.size)return n;var r=n.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch(u){return n}for(var o=n.content,s=n.openStart,a=n.openEnd,l=i.length-2;l>=0;l-=2){var c=r.nodes[i[l]];if(!c||c.hasRequiredAttrs())break;o=se.from(c.create(i[l+1],o)),s++,a++}return new _e(o,s,a)}var AU={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Dv=he.ie&&he.ie_version<=11,Tv=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Tv.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset};Tv.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Gn=function(e,r){var i=this;this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(o){for(var s=0;s<o.length;s++)i.queue.push(o[s]);he.ie&&he.ie_version<=11&&o.some(function(a){return a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length})?i.flushSoon():i.flush()}),this.currentSelection=new Tv,Dv&&(this.onCharData=function(o){i.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),i.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Gn.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){e.flushingSoon=-1,e.flush()},20))};Gn.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())};Gn.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,AU),Dv&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()};Gn.prototype.stop=function(){var e=this;if(this.observer){var r=this.observer.takeRecords();if(r.length){for(var i=0;i<r.length;i++)this.queue.push(r[i]);window.setTimeout(function(){return e.flush()},20)}this.observer.disconnect()}Dv&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()};Gn.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)};Gn.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)};Gn.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return e.suppressingSelectionUpdates=!1},50)};Gn.prototype.onSelectionChange=function(){if(!!dU(this.view)){if(this.suppressingSelectionUpdates)return _o(this.view);if(he.ie&&he.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&cd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}};Gn.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())};Gn.prototype.ignoreSelectionChange=function(e){if(e.rangeCount==0)return!0;var r=e.getRangeAt(0).commonAncestorContainer,i=this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0};Gn.prototype.flush=function(){if(!(!this.view.docView||this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var r=this.view.root.getSelection(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ev(this.view)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(this.view.editable)for(var c=0;c<e.length;c++){var u=this.registerMutation(e[c],l);u&&(o=o<0?u.from:Math.min(u.from,o),s=s<0?u.to:Math.max(u.to,s),u.typeOver&&(a=!0))}if(he.gecko&&l.length>1){var f=l.filter(function(p){return p.nodeName=="BR"});if(f.length==2){var d=f[0],h=f[1];d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}}(o>-1||i)&&(o>-1&&(this.view.docView.markDirty(o,s),OU(this.view)),this.handleDOMChange(o,s,a,l),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(r)||_o(this.view),this.currentSelection.set(r))}};Gn.prototype.registerMutation=function(e,r){if(r.indexOf(e.target)>-1)return null;var i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(var o=0;o<e.addedNodes.length;o++)r.push(e.addedNodes[o]);if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};var s=e.previousSibling,a=e.nextSibling;if(he.ie&&he.ie_version<=11&&e.addedNodes.length)for(var l=0;l<e.addedNodes.length;l++){var c=e.addedNodes[l],u=c.previousSibling,f=c.nextSibling;(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(s=u),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(a=f)}var d=s&&s.parentNode==e.target?Kn(s)+1:0,h=i.localPosFromDOM(e.target,d,-1),p=a&&a.parentNode==e.target?Kn(a):e.target.childNodes.length,g=i.localPosFromDOM(e.target,p,1);return{from:h,to:g}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var TC=!1;function OU(n){TC||(TC=!0,getComputedStyle(n.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var Tn={},wn={};function DU(n){n.shiftKey=!1,n.mouseDown=null,n.lastKeyCode=null,n.lastKeyCodeTime=0,n.lastClick={time:0,x:0,y:0,type:""},n.lastSelectionOrigin=null,n.lastSelectionTime=0,n.lastIOSEnter=0,n.lastIOSEnterFallbackTimeout=null,n.lastAndroidDelete=0,n.composing=!1,n.composingTimeout=null,n.compositionNodes=[],n.compositionEndedAt=-2e8,n.domObserver=new Gn(n,function(i,o,s,a){return bU(n,i,o,s,a)}),n.domObserver.start(),n.domChangeCount=0,n.eventHandlers=Object.create(null);var e=function(i){var o=Tn[i];n.dom.addEventListener(i,n.eventHandlers[i]=function(s){MU(n,s)&&!Nv(n,s)&&(n.editable||!(s.type in wn))&&o(n,s)})};for(var r in Tn)e(r);he.safari&&n.dom.addEventListener("input",function(){return null}),Mv(n)}function Ss(n,e){n.lastSelectionOrigin=e,n.lastSelectionTime=Date.now()}function TU(n){n.domObserver.stop();for(var e in n.eventHandlers)n.dom.removeEventListener(e,n.eventHandlers[e]);clearTimeout(n.composingTimeout),clearTimeout(n.lastIOSEnterFallbackTimeout)}function Mv(n){n.someProp("handleDOMEvents",function(e){for(var r in e)n.eventHandlers[r]||n.dom.addEventListener(r,n.eventHandlers[r]=function(i){return Nv(n,i)})})}function Nv(n,e){return n.someProp("handleDOMEvents",function(r){var i=r[e.type];return i?i(n,e)||e.defaultPrevented:!1})}function MU(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var r=e.target;r!=n.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function NU(n,e){!Nv(n,e)&&Tn[e.type]&&(n.editable||!(e.type in wn))&&Tn[e.type](n,e)}wn.keydown=function(n,e){if(n.shiftKey=e.keyCode==16||e.shiftKey,!NC(n,e))if(e.keyCode!=229&&n.domObserver.forceFlush(),n.lastKeyCode=e.keyCode,n.lastKeyCodeTime=Date.now(),he.ios&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){var r=Date.now();n.lastIOSEnter=r,n.lastIOSEnterFallbackTimeout=setTimeout(function(){n.lastIOSEnter==r&&(n.someProp("handleKeyDown",function(i){return i(n,Ia(13,"Enter"))}),n.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",function(i){return i(n,e)})||mU(n,e)?e.preventDefault():Ss(n,"key")};wn.keyup=function(n,e){e.keyCode==16&&(n.shiftKey=!1)};wn.keypress=function(n,e){if(!(NC(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||he.mac&&e.metaKey)){if(n.someProp("handleKeyPress",function(o){return o(n,e)})){e.preventDefault();return}var r=n.state.selection;if(!(r instanceof Pe)||!r.$from.sameParent(r.$to)){var i=String.fromCharCode(e.charCode);n.someProp("handleTextInput",function(o){return o(n,r.$from.pos,r.$to.pos,i)})||n.dispatch(n.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}}};function fd(n){return{left:n.clientX,top:n.clientY}}function RU(n,e){var r=e.x-n.clientX,i=e.y-n.clientY;return r*r+i*i<100}function Rv(n,e,r,i,o){if(i==-1)return!1;for(var s=n.state.doc.resolve(i),a=function(u){if(n.someProp(e,function(f){return u>s.depth?f(n,r,s.nodeAfter,s.before(u),o,!0):f(n,r,s.node(u),s.before(u),o,!1)}))return{v:!0}},l=s.depth+1;l>0;l--){var c=a(l);if(c)return c.v}return!1}function La(n,e,r){n.focused||n.focus();var i=n.state.tr.setSelection(e);r=="pointer"&&i.setMeta("pointer",!0),n.dispatch(i)}function IU(n,e){if(e==-1)return!1;var r=n.state.doc.resolve(e),i=r.nodeAfter;return i&&i.isAtom&&Ae.isSelectable(i)?(La(n,new Ae(r),"pointer"),!0):!1}function PU(n,e){if(e==-1)return!1;var r=n.state.selection,i,o;r instanceof Ae&&(i=r.node);for(var s=n.state.doc.resolve(e),a=s.depth+1;a>0;a--){var l=a>s.depth?s.nodeAfter:s.node(a);if(Ae.isSelectable(l)){i&&r.$from.depth>0&&a>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?o=s.before(r.$from.depth):o=s.before(a);break}}return o!=null?(La(n,Ae.create(n.state.doc,o),"pointer"),!0):!1}function LU(n,e,r,i,o){return Rv(n,"handleClickOn",e,r,i)||n.someProp("handleClick",function(s){return s(n,e,i)})||(o?PU(n,r):IU(n,r))}function BU(n,e,r,i){return Rv(n,"handleDoubleClickOn",e,r,i)||n.someProp("handleDoubleClick",function(o){return o(n,e,i)})}function FU(n,e,r,i){return Rv(n,"handleTripleClickOn",e,r,i)||n.someProp("handleTripleClick",function(o){return o(n,e,i)})||$U(n,r,i)}function $U(n,e,r){if(r.button!=0)return!1;var i=n.state.doc;if(e==-1)return i.inlineContent?(La(n,Pe.create(i,0,i.content.size),"pointer"),!0):!1;for(var o=i.resolve(e),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s),l=o.before(s);if(a.inlineContent)La(n,Pe.create(i,l+1,l+1+a.content.size),"pointer");else if(Ae.isSelectable(a))La(n,Ae.create(i,l),"pointer");else continue;return!0}}function Iv(n){return hd(n)}var MC=he.mac?"metaKey":"ctrlKey";Tn.mousedown=function(n,e){n.shiftKey=e.shiftKey;var r=Iv(n),i=Date.now(),o="singleClick";i-n.lastClick.time<500&&RU(e,n.lastClick)&&!e[MC]&&(n.lastClick.type=="singleClick"?o="doubleClick":n.lastClick.type=="doubleClick"&&(o="tripleClick")),n.lastClick={time:i,x:e.clientX,y:e.clientY,type:o};var s=n.posAtCoords(fd(e));!s||(o=="singleClick"?(n.mouseDown&&n.mouseDown.done(),n.mouseDown=new dd(n,s,e,r)):(o=="doubleClick"?BU:FU)(n,s.pos,s.inside,e)?e.preventDefault():Ss(n,"pointer"))};var dd=function(e,r,i,o){var s=this;this.view=e,this.startDoc=e.state.doc,this.pos=r,this.event=i,this.flushed=o,this.selectNode=i[MC],this.allowDefault=i.shiftKey,this.delayedSelectionSync=!1;var a,l;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),l=r.inside;else{var c=e.state.doc.resolve(r.pos);a=c.parent,l=c.depth?c.before():0}this.mightDrag=null;var u=o?null:i.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f?f.dom:null;var d=e.state,h=d.selection;(i.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof Ae&&h.from<=l&&h.to>l)&&(this.mightDrag={node:a,pos:l,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&he.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ss(e,"pointer")};dd.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return _o(e.view)}),this.view.mouseDown=null};dd.prototype.up=function(e){if(this.done(),!!this.view.dom.contains(e.target.nodeType==3?e.target.parentNode:e.target)){var r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(fd(e))),this.allowDefault||!r?Ss(this.view,"pointer"):LU(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||he.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||he.chrome&&!(this.view.state.selection instanceof Pe)&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(La(this.view,Be.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):Ss(this.view,"pointer")}};dd.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ss(this.view,"pointer"),e.buttons==0&&this.done()};Tn.touchdown=function(n){Iv(n),Ss(n,"pointer")};Tn.contextmenu=function(n){return Iv(n)};function NC(n,e){return n.composing?!0:he.safari&&Math.abs(e.timeStamp-n.compositionEndedAt)<500?(n.compositionEndedAt=-2e8,!0):!1}var zU=he.android?5e3:-1;wn.compositionstart=wn.compositionupdate=function(n){if(!n.composing){n.domObserver.flush();var e=n.state,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(function(l){return l.type.spec.inclusive===!1})))n.markCursor=n.state.storedMarks||r.marks(),hd(n,!0),n.markCursor=null;else if(hd(n),he.gecko&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length)for(var i=n.root.getSelection(),o=i.focusNode,s=i.focusOffset;o&&o.nodeType==1&&s!=0;){var a=s<0?o.lastChild:o.childNodes[s-1];if(!a)break;if(a.nodeType==3){i.collapse(a,a.nodeValue.length);break}else o=a,s=-1}n.composing=!0}RC(n,zU)};wn.compositionend=function(n,e){n.composing&&(n.composing=!1,n.compositionEndedAt=e.timeStamp,RC(n,20))};function RC(n,e){clearTimeout(n.composingTimeout),e>-1&&(n.composingTimeout=setTimeout(function(){return hd(n)},e))}function IC(n){for(n.composing&&(n.composing=!1,n.compositionEndedAt=UU());n.compositionNodes.length>0;)n.compositionNodes.pop().markParentsDirty()}function UU(){var n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function hd(n,e){if(n.domObserver.forceFlush(),IC(n),e||n.docView.dirty){var r=lC(n);return r&&!r.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(r)):n.updateState(n.state),!0}return!1}function HU(n,e){if(!!n.dom.parentNode){var r=n.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),i.removeAllRanges(),i.addRange(o),setTimeout(function(){r.parentNode&&r.parentNode.removeChild(r),n.focus()},50)}}var Ba=he.ie&&he.ie_version<15||he.ios&&he.webkit_version<604;Tn.copy=wn.cut=function(n,e){var r=n.state.selection,i=e.type=="cut";if(!r.empty){var o=Ba?null:e.clipboardData,s=r.content(),a=wC(n,s),l=a.dom,c=a.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",c)):HU(n,l),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function VU(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function jU(n,e){if(!!n.dom.parentNode){var r=n.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(function(){n.focus(),i.parentNode&&i.parentNode.removeChild(i),r?Pv(n,i.value,null,e):Pv(n,i.textContent,i.innerHTML,e)},50)}}function Pv(n,e,r,i){var o=EC(n,e,r,n.shiftKey,n.state.selection.$from);if(n.someProp("handlePaste",function(l){return l(n,i,o||_e.empty)}))return!0;if(!o)return!1;var s=VU(o),a=s?n.state.tr.replaceSelectionWith(s,n.shiftKey):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}wn.paste=function(n,e){var r=Ba?null:e.clipboardData;r&&Pv(n,r.getData("text/plain"),r.getData("text/html"),e)?e.preventDefault():jU(n,e)};var qU=function(e,r){this.slice=e,this.move=r},PC=he.mac?"altKey":"ctrlKey";Tn.dragstart=function(n,e){var r=n.mouseDown;if(r&&r.done(),!!e.dataTransfer){var i=n.state.selection,o=i.empty?null:n.posAtCoords(fd(e));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Ae?i.to-1:i.to))){if(r&&r.mightDrag)n.dispatch(n.state.tr.setSelection(Ae.create(n.state.doc,r.mightDrag.pos)));else if(e.target&&e.target.nodeType==1){var s=n.docView.nearestDesc(e.target,!0);s&&s.node.type.spec.draggable&&s!=n.docView&&n.dispatch(n.state.tr.setSelection(Ae.create(n.state.doc,s.posBefore)))}}var a=n.state.selection.content(),l=wC(n,a),c=l.dom,u=l.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Ba?"Text":"text/html",c.innerHTML),e.dataTransfer.effectAllowed="copyMove",Ba||e.dataTransfer.setData("text/plain",u),n.dragging=new qU(a,!e[PC])}};Tn.dragend=function(n){var e=n.dragging;window.setTimeout(function(){n.dragging==e&&(n.dragging=null)},50)};wn.dragover=wn.dragenter=function(n,e){return e.preventDefault()};wn.drop=function(n,e){var r=n.dragging;if(n.dragging=null,!!e.dataTransfer){var i=n.posAtCoords(fd(e));if(!!i){var o=n.state.doc.resolve(i.pos);if(!!o){var s=r&&r.slice;s?n.someProp("transformPasted",function(g){s=g(s)}):s=EC(n,e.dataTransfer.getData(Ba?"Text":"text/plain"),Ba?null:e.dataTransfer.getData("text/html"),!1,o);var a=r&&!e[PC];if(n.someProp("handleDrop",function(g){return g(n,e,s||_e.empty,a)})){e.preventDefault();return}if(!!s){e.preventDefault();var l=s?Jm(n.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);var c=n.state.tr;a&&c.deleteSelection();var u=c.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),!c.doc.eq(d)){var h=c.doc.resolve(u);if(f&&Ae.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Ae(h));else{var p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(function(g,v,w,b){return p=b}),c.setSelection(wv(n,h,c.doc.resolve(p)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))}}}}}};Tn.focus=function(n){n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(function(){n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.root.getSelection())&&_o(n)},20))};Tn.blur=function(n,e){n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.set({}),n.focused=!1)};Tn.beforeinput=function(n,e){if(he.chrome&&he.android&&e.inputType=="deleteContentBackward"){var r=n.domChangeCount;setTimeout(function(){if(n.domChangeCount==r&&(n.dom.blur(),n.focus(),!n.someProp("handleKeyDown",function(s){return s(n,Ia(8,"Backspace"))}))){var i=n.state.selection,o=i.$cursor;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())}},50)}};for(var LC in wn)Tn[LC]=wn[LC];function kc(n,e){if(n==e)return!0;for(var r in n)if(n[r]!==e[r])return!1;for(var i in e)if(!(i in n))return!1;return!0}var Fa=function(e,r){this.spec=r||ks,this.side=this.spec.side||0,this.toDOM=e};Fa.prototype.map=function(e,r,i,o){var s=e.mapResult(r.from+o,this.side<0?-1:1),a=s.pos,l=s.deleted;return l?null:new wt(a-i,a-i,this)};Fa.prototype.valid=function(){return!0};Fa.prototype.eq=function(e){return this==e||e instanceof Fa&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&kc(this.spec,e.spec))};Fa.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var Tr=function(e,r){this.spec=r||ks,this.attrs=e};Tr.prototype.map=function(e,r,i,o){var s=e.map(r.from+o,this.spec.inclusiveStart?-1:1)-i,a=e.map(r.to+o,this.spec.inclusiveEnd?1:-1)-i;return s>=a?null:new wt(s,a,this)};Tr.prototype.valid=function(e,r){return r.from<r.to};Tr.prototype.eq=function(e){return this==e||e instanceof Tr&&kc(this.attrs,e.attrs)&&kc(this.spec,e.spec)};Tr.is=function(e){return e.type instanceof Tr};var Cc=function(e,r){this.spec=r||ks,this.attrs=e};Cc.prototype.map=function(e,r,i,o){var s=e.mapResult(r.from+o,1);if(s.deleted)return null;var a=e.mapResult(r.to+o,-1);return a.deleted||a.pos<=s.pos?null:new wt(s.pos-i,a.pos-i,this)};Cc.prototype.valid=function(e,r){var i=e.content.findIndex(r.from),o=i.index,s=i.offset,a;return s==r.from&&!(a=e.child(o)).isText&&s+a.nodeSize==r.to};Cc.prototype.eq=function(e){return this==e||e instanceof Cc&&kc(this.attrs,e.attrs)&&kc(this.spec,e.spec)};var wt=function(e,r,i){this.from=e,this.to=r,this.type=i},Lv={spec:{configurable:!0},inline:{configurable:!0}};wt.prototype.copy=function(e,r){return new wt(e,r,this.type)};wt.prototype.eq=function(e,r){return r===void 0&&(r=0),this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to};wt.prototype.map=function(e,r,i){return this.type.map(e,this,r,i)};wt.widget=function(e,r,i){return new wt(e,e,new Fa(r,i))};wt.inline=function(e,r,i,o){return new wt(e,r,new Tr(i,o))};wt.node=function(e,r,i,o){return new wt(e,r,new Cc(i,o))};Lv.spec.get=function(){return this.type.spec};Lv.inline.get=function(){return this.type instanceof Tr};Object.defineProperties(wt.prototype,Lv);var pd=[],ks={},et=function(e,r){this.local=e&&e.length?e:pd,this.children=r&&r.length?r:pd};et.create=function(e,r){return r.length?gd(r,e,0,ks):Xt};et.prototype.find=function(e,r,i){var o=[];return this.findInner(e==null?0:e,r==null?1e9:r,o,0,i),o};et.prototype.findInner=function(e,r,i,o,s){for(var a=0;a<this.local.length;a++){var l=this.local[a];l.from<=r&&l.to>=e&&(!s||s(l.spec))&&i.push(l.copy(l.from+o,l.to+o))}for(var c=0;c<this.children.length;c+=3)if(this.children[c]<r&&this.children[c+1]>e){var u=this.children[c]+1;this.children[c+2].findInner(e-u,r-u,i,o+u,s)}};et.prototype.map=function(e,r,i){return this==Xt||e.maps.length==0?this:this.mapInner(e,r,0,0,i||ks)};et.prototype.mapInner=function(e,r,i,o,s){for(var a,l=0;l<this.local.length;l++){var c=this.local[l].map(e,i,o);c&&c.type.valid(r,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?WU(this.children,a,e,r,i,o,s):a?new et(a.sort(Cs)):Xt};et.prototype.add=function(e,r){return r.length?this==Xt?et.create(e,r):this.addInner(e,r,0):this};et.prototype.addInner=function(e,r,i){var o=this,s,a=0;e.forEach(function(u,f){var d=f+i,h;if(!!(h=FC(r,u,d))){for(s||(s=o.children.slice());a<s.length&&s[a]<f;)a+=3;s[a]==f?s[a+2]=s[a+2].addInner(u,h,d+1):s.splice(a,0,f,f+u.nodeSize,gd(h,u,d+1,ks)),a+=3}});for(var l=BC(a?$C(r):r,-i),c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new et(l.length?this.local.concat(l).sort(Cs):this.local,s||this.children)};et.prototype.remove=function(e){return e.length==0||this==Xt?this:this.removeInner(e,0)};et.prototype.removeInner=function(e,r){for(var i=this.children,o=this.local,s=0;s<i.length;s+=3){for(var a=void 0,l=i[s]+r,c=i[s+1]+r,u=0,f=void 0;u<e.length;u++)(f=e[u])&&f.from>l&&f.to<c&&(e[u]=null,(a||(a=[])).push(f));if(!!a){i==this.children&&(i=this.children.slice());var d=i[s+2].removeInner(a,l+1);d!=Xt?i[s+2]=d:(i.splice(s,3),s-=3)}}if(o.length){for(var h=0,p=void 0;h<e.length;h++)if(p=e[h])for(var g=0;g<o.length;g++)o[g].eq(p,r)&&(o==this.local&&(o=this.local.slice()),o.splice(g--,1))}return i==this.children&&o==this.local?this:o.length||i.length?new et(o,i):Xt};et.prototype.forChild=function(e,r){if(this==Xt)return this;if(r.isLeaf)return et.empty;for(var i,o,s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(i=this.children[s+2]);break}for(var a=e+1,l=a+r.content.size,c=0;c<this.local.length;c++){var u=this.local[c];if(u.from<l&&u.to>a&&u.type instanceof Tr){var f=Math.max(a,u.from)-a,d=Math.min(l,u.to)-a;f<d&&(o||(o=[])).push(u.copy(f,d))}}if(o){var h=new et(o.sort(Cs));return i?new ur([h,i]):h}return i||Xt};et.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(var i=0;i<this.children.length;i+=3)if(this.children[i]!=e.children[i]||this.children[i+1]!=e.children[i+1]||!this.children[i+2].eq(e.children[i+2]))return!1;return!0};et.prototype.locals=function(e){return Bv(this.localsInner(e))};et.prototype.localsInner=function(e){if(this==Xt)return pd;if(e.inlineContent||!this.local.some(Tr.is))return this.local;for(var r=[],i=0;i<this.local.length;i++)this.local[i].type instanceof Tr||r.push(this.local[i]);return r};var Xt=new et;et.empty=Xt;et.removeOverlap=Bv;var ur=function(e){this.members=e};ur.prototype.map=function(e,r){var i=this.members.map(function(o){return o.map(e,r,ks)});return ur.from(i)};ur.prototype.forChild=function(e,r){if(r.isLeaf)return et.empty;for(var i=[],o=0;o<this.members.length;o++){var s=this.members[o].forChild(e,r);s!=Xt&&(s instanceof ur?i=i.concat(s.members):i.push(s))}return ur.from(i)};ur.prototype.eq=function(e){if(!(e instanceof ur)||e.members.length!=this.members.length)return!1;for(var r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0};ur.prototype.locals=function(e){for(var r,i=!0,o=0;o<this.members.length;o++){var s=this.members[o].localsInner(e);if(!!s.length)if(!r)r=s;else{i&&(r=r.slice(),i=!1);for(var a=0;a<s.length;a++)r.push(s[a])}}return r?Bv(i?r:r.sort(Cs)):pd};ur.from=function(e){switch(e.length){case 0:return Xt;case 1:return e[0];default:return new ur(e)}};function WU(n,e,r,i,o,s,a){for(var l=n.slice(),c=function(L,j,K,V){for(var G=0;G<l.length;G+=3){var B=l[G+1],W=void 0;B==-1||L>B+s||(j>=l[G]+s?l[G+1]=-1:K>=o&&(W=V-K-(j-L))&&(l[G]+=W,l[G+1]+=W))}},u=0;u<r.maps.length;u++)r.maps[u].forEach(c);for(var f=!1,d=0;d<l.length;d+=3)if(l[d+1]==-1){var h=r.map(n[d]+s),p=h-o;if(p<0||p>=i.content.size){f=!0;continue}var g=r.map(n[d+1]+s,-1),v=g-o,w=i.content.findIndex(p),b=w.index,S=w.offset,E=i.maybeChild(b);if(E&&S==p&&S+E.nodeSize==v){var y=l[d+2].mapInner(r,E,h+1,n[d]+s+1,a);y!=Xt?(l[d]=p,l[d+1]=v,l[d+2]=y):(l[d+1]=-2,f=!0)}else f=!0}if(f){var k=KU(l,n,e||[],r,o,s,a),D=gd(k,i,0,a);e=D.local;for(var T=0;T<l.length;T+=3)l[T+1]<0&&(l.splice(T,3),T-=3);for(var N=0,$=0;N<D.children.length;N+=3){for(var I=D.children[N];$<l.length&&l[$]<I;)$+=3;l.splice($,0,D.children[N],D.children[N+1],D.children[N+2])}}return new et(e&&e.sort(Cs),l)}function BC(n,e){if(!e||!n.length)return n;for(var r=[],i=0;i<n.length;i++){var o=n[i];r.push(new wt(o.from+e,o.to+e,o.type))}return r}function KU(n,e,r,i,o,s,a){function l(u,f){for(var d=0;d<u.local.length;d++){var h=u.local[d].map(i,o,f);h?r.push(h):a.onRemove&&a.onRemove(u.local[d].spec)}for(var p=0;p<u.children.length;p+=3)l(u.children[p+2],u.children[p]+f+1)}for(var c=0;c<n.length;c+=3)n[c+1]==-1&&l(n[c+2],e[c]+s+1);return r}function FC(n,e,r){if(e.isLeaf)return null;for(var i=r+e.nodeSize,o=null,s=0,a=void 0;s<n.length;s++)(a=n[s])&&a.from>r&&a.to<i&&((o||(o=[])).push(a),n[s]=null);return o}function $C(n){for(var e=[],r=0;r<n.length;r++)n[r]!=null&&e.push(n[r]);return e}function gd(n,e,r,i){var o=[],s=!1;e.forEach(function(c,u){var f=FC(n,c,u+r);if(f){s=!0;var d=gd(f,c,r+u+1,i);d!=Xt&&o.push(u,u+c.nodeSize,d)}});for(var a=BC(s?$C(n):n,-r).sort(Cs),l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(i.onRemove&&i.onRemove(a[l].spec),a.splice(l--,1));return a.length||o.length?new et(a,o):Xt}function Cs(n,e){return n.from-e.from||n.to-e.to}function Bv(n){for(var e=n,r=0;r<e.length-1;r++){var i=e[r];if(i.from!=i.to)for(var o=r+1;o<e.length;o++){var s=e[o];if(s.from==i.from){s.to!=i.to&&(e==n&&(e=n.slice()),e[o]=s.copy(s.from,i.to),zC(e,o+1,s.copy(i.to,s.to)));continue}else{s.from<i.to&&(e==n&&(e=n.slice()),e[r]=i.copy(i.from,s.from),zC(e,o,i.copy(s.from,i.to)));break}}}return e}function zC(n,e,r){for(;e<n.length&&Cs(r,n[e])>0;)e++;n.splice(e,0,r)}function Fv(n){var e=[];return n.someProp("decorations",function(r){var i=r(n.state);i&&i!=Xt&&e.push(i)}),n.cursorWrapper&&e.push(et.create(n.state.doc,[n.cursorWrapper.deco])),ur.from(e)}var Tt=function(e,r){this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(qC),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=VC(this),this.markCursor=null,this.cursorWrapper=null,HC(this),this.nodeViews=jC(this),this.docView=tC(this.state.doc,UC(this),Fv(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,DU(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},$v={props:{configurable:!0},root:{configurable:!0}};$v.props.get=function(){if(this._props.state!=this.state){var n=this._props;this._props={};for(var e in n)this._props[e]=n[e];this._props.state=this.state}return this._props};Tt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Mv(this),this._props=e,e.plugins&&(e.plugins.forEach(qC),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)};Tt.prototype.setProps=function(e){var r={};for(var i in this._props)r[i]=this._props[i];r.state=this.state;for(var o in e)r[o]=e[o];this.update(r)};Tt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)};Tt.prototype.updateStateInner=function(e,r){var i=this,o=this.state,s=!1,a=!1;if(e.storedMarks&&this.composing&&(IC(this),a=!0),this.state=e,r){var l=jC(this);YU(l,this.nodeViews)&&(this.nodeViews=l,s=!0),Mv(this)}this.editable=VC(this),HC(this);var c=Fv(this),u=UC(this),f=r?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,u,c);(d||!e.selection.eq(o.selection))&&(a=!0);var h=f=="preserve"&&a&&this.dom.style.overflowAnchor==null&&Hz(this);if(a){this.domObserver.stop();var p=d&&(he.ie||he.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&GU(o.selection,e.selection);if(d){var g=he.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(s||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=tC(e.doc,u,c,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&hU(this))?_o(this,p):(hC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),f=="reset")this.dom.scrollTop=0;else if(f=="to selection"){var v=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(w){return w(i)})||(e.selection instanceof Ae?Vk(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),v):Vk(this,this.coordsAtPos(e.selection.head,1),v))}else h&&Vz(h)};Tt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()};Tt.prototype.updatePluginViews=function(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var s=this.state.plugins[o];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(var a=0;a<this.pluginViews.length;a++){var l=this.pluginViews[a];l.update&&l.update(this,e)}};Tt.prototype.someProp=function(e,r){var i=this._props&&this._props[e],o;if(i!=null&&(o=r?r(i):i))return o;for(var s=0;s<this.directPlugins.length;s++){var a=this.directPlugins[s].props[e];if(a!=null&&(o=r?r(a):a))return o}var l=this.state.plugins;if(l)for(var c=0;c<l.length;c++){var u=l[c].props[e];if(u!=null&&(o=r?r(u):u))return o}};Tt.prototype.hasFocus=function(){return this.root.activeElement==this.dom};Tt.prototype.focus=function(){this.domObserver.stop(),this.editable&&jz(this.dom),_o(this),this.domObserver.start()};$v.root.get=function(){var n=this._root;if(n==null){for(var e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e}return n||document};Tt.prototype.posAtCoords=function(e){return Yz(this,e)};Tt.prototype.coordsAtPos=function(e,r){return r===void 0&&(r=1),Gk(this,e,r)};Tt.prototype.domAtPos=function(e,r){return r===void 0&&(r=0),this.docView.domFromPos(e,r)};Tt.prototype.nodeDOM=function(e){var r=this.docView.descAt(e);return r?r.nodeDOM:null};Tt.prototype.posAtDOM=function(e,r,i){i===void 0&&(i=-1);var o=this.docView.posFromDOM(e,r,i);if(o==null)throw new RangeError("DOM position not inside the editor");return o};Tt.prototype.endOfTextblock=function(e,r){return eU(this,r||this.state,e)};Tt.prototype.destroy=function(){!this.docView||(TU(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Fv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)};Tt.prototype.dispatchEvent=function(e){return NU(this,e)};Tt.prototype.dispatch=function(e){var r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))};Object.defineProperties(Tt.prototype,$v);function UC(n){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),e.translate="no",n.someProp("attributes",function(r){if(typeof r=="function"&&(r=r(n.state)),r)for(var i in r)i=="class"&&(e.class+=" "+r[i]),i=="style"?e.style=(e.style?e.style+";":"")+r[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(r[i]))}),[wt.node(0,n.state.doc.content.size,e)]}function HC(n){if(n.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),n.cursorWrapper={dom:e,deco:wt.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function VC(n){return!n.someProp("editable",function(e){return e(n.state)===!1})}function GU(n,e){var r=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(r)!=e.$anchor.start(r)}function jC(n){var e={};return n.someProp("nodeViews",function(r){for(var i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}),e}function YU(n,e){var r=0,i=0;for(var o in n){if(n[o]!=e[o])return!0;r++}for(var s in e)i++;return r!=i}function qC(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Pi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},md={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},WC=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),JU=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),XU=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),KC=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),ZU=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),QU=WC&&(KC||+WC[1]<57)||XU&&KC;for(var Zt=0;Zt<10;Zt++)Pi[48+Zt]=Pi[96+Zt]=String(Zt);for(var Zt=1;Zt<=24;Zt++)Pi[Zt+111]="F"+Zt;for(var Zt=65;Zt<=90;Zt++)Pi[Zt]=String.fromCharCode(Zt+32),md[Zt]=String.fromCharCode(Zt);for(var zv in Pi)md.hasOwnProperty(zv)||(md[zv]=Pi[zv]);function GC(n){var e=QU&&(n.ctrlKey||n.altKey||n.metaKey)||(JU||ZU)&&n.shiftKey&&n.key&&n.key.length==1,r=!e&&n.key||(n.shiftKey?md:Pi)[n.keyCode]||n.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}var e6=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function t6(n){var e=n.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");for(var i,o,s,a,l=0;l<e.length-1;l++){var c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e6?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function n6(n){var e=Object.create(null);for(var r in n)e[t6(r)]=n[r];return e}function Uv(n,e,r){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),r!==!1&&e.shiftKey&&(n="Shift-"+n),n}function r6(n){return new bt({props:{handleKeyDown:i6(n)}})}function i6(n){var e=n6(n);return function(r,i){var o=GC(i),s=o.length==1&&o!=" ",a,l=e[Uv(o,i,!s)];if(l&&l(r.state,r.dispatch,r))return!0;if(s&&(i.shiftKey||i.altKey||i.metaKey||o.charCodeAt(0)>127)&&(a=Pi[i.keyCode])&&a!=o){var c=e[Uv(a,i,!0)];if(c&&c(r.state,r.dispatch,r))return!0}else if(s&&i.shiftKey){var u=e[Uv(o,i,!0)];if(u&&u(r.state,r.dispatch,r))return!0}return!1}}function o6(n){return Object.prototype.toString.call(n).slice(8,-1)}function Hv(n){return o6(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function vd(n,e){const r=ce({},n);return Hv(n)&&Hv(e)&&Object.keys(e).forEach(i=>{Hv(e[i])?i in n?r[i]=vd(n[i],e[i]):Object.assign(r,{[i]:e[i]}):Object.assign(r,{[i]:e[i]})}),r}function YC(n){return typeof n=="function"}function We(n,e=void 0,...r){return YC(n)?e?n.bind(e)(...r):n(...r):n}function Oe(n,e,r){return n.config[e]===void 0&&n.parent?Oe(n.parent,e,r):typeof n.config[e]=="function"?n.config[e].bind(Bt(ce({},r),{parent:n.parent?Oe(n.parent,e,r):null})):n.config[e]}class Pt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ce(ce({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=We(Oe(this,"addOptions",{name:this.name}))),this.storage=We(Oe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Pt(e)}configure(e={}){const r=this.extend();return r.options=vd(this.options,e),r.storage=We(Oe(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new Pt(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=e.defaultOptions?e.defaultOptions:r.parent.options,e.addOptions&&(r.options=We(Oe(r,"addOptions",{name:r.name}))),r.storage=We(Oe(r,"addStorage",{name:r.name,options:r.options})),r}}function JC(n,e,r){const{from:i,to:o}=e,{blockSeparator:s=`

`,textSerializers:a={}}=r||{};let l="",c=!0;return n.nodesBetween(i,o,(u,f,d,h)=>{var p;const g=a==null?void 0:a[u.type.name];g?(u.isBlock&&!c&&(l+=s,c=!0),l+=g({node:u,pos:f,parent:d,index:h})):u.isText?(l+=(p=u==null?void 0:u.text)===null||p===void 0?void 0:p.slice(Math.max(i,f)-f,o-f),c=!1):u.isBlock&&!c&&(l+=s,c=!0)}),l}function XC(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const s6=Pt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new bt({key:new It("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:r}=n,{doc:i,selection:o}=e,{from:s,to:a}=o,l=XC(r);return JC(i,{from:s,to:a},{textSerializers:l})}}})]}}),a6=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{n.isDestroyed||e.dom.blur()}),!0);var l6=Object.freeze({__proto__:null,blur:a6});const c6=(n=!1)=>({commands:e})=>e.setContent("",n);var u6=Object.freeze({__proto__:null,clearContent:c6});const f6=()=>({state:n,tr:e,dispatch:r})=>{const{selection:i}=e,{ranges:o}=i;return o.forEach(s=>{n.doc.nodesBetween(s.$from.pos,s.$to.pos,(a,l)=>{if(a.type.isText)return;const c=e.doc.resolve(e.mapping.map(l)),u=e.doc.resolve(e.mapping.map(l+a.nodeSize)),f=c.blockRange(u);if(!f)return;const d=Ma(f);if(a.type.isTextblock&&r){const{defaultType:h}=c.parent.contentMatchAt(c.index());e.setNodeMarkup(f.start,h)}(d||d===0)&&r&&e.lift(f,d)})}),!0};var d6=Object.freeze({__proto__:null,clearNodes:f6});const h6=n=>e=>n(e);var p6=Object.freeze({__proto__:null,command:h6});const g6=()=>({state:n,dispatch:e})=>Ik(n,e);var m6=Object.freeze({__proto__:null,createParagraphNear:g6});function Ht(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}const v6=n=>({tr:e,state:r,dispatch:i})=>{const o=Ht(n,r.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(i){const c=s.before(a),u=s.after(a);e.delete(c,u).scrollIntoView()}return!0}return!1};var y6=Object.freeze({__proto__:null,deleteNode:v6});const b6=n=>({tr:e,dispatch:r})=>{const{from:i,to:o}=n;return r&&e.delete(i,o),!0};var _6=Object.freeze({__proto__:null,deleteRange:b6});const w6=()=>({state:n,dispatch:e})=>iv(n,e);var E6=Object.freeze({__proto__:null,deleteSelection:w6});const S6=()=>({commands:n})=>n.keyboardShortcut("Enter");var k6=Object.freeze({__proto__:null,enter:S6});const C6=()=>({state:n,dispatch:e})=>Rk(n,e);var x6=Object.freeze({__proto__:null,exitCode:C6});function wo(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}function Vv(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function yd(n,e,r={strict:!0}){const i=Object.keys(e);return i.length?i.every(o=>r.strict?e[o]===n[o]:Vv(e[o])?e[o].test(n[o]):e[o]===n[o]):!0}function jv(n,e,r={}){return n.find(i=>i.type===e&&yd(i.attrs,r))}function A6(n,e,r={}){return!!jv(n,e,r)}function ZC(n,e,r={}){if(!n||!e)return;const i=n.parent.childAfter(n.parentOffset);if(!i.node)return;const o=jv(i.node.marks,e,r);if(!o)return;let s=n.index(),a=n.start()+i.offset,l=s+1,c=a+i.node.nodeSize;for(jv(i.node.marks,e,r);s>0&&o.isInSet(n.parent.child(s-1).marks);)s-=1,a-=n.parent.child(s).nodeSize;for(;l<n.parent.childCount&&A6(n.parent.child(l).marks,e,r);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}const O6=(n,e={})=>({tr:r,state:i,dispatch:o})=>{const s=wo(n,i.schema),{doc:a,selection:l}=r,{$from:c,from:u,to:f}=l;if(o){const d=ZC(c,s,e);if(d&&d.from<=u&&d.to>=f){const h=Pe.create(a,d.from,d.to);r.setSelection(h)}}return!0};var D6=Object.freeze({__proto__:null,extendMarkRange:O6});const T6=n=>e=>{const r=typeof n=="function"?n(e):n;for(let i=0;i<r.length;i+=1)if(r[i](e))return!0;return!1};var M6=Object.freeze({__proto__:null,first:T6});function xs(n=0,e=0,r=0){return Math.min(Math.max(n,e),r)}function N6(n){var e;return((e=n.constructor)===null||e===void 0?void 0:e.toString().substring(0,5))==="class"}function qv(n){return n&&typeof n=="object"&&!Array.isArray(n)&&!N6(n)}function QC(n){return qv(n)&&n instanceof Pe}function R6(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function I6(n,e=null){if(!e)return null;if(e==="start"||e===!0)return{from:0,to:0};if(e==="end"){const{size:r}=n.doc.content;return{from:r,to:r}}return{from:e,to:e}}const P6=(n=null)=>({editor:e,view:r,tr:i,dispatch:o})=>{const s=()=>{R6()&&r.dom.focus(),requestAnimationFrame(()=>{e.isDestroyed||(r.focus(),e.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!QC(e.state.selection))return s(),!0;const{from:a,to:l}=I6(e.state,n)||e.state.selection,{doc:c,storedMarks:u}=i,f=Be.atStart(c).from,d=Be.atEnd(c).to,h=xs(a,f,d),p=xs(l,f,d),g=Pe.create(c,h,p),v=e.state.selection.eq(g);return o&&(v||i.setSelection(g),v&&u&&i.setStoredMarks(u),s()),!0};var L6=Object.freeze({__proto__:null,focus:P6});const B6=(n,e)=>r=>n.every((i,o)=>e(i,Bt(ce({},r),{index:o})));var F6=Object.freeze({__proto__:null,forEach:B6});const $6=(n,e)=>({tr:r,commands:i})=>i.insertContentAt({from:r.selection.from,to:r.selection.to},n,e);var z6=Object.freeze({__proto__:null,insertContent:$6});function ex(n){const e=`<body>${n}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function bd(n,e,r){if(r=ce({slice:!0,parseOptions:{}},r),typeof n=="object"&&n!==null)try{return Array.isArray(n)?se.fromArray(n.map(i=>e.nodeFromJSON(i))):e.nodeFromJSON(n)}catch(i){return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",i),bd("",e,r)}if(typeof n=="string"){const i=Wn.fromSchema(e);return r.slice?i.parseSlice(ex(n),r.parseOptions).content:i.parse(ex(n),r.parseOptions)}return bd("",e,r)}function U6(n,e,r){const i=n.steps.length-1;if(i<e)return;const o=n.steps[i];if(!(o instanceof Ni||o instanceof Dn))return;const s=n.mapping.maps[i];let a=0;s.forEach((l,c,u,f)=>{a===0&&(a=f)}),n.setSelection(Be.near(n.doc.resolve(a),r))}const H6=(n,e,r)=>({tr:i,dispatch:o,editor:s})=>{if(o){r=ce({parseOptions:{},updateSelection:!0},r);const a=bd(e,s.schema,{parseOptions:ce({preserveWhitespace:"full"},r.parseOptions)});if(a.toString()==="<>")return!0;const{from:l,to:c}=typeof n=="number"?{from:n,to:n}:n;i.replaceWith(l,c,a),r.updateSelection&&U6(i,i.steps.length-1,1)}return!0};var V6=Object.freeze({__proto__:null,insertContentAt:H6});const j6=()=>({state:n,dispatch:e})=>Ck(n,e);var q6=Object.freeze({__proto__:null,joinBackward:j6});const W6=()=>({state:n,dispatch:e})=>Ok(n,e);var K6=Object.freeze({__proto__:null,joinForward:W6});const G6=typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1;function Y6(n){const e=n.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let i,o,s,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))G6?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return i&&(r=`Alt-${r}`),o&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}const J6=n=>({editor:e,view:r,tr:i,dispatch:o})=>{const s=Y6(n).split(/-(?!$)/),a=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,l))});return c==null||c.steps.forEach(u=>{const f=u.map(i.mapping);f&&o&&i.maybeStep(f)}),!0};var X6=Object.freeze({__proto__:null,keyboardShortcut:J6});function $a(n,e,r={}){const{from:i,to:o,empty:s}=n.selection,a=e?Ht(e,n.schema):null,l=[];n.doc.nodesBetween(i,o,(d,h)=>{if(d.isText)return;const p=Math.max(i,h),g=Math.min(o,h+d.nodeSize);l.push({node:d,from:p,to:g})});const c=o-i,u=l.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>yd(d.node.attrs,r,{strict:!1}));return s?!!u.length:u.reduce((d,h)=>d+h.to-h.from,0)>=c}const Z6=(n,e={})=>({state:r,dispatch:i})=>{const o=Ht(n,r.schema);return $a(r,o,e)?Mk(r,i):!1};var Q6=Object.freeze({__proto__:null,lift:Z6});const e8=()=>({state:n,dispatch:e})=>Pk(n,e);var t8=Object.freeze({__proto__:null,liftEmptyBlock:e8});const n8=n=>({state:e,dispatch:r})=>{const i=Ht(n,e.schema);return Rz(i)(e,r)};var r8=Object.freeze({__proto__:null,liftListItem:n8});const i8=()=>({state:n,dispatch:e})=>Nk(n,e);var o8=Object.freeze({__proto__:null,newlineInCode:i8});function _d(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function tx(n,e){const r=typeof e=="string"?[e]:e;return Object.keys(n).reduce((i,o)=>(r.includes(o)||(i[o]=n[o]),i),{})}const s8=(n,e)=>({tr:r,state:i,dispatch:o})=>{let s=null,a=null;const l=_d(typeof n=="string"?n:n.name,i.schema);return l?(l==="node"&&(s=Ht(n,i.schema)),l==="mark"&&(a=wo(n,i.schema)),o&&r.selection.ranges.forEach(c=>{i.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,f)=>{s&&s===u.type&&r.setNodeMarkup(f,void 0,tx(u.attrs,e)),a&&u.marks.length&&u.marks.forEach(d=>{a===d.type&&r.addMark(f,f+u.nodeSize,a.create(tx(d.attrs,e)))})})}),!0):!1};var a8=Object.freeze({__proto__:null,resetAttributes:s8});const l8=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0);var c8=Object.freeze({__proto__:null,scrollIntoView:l8});const u8=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size});var f8=Object.freeze({__proto__:null,selectAll:u8});const d8=()=>({state:n,dispatch:e})=>xk(n,e);var h8=Object.freeze({__proto__:null,selectNodeBackward:d8});const p8=()=>({state:n,dispatch:e})=>Dk(n,e);var g8=Object.freeze({__proto__:null,selectNodeForward:p8});const m8=()=>({state:n,dispatch:e})=>xz(n,e);var v8=Object.freeze({__proto__:null,selectParentNode:m8});function nx(n,e,r={}){return bd(n,e,{slice:!1,parseOptions:r})}const y8=(n,e=!1,r={})=>({tr:i,editor:o,dispatch:s})=>{const{doc:a}=i,l=nx(n,o.schema,r),c=Pe.create(a,0,a.content.size);return s&&i.setSelection(c).replaceSelectionWith(l,!1).setMeta("preventUpdate",!e),!0};var b8=Object.freeze({__proto__:null,setContent:y8});function rx(n,e){const r=wo(e,n.schema),{from:i,to:o,empty:s}=n.selection,a=[];s?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(i,o,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===r.name);return l?ce({},l.attrs):{}}const _8=(n,e={})=>({tr:r,state:i,dispatch:o})=>{const{selection:s}=r,{empty:a,ranges:l}=s,c=wo(n,i.schema);if(o)if(a){const u=rx(i,c);r.addStoredMark(c.create(ce(ce({},u),e)))}else l.forEach(u=>{const f=u.$from.pos,d=u.$to.pos;i.doc.nodesBetween(f,d,(h,p)=>{const g=Math.max(p,f),v=Math.min(p+h.nodeSize,d);h.marks.find(b=>b.type===c)?h.marks.forEach(b=>{c===b.type&&r.addMark(g,v,c.create(ce(ce({},b.attrs),e)))}):r.addMark(g,v,c.create(e))})});return!0};var w8=Object.freeze({__proto__:null,setMark:_8});const E8=(n,e)=>({tr:r})=>(r.setMeta(n,e),!0);var S8=Object.freeze({__proto__:null,setMeta:E8});const k8=(n,e={})=>({state:r,dispatch:i})=>{const o=Ht(n,r.schema);return Dz(o,e)(r,i)};var C8=Object.freeze({__proto__:null,setNode:k8});const x8=n=>({tr:e,dispatch:r})=>{if(r){const{doc:i}=e,o=Be.atStart(i).from,s=Be.atEnd(i).to,a=xs(n,o,s),l=Ae.create(i,a);e.setSelection(l)}return!0};var A8=Object.freeze({__proto__:null,setNodeSelection:x8});const O8=n=>({tr:e,dispatch:r})=>{if(r){const{doc:i}=e,{from:o,to:s}=typeof n=="number"?{from:n,to:n}:n,a=Be.atStart(i).from,l=Be.atEnd(i).to,c=xs(o,a,l),u=xs(s,a,l),f=Pe.create(i,c,u);e.setSelection(f)}return!0};var D8=Object.freeze({__proto__:null,setTextSelection:O8});const T8=n=>({state:e,dispatch:r})=>{const i=Ht(n,e.schema);return Lz(i)(e,r)};var M8=Object.freeze({__proto__:null,sinkListItem:T8});function wd(n,e,r){return Object.fromEntries(Object.entries(r).filter(([i])=>{const o=n.find(s=>s.type===e&&s.name===i);return o?o.attribute.keepOnSplit:!1}))}function N8(n){for(let e=0;e<n.edgeCount;e+=1){const{type:r}=n.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function ix(n,e){const r=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(r){const i=r.filter(o=>e==null?void 0:e.includes(o.type.name));n.tr.ensureMarks(i)}}const R8=({keepMarks:n=!0}={})=>({tr:e,state:r,dispatch:i,editor:o})=>{const{selection:s,doc:a}=e,{$from:l,$to:c}=s,u=o.extensionManager.attributes,f=wd(u,l.node().type.name,l.node().attrs);if(s instanceof Ae&&s.node.isBlock)return!l.parentOffset||!Ri(a,l.pos)?!1:(i&&(n&&ix(r,o.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(i){const d=c.parentOffset===c.parent.content.size;s instanceof Pe&&e.deleteSelection();const h=l.depth===0?void 0:N8(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=d&&h?[{type:h,attrs:f}]:void 0,g=Ri(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!g&&Ri(e.doc,e.mapping.map(l.pos),1,h?[{type:h}]:void 0)&&(g=!0,p=h?[{type:h,attrs:f}]:void 0),g&&(e.split(e.mapping.map(l.pos),1,p),h&&!d&&!l.parentOffset&&l.parent.type!==h)){const v=e.mapping.map(l.before()),w=e.doc.resolve(v);l.node(-1).canReplaceWith(w.index(),w.index()+1,h)&&e.setNodeMarkup(e.mapping.map(l.before()),h)}n&&ix(r,o.extensionManager.splittableMarks),e.scrollIntoView()}return!0};var I8=Object.freeze({__proto__:null,splitBlock:R8});const P8=n=>({tr:e,state:r,dispatch:i,editor:o})=>{var s;const a=Ht(n,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const d=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let w=se.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-b;T>=l.depth-3;T-=1)w=se.from(l.node(T).copy(w));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,E=wd(d,l.node().type.name,l.node().attrs),y=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(E))||void 0;w=w.append(se.from(a.createAndFill(null,y)||void 0));const k=l.before(l.depth-(b-1));e.replace(k,l.after(-S),new _e(w,4-b,0));let D=-1;e.doc.nodesBetween(k,e.doc.content.size,(T,N)=>{if(D>-1)return!1;T.isTextblock&&T.content.size===0&&(D=N+1)}),D>-1&&e.setSelection(Pe.near(e.doc.resolve(D))),e.scrollIntoView()}return!0}const h=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,p=wd(d,f.type.name,f.attrs),g=wd(d,l.node().type.name,l.node().attrs);e.delete(l.pos,c.pos);const v=h?[{type:a,attrs:p},{type:h,attrs:g}]:[{type:a,attrs:p}];return Ri(e.doc,l.pos,2)?(i&&e.split(l.pos,2,v).scrollIntoView(),!0):!1};var L8=Object.freeze({__proto__:null,splitListItem:P8});function B8(n,e){for(let r=n.depth;r>0;r-=1){const i=n.node(r);if(e(i))return{pos:r>0?n.before(r):0,start:n.start(r),depth:r,node:i}}}function F8(n){return e=>B8(e.$from,n)}function Ed(n){const e=n.filter(o=>o.type==="extension"),r=n.filter(o=>o.type==="node"),i=n.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:i}}function ox(n,e){const{nodeExtensions:r}=Ed(e),i=r.find(a=>a.name===n);if(!i)return!1;const o={name:i.name,options:i.options,storage:i.storage},s=We(Oe(i,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}const $8=(n,e)=>({editor:r,tr:i,state:o,dispatch:s,chain:a,commands:l,can:c})=>{const{extensions:u}=r.extensionManager,f=Ht(n,o.schema),d=Ht(e,o.schema),{selection:h}=o,{$from:p,$to:g}=h,v=p.blockRange(g);if(!v)return!1;const w=F8(S=>ox(S.type.name,u))(h);if(v.depth>=1&&w&&v.depth-w.depth<=1){if(w.node.type===f)return l.liftListItem(d);if(ox(w.node.type.name,u)&&f.validContent(w.node.content)&&s)return i.setNodeMarkup(w.pos,f),!0}return c().wrapInList(f)?l.wrapInList(f):a().clearNodes().wrapInList(f).run()};var z8=Object.freeze({__proto__:null,toggleList:$8});function Wv(n,e,r={}){const{empty:i,ranges:o}=n.selection,s=e?wo(e,n.schema):null;if(i)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>yd(d.attrs,r,{strict:!1}));let a=0;const l=[];if(o.forEach(({$from:d,$to:h})=>{const p=d.pos,g=h.pos;n.doc.nodesBetween(p,g,(v,w)=>{if(!v.isText&&!v.marks.length)return;const b=Math.max(p,w),S=Math.min(g,w+v.nodeSize);a+=S-b,l.push(...v.marks.map(y=>({mark:y,from:b,to:S})))})}),a===0)return!1;const c=l.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>yd(d.mark.attrs,r,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),u=l.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(c>0?c+u:c)>=a}const U8=(n,e={},r={})=>({state:i,commands:o})=>{const{extendEmptyMarkRange:s=!1}=r,a=wo(n,i.schema);return Wv(i,a,e)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,e)};var H8=Object.freeze({__proto__:null,toggleMark:U8});const V8=(n,e,r={})=>({state:i,commands:o})=>{const s=Ht(n,i.schema),a=Ht(e,i.schema);return $a(i,s,r)?o.setNode(a):o.setNode(s,r)};var j8=Object.freeze({__proto__:null,toggleNode:V8});const q8=(n,e={})=>({state:r,dispatch:i})=>{const o=Ht(n,r.schema);return $a(r,o,e)?Mk(r,i):Bk(o,e)(r,i)};var W8=Object.freeze({__proto__:null,toggleWrap:q8});const K8=()=>({state:n,dispatch:e})=>{const r=n.plugins;for(let i=0;i<r.length;i+=1){const o=r[i];let s;if(o.spec.isInputRules&&(s=o.getState(n))){if(e){const a=n.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,n.schema.text(s.text,c))}else a.delete(s.from,s.to)}return!0}}return!1};var G8=Object.freeze({__proto__:null,undoInputRule:K8});const Y8=()=>({tr:n,state:e,dispatch:r})=>{const{selection:i}=n,{empty:o,ranges:s}=i;return o||r&&Object.entries(e.schema.marks).forEach(([,a])=>{s.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos,a)})}),!0};var J8=Object.freeze({__proto__:null,unsetAllMarks:Y8});const X8=(n,e={})=>({tr:r,state:i,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=r,c=wo(n,i.schema),{$from:u,empty:f,ranges:d}=l;if(!o)return!0;if(f&&a){let{from:h,to:p}=l;const g=(s=u.marks().find(w=>w.type===c))===null||s===void 0?void 0:s.attrs,v=ZC(u,c,g);v&&(h=v.from,p=v.to),r.removeMark(h,p,c)}else d.forEach(h=>{r.removeMark(h.$from.pos,h.$to.pos,c)});return r.removeStoredMark(c),!0};var Z8=Object.freeze({__proto__:null,unsetMark:X8});const Q8=(n,e={})=>({tr:r,state:i,dispatch:o})=>{let s=null,a=null;const l=_d(typeof n=="string"?n:n.name,i.schema);return l?(l==="node"&&(s=Ht(n,i.schema)),l==="mark"&&(a=wo(n,i.schema)),o&&r.selection.ranges.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;i.doc.nodesBetween(u,f,(d,h)=>{s&&s===d.type&&r.setNodeMarkup(h,void 0,ce(ce({},d.attrs),e)),a&&d.marks.length&&d.marks.forEach(p=>{if(a===p.type){const g=Math.max(h,u),v=Math.min(h+d.nodeSize,f);r.addMark(g,v,a.create(ce(ce({},p.attrs),e)))}})})}),!0):!1};var e5=Object.freeze({__proto__:null,updateAttributes:Q8});const t5=(n,e={})=>({state:r,dispatch:i})=>{const o=Ht(n,r.schema);return $a(r,o,e)?!1:Bk(o,e)(r,i)};var n5=Object.freeze({__proto__:null,wrapIn:t5});const r5=(n,e={})=>({state:r,dispatch:i})=>{const o=Ht(n,r.schema);return Mz(o,e)(r,i)};var i5=Object.freeze({__proto__:null,wrapInList:r5});const o5=Pt.create({name:"commands",addCommands(){return ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce({},l6),u6),d6),p6),m6),y6),_6),E6),k6),x6),D6),M6),L6),F6),z6),V6),q6),K6),X6),Q6),t8),r8),o8),a8),c8),f8),h8),g8),v8),b8),w8),S8),C8),A8),D8),M8),I8),L8),z8),H8),j8),W8),G8),J8),Z8),e5),n5),i5)}}),s5=Pt.create({name:"editable",addProseMirrorPlugins(){return[new bt({key:new It("editable"),props:{editable:()=>this.editor.options.editable}})]}}),a5=Pt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new bt({key:new It("focusEvents"),props:{handleDOMEvents:{focus:(e,r)=>{n.isFocused=!0;const i=n.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,r)=>{n.isFocused=!1;const i=n.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),l5=Pt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:r})=>[()=>r.undoInputRule(),()=>r.deleteSelection(),()=>r.joinBackward(),()=>r.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:r})=>[()=>r.deleteSelection(),()=>r.joinForward(),()=>r.selectNodeForward()]);return{Enter:()=>this.editor.commands.first(({commands:r})=>[()=>r.newlineInCode(),()=>r.createParagraphNear(),()=>r.liftEmptyBlock(),()=>r.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()}}}),c5=Pt.create({name:"tabindex",addProseMirrorPlugins(){return[new bt({key:new It("tabindex"),props:{attributes:{tabindex:"0"}}})]}});var u5=Object.freeze({__proto__:null,ClipboardTextSerializer:s6,Commands:o5,Editable:s5,FocusEvents:a5,Keymap:l5,Tabindex:c5});function f5(n,e){const r=Ht(e,n.schema),{from:i,to:o}=n.selection,s=[];n.doc.nodesBetween(i,o,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===r.name);return a?ce({},a.attrs):{}}function d5(n,e){const r=_d(typeof e=="string"?e:e.name,n.schema);return r==="node"?f5(n,e):r==="mark"?rx(n,e):{}}function h5(n,e,r={}){if(!e)return $a(n,null,r)||Wv(n,null,r);const i=_d(e,n.schema);return i==="node"?$a(n,e,r):i==="mark"?Wv(n,e,r):!1}function p5(n){(n==null?void 0:n.parentNode)&&n.parentNode.removeChild(n)}function g5(n,e){const r=xt.fromSchema(e).serializeFragment(n),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(r),o.innerHTML}function m5(n,e){const r={from:0,to:n.content.size};return JC(n,r,e)}function v5(n){var e;const r=(e=n.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),i=n.toJSON();return JSON.stringify(r)===JSON.stringify(i)}function y5(n){const e=document.querySelector("style[data-tiptap-style]");if(e!==null)return e;const r=document.createElement("style");return r.setAttribute("data-tiptap-style",""),r.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(r),r}function Kv(n){const{state:e,transaction:r}=n;let{selection:i}=r,{doc:o}=r,{storedMarks:s}=r;return Bt(ce({},e),{schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return i},get doc(){return o},get tr(){return i=r.selection,o=r.doc,s=r.storedMarks,r}})}class Gv{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:i}=this,{view:o}=r,{tr:s}=i,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...f)=>{const d=c(...f)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:i,editor:o,state:s}=this,{view:a}=o,l=[],c=!!e,u=e||s.tr,f=()=>(!c&&r&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(u),l.every(h=>h===!0)),d=Bt(ce({},Object.fromEntries(Object.entries(i).map(([h,p])=>[h,(...v)=>{const w=this.buildProps(u,r),b=p(...v)(w);return l.push(b),d}]))),{run:f});return d}createCan(e){const{rawCommands:r,state:i}=this,o=void 0,s=e||i.tr,a=this.buildProps(s,o),l=Object.fromEntries(Object.entries(r).map(([c,u])=>[c,(...f)=>u(...f)(Bt(ce({},a),{dispatch:o}))]));return Bt(ce({},l),{chain:()=>this.createChain(s,o)})}buildProps(e,r=!0){const{rawCommands:i,editor:o,state:s}=this,{view:a}=o;s.storedMarks&&e.setStoredMarks(s.storedMarks);const l={tr:e,editor:o,view:a,state:Kv({state:s,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([c,u])=>[c,(...f)=>u(...f)(l)]))}};return l}}class xc{constructor(e){this.find=e.find,this.handler=e.handler}}const b5=(n,e)=>{if(Vv(e))return e.exec(n);const r=e(n);if(!r)return null;const i=[];return i.push(r.text),i.index=r.index,i.input=n,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(r.replaceWith)),i};function Yv(n){var e;const{editor:r,from:i,to:o,text:s,rules:a,plugin:l}=n,{view:c}=r;if(c.composing)return!1;const u=c.state.doc.resolve(i);if(u.parent.type.spec.code||!!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0?void 0:e.marks.find(p=>p.type.spec.code)))return!1;let f=!1;const d=500,h=u.parent.textBetween(Math.max(0,u.parentOffset-d),u.parentOffset,void 0,"\uFFFC")+s;return a.forEach(p=>{if(f)return;const g=b5(h,p.find);if(!g)return;const v=c.state.tr,w=Kv({state:c.state,transaction:v}),b={from:i-(g[0].length-s.length),to:o},{commands:S,chain:E,can:y}=new Gv({editor:r,state:w});p.handler({state:w,range:b,match:g,commands:S,chain:E,can:y}),!!v.steps.length&&(v.setMeta(l,{transform:v,from:i,to:o,text:s}),c.dispatch(v),f=!0)}),f}function _5(n){const{editor:e,rules:r}=n,i=new bt({state:{init(){return null},apply(o,s){const a=o.getMeta(this);return a||(o.selectionSet||o.docChanged?null:s)}},props:{handleTextInput(o,s,a,l){return Yv({editor:e,from:s,to:a,text:l,rules:r,plugin:i})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&Yv({editor:e,from:s.pos,to:s.pos,text:"",rules:r,plugin:i})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?Yv({editor:e,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:i}):!1}},isInputRules:!0});return i}function w5(n){return typeof n=="number"}class E5{constructor(e){this.find=e.find,this.handler=e.handler}}const S5=(n,e)=>{if(Vv(e))return[...n.matchAll(e)];const r=e(n);return r?r.map(i=>{const o=[];return o.push(i.text),o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function k5(n){const{editor:e,state:r,from:i,to:o,rules:s}=n,{commands:a,chain:l,can:c}=new Gv({editor:e,state:r});r.doc.nodesBetween(i,o,(u,f)=>{if(!u.isTextblock||u.type.spec.code)return;const d=Math.max(i,f),h=Math.min(o,f+u.content.size),p=u.textBetween(d-f,h-f,void 0,"\uFFFC");s.forEach(g=>{S5(p,g.find).forEach(w=>{if(w.index===void 0)return;const b=d+w.index+1,S=b+w[0].length,E={from:r.tr.mapping.map(b),to:r.tr.mapping.map(S)};g.handler({state:r,range:E,match:w,commands:a,chain:l,can:c})})})})}function C5(n){const{editor:e,rules:r}=n;let i=!1;const o=new bt({props:{handlePaste:(s,a)=>{var l;const c=(l=a.clipboardData)===null||l===void 0?void 0:l.getData("text/html");return i=!!(c==null?void 0:c.includes("data-pm-slice")),!1}},appendTransaction:(s,a,l)=>{const c=s[0];if(!c.getMeta("paste")||i)return;const{doc:u,before:f}=c,d=f.content.findDiffStart(u.content),h=f.content.findDiffEnd(u.content);if(!w5(d)||!h||d===h.b)return;const p=l.tr,g=Kv({state:l,transaction:p});if(k5({editor:e,state:g,from:Math.max(d-1,0),to:h.b,rules:r,plugin:o}),!!p.steps.length)return p},isPasteRules:!0});return o}function sx(n){const e=[],{nodeExtensions:r,markExtensions:i}=Ed(n),o=[...r,...i],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return n.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=Oe(a,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(d=>{Object.entries(f.attributes).forEach(([h,p])=>{e.push({type:d,name:h,attribute:ce(ce({},s),p)})})})})}),o.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=Oe(a,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([f,d])=>{e.push({type:a.name,name:f,attribute:ce(ce({},s),d)})})}),e}function Et(...n){return n.filter(e=>!!e).reduce((e,r)=>{const i=ce({},e);return Object.entries(r).forEach(([o,s])=>{if(!i[o]){i[o]=s;return}o==="class"?i[o]=[i[o],s].join(" "):o==="style"?i[o]=[i[o],s].join("; "):i[o]=s}),i},{})}function Jv(n,e){return e.filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(n.attrs)||{}:{[r.name]:n.attrs[r.name]}).reduce((r,i)=>Et(r,i),{})}function x5(n={}){return Object.keys(n).length===0&&n.constructor===Object}function A5(n){return typeof n!="string"?n:n.match(/^\d*(\.\d+)?$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function ax(n,e){return n.style?n:Bt(ce({},n),{getAttrs:r=>{const i=n.getAttrs?n.getAttrs(r):n.attrs;if(i===!1)return!1;const o=e.filter(s=>s.attribute.rendered).reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(r):A5(r.getAttribute(a.name));return qv(l)&&console.warn(`[tiptap warn]: BREAKING CHANGE: "parseHTML" for your attribute "${a.name}" returns an object but should return the value itself. If this is expected you can ignore this message. This warning will be removed in one of the next releases. Further information: https://github.com/ueberdosis/tiptap/issues/1863`),l==null?s:Bt(ce({},s),{[a.name]:l})},{});return ce(ce({},i),o)}})}function lx(n){return Object.fromEntries(Object.entries(n).filter(([e,r])=>e==="attrs"&&x5(r)?!1:r!=null))}function O5(n){var e;const r=sx(n),{nodeExtensions:i,markExtensions:o}=Ed(n),s=(e=i.find(c=>Oe(c,"topNode")))===null||e===void 0?void 0:e.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(w=>w.type===c.name),f={name:c.name,options:c.options,storage:c.storage},d=n.reduce((w,b)=>{const S=Oe(b,"extendNodeSchema",f);return ce(ce({},w),S?S(c):{})},{}),h=lx(Bt(ce({},d),{content:We(Oe(c,"content",f)),marks:We(Oe(c,"marks",f)),group:We(Oe(c,"group",f)),inline:We(Oe(c,"inline",f)),atom:We(Oe(c,"atom",f)),selectable:We(Oe(c,"selectable",f)),draggable:We(Oe(c,"draggable",f)),code:We(Oe(c,"code",f)),defining:We(Oe(c,"defining",f)),isolating:We(Oe(c,"isolating",f)),attrs:Object.fromEntries(u.map(w=>{var b;return[w.name,{default:(b=w==null?void 0:w.attribute)===null||b===void 0?void 0:b.default}]}))})),p=We(Oe(c,"parseHTML",f));p&&(h.parseDOM=p.map(w=>ax(w,u)));const g=Oe(c,"renderHTML",f);g&&(h.toDOM=w=>g({node:w,HTMLAttributes:Jv(w,u)}));const v=Oe(c,"renderText",f);return v&&(h.toText=v),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(v=>v.type===c.name),f={name:c.name,options:c.options,storage:c.storage},d=n.reduce((v,w)=>{const b=Oe(w,"extendMarkSchema",f);return ce(ce({},v),b?b(c):{})},{}),h=lx(Bt(ce({},d),{inclusive:We(Oe(c,"inclusive",f)),excludes:We(Oe(c,"excludes",f)),group:We(Oe(c,"group",f)),spanning:We(Oe(c,"spanning",f)),code:We(Oe(c,"code",f)),attrs:Object.fromEntries(u.map(v=>{var w;return[v.name,{default:(w=v==null?void 0:v.attribute)===null||w===void 0?void 0:w.default}]}))})),p=We(Oe(c,"parseHTML",f));p&&(h.parseDOM=p.map(v=>ax(v,u)));const g=Oe(c,"renderHTML",f);return g&&(h.toDOM=v=>g({mark:v,HTMLAttributes:Jv(v,u)})),[c.name,h]}));return new _s({topNode:s,nodes:a,marks:l})}function Xv(n,e){return e.nodes[n]||e.marks[n]||null}function D5(n){const e=n.filter((r,i)=>n.indexOf(r)!==i);return[...new Set(e)]}class za{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=za.resolve(e),this.schema=O5(this.extensions),this.extensions.forEach(i=>{var o;this.editor.extensionStorage[i.name]=i.storage;const s={name:i.name,options:i.options,storage:i.storage,editor:this.editor,type:Xv(i.name,this.schema)};i.type==="mark"&&((o=We(Oe(i,"keepOnSplit",s)))!==null&&o!==void 0?o:!0)&&this.splittableMarks.push(i.name);const a=Oe(i,"onBeforeCreate",s);a&&this.editor.on("beforeCreate",a);const l=Oe(i,"onCreate",s);l&&this.editor.on("create",l);const c=Oe(i,"onUpdate",s);c&&this.editor.on("update",c);const u=Oe(i,"onSelectionUpdate",s);u&&this.editor.on("selectionUpdate",u);const f=Oe(i,"onTransaction",s);f&&this.editor.on("transaction",f);const d=Oe(i,"onFocus",s);d&&this.editor.on("focus",d);const h=Oe(i,"onBlur",s);h&&this.editor.on("blur",h);const p=Oe(i,"onDestroy",s);p&&this.editor.on("destroy",p)})}static resolve(e){const r=za.sort(za.flatten(e)),i=D5(r.map(o=>o.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const i={name:r.name,options:r.options,storage:r.storage},o=Oe(r,"addExtensions",i);return o?[r,...this.flatten(o())]:r}).flat(10)}static sort(e){const r=100;return e.sort((i,o)=>{const s=Oe(i,"priority")||r,a=Oe(o,"priority")||r;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const i={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Xv(r.name,this.schema)},o=Oe(r,"addCommands",i);return o?ce(ce({},e),o()):e},{})}get plugins(){const{editor:e}=this,r=za.sort([...this.extensions].reverse()),i=[],o=[],s=r.map(a=>{const l={name:a.name,options:a.options,storage:a.storage,editor:e,type:Xv(a.name,this.schema)},c=[],u=Oe(a,"addKeyboardShortcuts",l);if(u){const p=Object.fromEntries(Object.entries(u()).map(([v,w])=>[v,()=>w({editor:e})])),g=r6(p);c.push(g)}const f=Oe(a,"addInputRules",l);e.options.enableInputRules&&f&&i.push(...f());const d=Oe(a,"addPasteRules",l);e.options.enablePasteRules&&d&&o.push(...d());const h=Oe(a,"addProseMirrorPlugins",l);if(h){const p=h();c.push(...p)}return c}).flat();return[_5({editor:e,rules:i}),C5({editor:e,rules:o}),...s]}get attributes(){return sx(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=Ed(this.extensions);return Object.fromEntries(r.filter(i=>!!Oe(i,"addNodeView")).map(i=>{const o=this.attributes.filter(c=>c.type===i.name),s={name:i.name,options:i.options,storage:i.storage,editor:e,type:Ht(i.name,this.schema)},a=Oe(i,"addNodeView",s);if(!a)return[];const l=(c,u,f,d)=>{const h=Jv(c,o);return a()({editor:e,node:c,getPos:f,decorations:d,HTMLAttributes:h,extension:i})};return[i.name,l]}))}}class T5{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const i=this.callbacks[e];return i&&i.forEach(o=>o.apply(this,r)),this}off(e,r){const i=this.callbacks[e];return i&&(r?this.callbacks[e]=i.filter(o=>o!==r):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}const M5=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class N5 extends T5{constructor(e={}){super();this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=y5(M5))}setOptions(e={}){this.options=ce(ce({},this.options),e),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const i=YC(r)?r(e,this.state.plugins):[...this.state.plugins,e],o=this.state.reconfigure({plugins:i});this.view.updateState(o)}unregisterPlugin(e){if(this.isDestroyed)return;const r=typeof e=="string"?`${e}$`:e.key,i=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(r))});this.view.updateState(i)}createExtensionManager(){const r=[...this.options.enableCoreExtensions?Object.values(u5):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new za(r,this)}createCommandManager(){this.commandManager=new Gv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){this.view=new Tt(this.options.element,Bt(ce({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:cn.create({doc:nx(this.options.content,this.schema,this.options.parseOptions)})}));const e=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(e),this.createNodeViews();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(a)});return}const r=this.state.apply(e),i=!this.state.selection.eq(r.selection);this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),s=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return d5(this.state,e)}isActive(e,r){const i=typeof e=="string"?e:null,o=typeof e=="string"?r:e;return h5(this.state,i,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return g5(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:i={}}=e||{};return m5(this.state.doc,{blockSeparator:r,textSerializers:ce(ce({},i),XC(this.schema))})}get isEmpty(){return v5(this.state.doc)}getCharacterCount(){return this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners(),p5(this.css)}get isDestroyed(){var e;return!((e=this.view)===null||e===void 0?void 0:e.docView)}}class Vt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ce(ce({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=We(Oe(this,"addOptions",{name:this.name}))),this.storage=We(Oe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Vt(e)}configure(e={}){const r=this.extend();return r.options=vd(this.options,e),r.storage=We(Oe(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new Vt(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=e.defaultOptions?e.defaultOptions:r.parent.options,e.addOptions&&(r.options=We(Oe(r,"addOptions",{name:r.name}))),r.storage=We(Oe(r,"addStorage",{name:r.name,options:r.options})),r}}class fr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ce(ce({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=We(Oe(this,"addOptions",{name:this.name}))),this.storage=We(Oe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new fr(e)}configure(e={}){const r=this.extend();return r.options=vd(this.options,e),r.storage=We(Oe(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new fr(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=e.defaultOptions?e.defaultOptions:r.parent.options,e.addOptions&&(r.options=We(Oe(r,"addOptions",{name:r.name}))),r.storage=We(Oe(r,"addStorage",{name:r.name,options:r.options})),r}}function cx(n){return new xc({find:n.find,handler:({state:e,range:r,match:i})=>{const o=We(n.getAttributes,void 0,i)||{},{tr:s}=e,a=r.from;let l=r.to;if(i[1]){const c=i[0].lastIndexOf(i[1]);let u=a+c;u>l?u=l:l=u+i[1].length;const f=i[0][i[0].length-1];s.insertText(f,a+i[0].length-1),s.replaceWith(u,l,n.type.create(o))}else i[0]&&s.replaceWith(a,l,n.type.create(o))}})}function ux(n,e,r){const i=[];return r.doc.nodesBetween(n,e,(o,s)=>{i.push(...o.marks.map(a=>({from:s,to:s+o.nodeSize,mark:a})))}),i}function As(n){return new xc({find:n.find,handler:({state:e,range:r,match:i})=>{const o=We(n.getAttributes,void 0,i);if(o===!1||o===null)return;const{tr:s}=e,a=i[i.length-1],l=i[0];let c=r.to;if(a){const u=l.search(/\S/),f=r.from+l.indexOf(a),d=f+a.length;if(ux(r.from,r.to,e).filter(p=>p.mark.type.excluded.find(v=>v===n.type&&v!==p.mark.type)).filter(p=>p.to>f).length)return null;d<r.to&&s.delete(d,r.to),f>r.from&&s.delete(r.from+u,f),c=r.from+u+a.length,s.addMark(r.from+u,c,n.type.create(o||{})),s.removeStoredMark(n.type)}}})}function Ac(n){return new xc({find:n.find,handler:({state:e,range:r,match:i})=>{const o=e.doc.resolve(r.from),s=We(n.getAttributes,void 0,i)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),n.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,n.type,s)}})}function Ot(n){return new xc({find:n.find,handler:({state:e,range:r,match:i})=>{let o=n.replace,s=r.from;const a=r.to;if(i[1]){const l=i[0].lastIndexOf(i[1]);o+=i[0].slice(l+i[1].length),s+=l;const c=s-a;c>0&&(o=i[0].slice(l-c,l)+o,s=a)}e.tr.insertText(o,s,a)}})}function Sd(n){return new xc({find:n.find,handler:({state:e,range:r,match:i})=>{const o=We(n.getAttributes,void 0,i)||{},s=e.tr.delete(r.from,r.to),l=s.doc.resolve(r.from).blockRange(),c=l&&Gm(l,n.type,o);if(!c)return null;s.wrap(l,c);const u=s.doc.resolve(r.from-1).nodeBefore;u&&u.type===n.type&&Ym(s.doc,r.from-1)&&(!n.joinPredicate||n.joinPredicate(i,u))&&s.join(r.from-1)}})}function Eo(n){return new E5({find:n.find,handler:({state:e,range:r,match:i})=>{const o=We(n.getAttributes,void 0,i);if(o===!1||o===null)return;const{tr:s}=e,a=i[i.length-1],l=i[0];let c=r.to;if(a){const u=l.search(/\S/),f=r.from+l.indexOf(a),d=f+a.length;if(ux(r.from,r.to,e).filter(p=>p.mark.type.excluded.find(v=>v===n.type&&v!==p.mark.type)).filter(p=>p.to>f).length)return null;d<r.to&&s.delete(d,r.to),f>r.from&&s.delete(r.from+u,f),c=r.from+u+a.length,s.addMark(r.from+u,c,n.type.create(o||{})),s.removeStoredMark(n.type)}}})}function Zv(n,e){const r=[];return n.descendants((i,o)=>{e(i)&&r.push({node:i,pos:o})}),r}function R5(n){return qv(n)&&n instanceof Ae}function fx(n,e,r){const i=0,o=n.state.doc.content.size,s=xs(e,i,o),a=xs(r,i,o),l=n.coordsAtPos(s),c=n.coordsAtPos(a,-1),u=Math.min(l.top,c.top),f=Math.max(l.bottom,c.bottom),d=Math.min(l.left,c.left),h=Math.max(l.right,c.right),p=h-d,g=f-u,b={top:u,bottom:f,left:d,right:h,width:p,height:g,x:d,y:u};return Bt(ce({},b),{toJSON:()=>b})}var Yn="top",dr="bottom",hr="right",Jn="left",Qv="auto",Oc=[Yn,dr,hr,Jn],Ua="start",Dc="end",I5="clippingParents",dx="viewport",Tc="popper",P5="reference",hx=Oc.reduce(function(n,e){return n.concat([e+"-"+Ua,e+"-"+Dc])},[]),px=[].concat(Oc,[Qv]).reduce(function(n,e){return n.concat([e,e+"-"+Ua,e+"-"+Dc])},[]),L5="beforeRead",B5="read",F5="afterRead",$5="beforeMain",z5="main",U5="afterMain",H5="beforeWrite",V5="write",j5="afterWrite",q5=[L5,B5,F5,$5,z5,U5,H5,V5,j5];function ii(n){return n?(n.nodeName||"").toLowerCase():null}function Mr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Mc(n){var e=Mr(n).Element;return n instanceof e||n instanceof Element}function pr(n){var e=Mr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function gx(n){if(typeof ShadowRoot=="undefined")return!1;var e=Mr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function W5(n){var e=n.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},o=e.attributes[r]||{},s=e.elements[r];!pr(s)||!ii(s)||(Object.assign(s.style,i),Object.keys(o).forEach(function(a){var l=o[a];l===!1?s.removeAttribute(a):s.setAttribute(a,l===!0?"":l)}))})}function K5(n){var e=n.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),l=a.reduce(function(c,u){return c[u]="",c},{});!pr(o)||!ii(o)||(Object.assign(o.style,l),Object.keys(s).forEach(function(c){o.removeAttribute(c)}))})}}var mx={name:"applyStyles",enabled:!0,phase:"write",fn:W5,effect:K5,requires:["computeStyles"]};function oi(n){return n.split("-")[0]}function Ha(n,e){var r=n.getBoundingClientRect(),i=1,o=1;return{width:r.width/i,height:r.height/o,top:r.top/o,right:r.right/i,bottom:r.bottom/o,left:r.left/i,x:r.left/i,y:r.top/o}}function ey(n){var e=Ha(n),r=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:r,height:i}}function vx(n,e){var r=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(r&&gx(r)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Li(n){return Mr(n).getComputedStyle(n)}function G5(n){return["table","td","th"].indexOf(ii(n))>=0}function So(n){return((Mc(n)?n.ownerDocument:n.document)||window.document).documentElement}function kd(n){return ii(n)==="html"?n:n.assignedSlot||n.parentNode||(gx(n)?n.host:null)||So(n)}function yx(n){return!pr(n)||Li(n).position==="fixed"?null:n.offsetParent}function Y5(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&pr(n)){var i=Li(n);if(i.position==="fixed")return null}for(var o=kd(n);pr(o)&&["html","body"].indexOf(ii(o))<0;){var s=Li(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function Nc(n){for(var e=Mr(n),r=yx(n);r&&G5(r)&&Li(r).position==="static";)r=yx(r);return r&&(ii(r)==="html"||ii(r)==="body"&&Li(r).position==="static")?e:r||Y5(n)||e}function ty(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}var ko=Math.max,Rc=Math.min,Cd=Math.round;function xd(n,e,r){return ko(n,Rc(e,r))}function bx(){return{top:0,right:0,bottom:0,left:0}}function _x(n){return Object.assign({},bx(),n)}function wx(n,e){return e.reduce(function(r,i){return r[i]=n,r},{})}var J5=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,_x(typeof e!="number"?e:wx(e,Oc))};function X5(n){var e,r=n.state,i=n.name,o=n.options,s=r.elements.arrow,a=r.modifiersData.popperOffsets,l=oi(r.placement),c=ty(l),u=[Jn,hr].indexOf(l)>=0,f=u?"height":"width";if(!(!s||!a)){var d=J5(o.padding,r),h=ey(s),p=c==="y"?Yn:Jn,g=c==="y"?dr:hr,v=r.rects.reference[f]+r.rects.reference[c]-a[c]-r.rects.popper[f],w=a[c]-r.rects.reference[c],b=Nc(s),S=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,E=v/2-w/2,y=d[p],k=S-h[f]-d[g],D=S/2-h[f]/2+E,T=xd(y,D,k),N=c;r.modifiersData[i]=(e={},e[N]=T,e.centerOffset=T-D,e)}}function Z5(n){var e=n.state,r=n.options,i=r.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||!vx(e.elements.popper,o)||(e.elements.arrow=o))}var Q5={name:"arrow",enabled:!0,phase:"main",fn:X5,effect:Z5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Va(n){return n.split("-")[1]}var eH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tH(n){var e=n.x,r=n.y,i=window,o=i.devicePixelRatio||1;return{x:Cd(Cd(e*o)/o)||0,y:Cd(Cd(r*o)/o)||0}}function Ex(n){var e,r=n.popper,i=n.popperRect,o=n.placement,s=n.variation,a=n.offsets,l=n.position,c=n.gpuAcceleration,u=n.adaptive,f=n.roundOffsets,d=f===!0?tH(a):typeof f=="function"?f(a):a,h=d.x,p=h===void 0?0:h,g=d.y,v=g===void 0?0:g,w=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),S=Jn,E=Yn,y=window;if(u){var k=Nc(r),D="clientHeight",T="clientWidth";k===Mr(r)&&(k=So(r),Li(k).position!=="static"&&l==="absolute"&&(D="scrollHeight",T="scrollWidth")),k=k,(o===Yn||(o===Jn||o===hr)&&s===Dc)&&(E=dr,v-=k[D]-i.height,v*=c?1:-1),(o===Jn||(o===Yn||o===dr)&&s===Dc)&&(S=hr,p-=k[T]-i.width,p*=c?1:-1)}var N=Object.assign({position:l},u&&eH);if(c){var $;return Object.assign({},N,($={},$[E]=b?"0":"",$[S]=w?"0":"",$.transform=(y.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",$))}return Object.assign({},N,(e={},e[E]=b?v+"px":"",e[S]=w?p+"px":"",e.transform="",e))}function nH(n){var e=n.state,r=n.options,i=r.gpuAcceleration,o=i===void 0?!0:i,s=r.adaptive,a=s===void 0?!0:s,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:oi(e.placement),variation:Va(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ex(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ex(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var rH={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nH,data:{}},Ad={passive:!0};function iH(n){var e=n.state,r=n.instance,i=n.options,o=i.scroll,s=o===void 0?!0:o,a=i.resize,l=a===void 0?!0:a,c=Mr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(f){f.addEventListener("scroll",r.update,Ad)}),l&&c.addEventListener("resize",r.update,Ad),function(){s&&u.forEach(function(f){f.removeEventListener("scroll",r.update,Ad)}),l&&c.removeEventListener("resize",r.update,Ad)}}var oH={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:iH,data:{}},sH={left:"right",right:"left",bottom:"top",top:"bottom"};function Od(n){return n.replace(/left|right|bottom|top/g,function(e){return sH[e]})}var aH={start:"end",end:"start"};function Sx(n){return n.replace(/start|end/g,function(e){return aH[e]})}function ny(n){var e=Mr(n),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function ry(n){return Ha(So(n)).left+ny(n).scrollLeft}function lH(n){var e=Mr(n),r=So(n),i=e.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;return i&&(o=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,l=i.offsetTop)),{width:o,height:s,x:a+ry(n),y:l}}function cH(n){var e,r=So(n),i=ny(n),o=(e=n.ownerDocument)==null?void 0:e.body,s=ko(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ko(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-i.scrollLeft+ry(n),c=-i.scrollTop;return Li(o||r).direction==="rtl"&&(l+=ko(r.clientWidth,o?o.clientWidth:0)-s),{width:s,height:a,x:l,y:c}}function iy(n){var e=Li(n),r=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+i)}function kx(n){return["html","body","#document"].indexOf(ii(n))>=0?n.ownerDocument.body:pr(n)&&iy(n)?n:kx(kd(n))}function Ic(n,e){var r;e===void 0&&(e=[]);var i=kx(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=Mr(i),a=o?[s].concat(s.visualViewport||[],iy(i)?i:[]):i,l=e.concat(a);return o?l:l.concat(Ic(kd(a)))}function oy(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function uH(n){var e=Ha(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function Cx(n,e){return e===dx?oy(lH(n)):pr(e)?uH(e):oy(cH(So(n)))}function fH(n){var e=Ic(kd(n)),r=["absolute","fixed"].indexOf(Li(n).position)>=0,i=r&&pr(n)?Nc(n):n;return Mc(i)?e.filter(function(o){return Mc(o)&&vx(o,i)&&ii(o)!=="body"}):[]}function dH(n,e,r){var i=e==="clippingParents"?fH(n):[].concat(e),o=[].concat(i,[r]),s=o[0],a=o.reduce(function(l,c){var u=Cx(n,c);return l.top=ko(u.top,l.top),l.right=Rc(u.right,l.right),l.bottom=Rc(u.bottom,l.bottom),l.left=ko(u.left,l.left),l},Cx(n,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function xx(n){var e=n.reference,r=n.element,i=n.placement,o=i?oi(i):null,s=i?Va(i):null,a=e.x+e.width/2-r.width/2,l=e.y+e.height/2-r.height/2,c;switch(o){case Yn:c={x:a,y:e.y-r.height};break;case dr:c={x:a,y:e.y+e.height};break;case hr:c={x:e.x+e.width,y:l};break;case Jn:c={x:e.x-r.width,y:l};break;default:c={x:e.x,y:e.y}}var u=o?ty(o):null;if(u!=null){var f=u==="y"?"height":"width";switch(s){case Ua:c[u]=c[u]-(e[f]/2-r[f]/2);break;case Dc:c[u]=c[u]+(e[f]/2-r[f]/2);break}}return c}function Pc(n,e){e===void 0&&(e={});var r=e,i=r.placement,o=i===void 0?n.placement:i,s=r.boundary,a=s===void 0?I5:s,l=r.rootBoundary,c=l===void 0?dx:l,u=r.elementContext,f=u===void 0?Tc:u,d=r.altBoundary,h=d===void 0?!1:d,p=r.padding,g=p===void 0?0:p,v=_x(typeof g!="number"?g:wx(g,Oc)),w=f===Tc?P5:Tc,b=n.rects.popper,S=n.elements[h?w:f],E=dH(Mc(S)?S:S.contextElement||So(n.elements.popper),a,c),y=Ha(n.elements.reference),k=xx({reference:y,element:b,strategy:"absolute",placement:o}),D=oy(Object.assign({},b,k)),T=f===Tc?D:y,N={top:E.top-T.top+v.top,bottom:T.bottom-E.bottom+v.bottom,left:E.left-T.left+v.left,right:T.right-E.right+v.right},$=n.modifiersData.offset;if(f===Tc&&$){var I=$[o];Object.keys(N).forEach(function(L){var j=[hr,dr].indexOf(L)>=0?1:-1,K=[Yn,dr].indexOf(L)>=0?"y":"x";N[L]+=I[K]*j})}return N}function hH(n,e){e===void 0&&(e={});var r=e,i=r.placement,o=r.boundary,s=r.rootBoundary,a=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?px:c,f=Va(i),d=f?l?hx:hx.filter(function(g){return Va(g)===f}):Oc,h=d.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=d);var p=h.reduce(function(g,v){return g[v]=Pc(n,{placement:v,boundary:o,rootBoundary:s,padding:a})[oi(v)],g},{});return Object.keys(p).sort(function(g,v){return p[g]-p[v]})}function pH(n){if(oi(n)===Qv)return[];var e=Od(n);return[Sx(n),e,Sx(e)]}function gH(n){var e=n.state,r=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var o=r.mainAxis,s=o===void 0?!0:o,a=r.altAxis,l=a===void 0?!0:a,c=r.fallbackPlacements,u=r.padding,f=r.boundary,d=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,g=p===void 0?!0:p,v=r.allowedAutoPlacements,w=e.options.placement,b=oi(w),S=b===w,E=c||(S||!g?[Od(w)]:pH(w)),y=[w].concat(E).reduce(function(te,Y){return te.concat(oi(Y)===Qv?hH(e,{placement:Y,boundary:f,rootBoundary:d,padding:u,flipVariations:g,allowedAutoPlacements:v}):Y)},[]),k=e.rects.reference,D=e.rects.popper,T=new Map,N=!0,$=y[0],I=0;I<y.length;I++){var L=y[I],j=oi(L),K=Va(L)===Ua,V=[Yn,dr].indexOf(j)>=0,G=V?"width":"height",B=Pc(e,{placement:L,boundary:f,rootBoundary:d,altBoundary:h,padding:u}),W=V?K?hr:Jn:K?dr:Yn;k[G]>D[G]&&(W=Od(W));var X=Od(W),J=[];if(s&&J.push(B[j]<=0),l&&J.push(B[W]<=0,B[X]<=0),J.every(function(te){return te})){$=L,N=!1;break}T.set(L,J)}if(N)for(var ee=g?3:1,de=function(Y){var oe=y.find(function(re){var ue=T.get(re);if(ue)return ue.slice(0,Y).every(function(fe){return fe})});if(oe)return $=oe,"break"},ge=ee;ge>0;ge--){var Z=de(ge);if(Z==="break")break}e.placement!==$&&(e.modifiersData[i]._skip=!0,e.placement=$,e.reset=!0)}}var mH={name:"flip",enabled:!0,phase:"main",fn:gH,requiresIfExists:["offset"],data:{_skip:!1}};function Ax(n,e,r){return r===void 0&&(r={x:0,y:0}),{top:n.top-e.height-r.y,right:n.right-e.width+r.x,bottom:n.bottom-e.height+r.y,left:n.left-e.width-r.x}}function Ox(n){return[Yn,hr,dr,Jn].some(function(e){return n[e]>=0})}function vH(n){var e=n.state,r=n.name,i=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,a=Pc(e,{elementContext:"reference"}),l=Pc(e,{altBoundary:!0}),c=Ax(a,i),u=Ax(l,o,s),f=Ox(c),d=Ox(u);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var yH={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vH};function bH(n,e,r){var i=oi(n),o=[Jn,Yn].indexOf(i)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:n})):r,a=s[0],l=s[1];return a=a||0,l=(l||0)*o,[Jn,hr].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function _H(n){var e=n.state,r=n.options,i=n.name,o=r.offset,s=o===void 0?[0,0]:o,a=px.reduce(function(f,d){return f[d]=bH(d,e.rects,s),f},{}),l=a[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=a}var wH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_H};function EH(n){var e=n.state,r=n.name;e.modifiersData[r]=xx({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var SH={name:"popperOffsets",enabled:!0,phase:"read",fn:EH,data:{}};function kH(n){return n==="x"?"y":"x"}function CH(n){var e=n.state,r=n.options,i=n.name,o=r.mainAxis,s=o===void 0?!0:o,a=r.altAxis,l=a===void 0?!1:a,c=r.boundary,u=r.rootBoundary,f=r.altBoundary,d=r.padding,h=r.tether,p=h===void 0?!0:h,g=r.tetherOffset,v=g===void 0?0:g,w=Pc(e,{boundary:c,rootBoundary:u,padding:d,altBoundary:f}),b=oi(e.placement),S=Va(e.placement),E=!S,y=ty(b),k=kH(y),D=e.modifiersData.popperOffsets,T=e.rects.reference,N=e.rects.popper,$=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,I={x:0,y:0};if(!!D){if(s||l){var L=y==="y"?Yn:Jn,j=y==="y"?dr:hr,K=y==="y"?"height":"width",V=D[y],G=D[y]+w[L],B=D[y]-w[j],W=p?-N[K]/2:0,X=S===Ua?T[K]:N[K],J=S===Ua?-N[K]:-T[K],ee=e.elements.arrow,de=p&&ee?ey(ee):{width:0,height:0},ge=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:bx(),Z=ge[L],te=ge[j],Y=xd(0,T[K],de[K]),oe=E?T[K]/2-W-Y-Z-$:X-Y-Z-$,re=E?-T[K]/2+W+Y+te+$:J+Y+te+$,ue=e.elements.arrow&&Nc(e.elements.arrow),fe=ue?y==="y"?ue.clientTop||0:ue.clientLeft||0:0,ke=e.modifiersData.offset?e.modifiersData.offset[e.placement][y]:0,Ce=D[y]+oe-ke-fe,Se=D[y]+re-ke;if(s){var O=xd(p?Rc(G,Ce):G,V,p?ko(B,Se):B);D[y]=O,I[y]=O-V}if(l){var R=y==="x"?Yn:Jn,A=y==="x"?dr:hr,P=D[k],F=P+w[R],q=P-w[A],M=xd(p?Rc(F,Ce):F,P,p?ko(q,Se):q);D[k]=M,I[k]=M-P}}e.modifiersData[i]=I}}var xH={name:"preventOverflow",enabled:!0,phase:"main",fn:CH,requiresIfExists:["offset"]};function AH(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function OH(n){return n===Mr(n)||!pr(n)?ny(n):AH(n)}function DH(n){var e=n.getBoundingClientRect(),r=e.width/n.offsetWidth||1,i=e.height/n.offsetHeight||1;return r!==1||i!==1}function TH(n,e,r){r===void 0&&(r=!1);var i=pr(e);pr(e)&&DH(e);var o=So(e),s=Ha(n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((ii(e)!=="body"||iy(o))&&(a=OH(e)),pr(e)?(l=Ha(e),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=ry(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function MH(n){var e=new Map,r=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function o(s){r.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(l){if(!r.has(l)){var c=e.get(l);c&&o(c)}}),i.push(s)}return n.forEach(function(s){r.has(s.name)||o(s)}),i}function NH(n){var e=MH(n);return q5.reduce(function(r,i){return r.concat(e.filter(function(o){return o.phase===i}))},[])}function RH(n){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(n())})})),e}}function IH(n){var e=n.reduce(function(r,i){var o=r[i.name];return r[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var Dx={placement:"bottom",modifiers:[],strategy:"absolute"};function Tx(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function PH(n){n===void 0&&(n={});var e=n,r=e.defaultModifiers,i=r===void 0?[]:r,o=e.defaultOptions,s=o===void 0?Dx:o;return function(l,c,u){u===void 0&&(u=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dx,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},d=[],h=!1,p={state:f,setOptions:function(b){var S=typeof b=="function"?b(f.options):b;v(),f.options=Object.assign({},s,f.options,S),f.scrollParents={reference:Mc(l)?Ic(l):l.contextElement?Ic(l.contextElement):[],popper:Ic(c)};var E=NH(IH([].concat(i,f.options.modifiers)));return f.orderedModifiers=E.filter(function(y){return y.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var b=f.elements,S=b.reference,E=b.popper;if(!!Tx(S,E)){f.rects={reference:TH(S,Nc(E),f.options.strategy==="fixed"),popper:ey(E)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(I){return f.modifiersData[I.name]=Object.assign({},I.data)});for(var y=0;y<f.orderedModifiers.length;y++){if(f.reset===!0){f.reset=!1,y=-1;continue}var k=f.orderedModifiers[y],D=k.fn,T=k.options,N=T===void 0?{}:T,$=k.name;typeof D=="function"&&(f=D({state:f,options:N,name:$,instance:p})||f)}}}},update:RH(function(){return new Promise(function(w){p.forceUpdate(),w(f)})}),destroy:function(){v(),h=!0}};if(!Tx(l,c))return p;p.setOptions(u).then(function(w){!h&&u.onFirstUpdate&&u.onFirstUpdate(w)});function g(){f.orderedModifiers.forEach(function(w){var b=w.name,S=w.options,E=S===void 0?{}:S,y=w.effect;if(typeof y=="function"){var k=y({state:f,name:b,instance:p,options:E}),D=function(){};d.push(k||D)}})}function v(){d.forEach(function(w){return w()}),d=[]}return p}}var LH=[oH,SH,rH,mx,wH,mH,xH,Q5,yH],BH=PH({defaultModifiers:LH}),FH="tippy-box",Mx="tippy-content",$H="tippy-backdrop",Nx="tippy-arrow",Rx="tippy-svg-arrow",Os={passive:!0,capture:!0},Ix=function(){return document.body};function sy(n,e,r){if(Array.isArray(n)){var i=n[e];return i==null?Array.isArray(r)?r[e]:r:i}return n}function ay(n,e){var r={}.toString.call(n);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function Px(n,e){return typeof n=="function"?n.apply(void 0,e):n}function Lx(n,e){if(e===0)return n;var r;return function(i){clearTimeout(r),r=setTimeout(function(){n(i)},e)}}function zH(n){return n.split(/\s+/).filter(Boolean)}function ja(n){return[].concat(n)}function Bx(n,e){n.indexOf(e)===-1&&n.push(e)}function UH(n){return n.filter(function(e,r){return n.indexOf(e)===r})}function HH(n){return n.split("-")[0]}function Dd(n){return[].slice.call(n)}function Fx(n){return Object.keys(n).reduce(function(e,r){return n[r]!==void 0&&(e[r]=n[r]),e},{})}function Lc(){return document.createElement("div")}function Td(n){return["Element","Fragment"].some(function(e){return ay(n,e)})}function VH(n){return ay(n,"NodeList")}function jH(n){return ay(n,"MouseEvent")}function qH(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function WH(n){return Td(n)?[n]:VH(n)?Dd(n):Array.isArray(n)?n:Dd(document.querySelectorAll(n))}function ly(n,e){n.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function $x(n,e){n.forEach(function(r){r&&r.setAttribute("data-state",e)})}function KH(n){var e,r=ja(n),i=r[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function GH(n,e){var r=e.clientX,i=e.clientY;return n.every(function(o){var s=o.popperRect,a=o.popperState,l=o.props,c=l.interactiveBorder,u=HH(a.placement),f=a.modifiersData.offset;if(!f)return!0;var d=u==="bottom"?f.top.y:0,h=u==="top"?f.bottom.y:0,p=u==="right"?f.left.x:0,g=u==="left"?f.right.x:0,v=s.top-i+d>c,w=i-s.bottom-h>c,b=s.left-r+p>c,S=r-s.right-g>c;return v||w||b||S})}function cy(n,e,r){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){n[i](o,r)})}function YH(n,e){for(var r=e;r;){var i;if(n.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var si={isTouch:!1},zx=0;function JH(){si.isTouch||(si.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ux))}function Ux(){var n=performance.now();n-zx<20&&(si.isTouch=!1,document.removeEventListener("mousemove",Ux)),zx=n}function XH(){var n=document.activeElement;if(qH(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function ZH(){document.addEventListener("touchstart",JH,Os),window.addEventListener("blur",XH)}var QH=typeof window!="undefined"&&typeof document!="undefined",e4=QH?!!window.msCrypto:!1,t4={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},n4={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Nr=Object.assign({appendTo:Ix,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},t4,n4),r4=Object.keys(Nr),i4=function(e){var r=Object.keys(e);r.forEach(function(i){Nr[i]=e[i]})};function Hx(n){var e=n.plugins||[],r=e.reduce(function(i,o){var s=o.name,a=o.defaultValue;if(s){var l;i[s]=n[s]!==void 0?n[s]:(l=Nr[s])!=null?l:a}return i},{});return Object.assign({},n,r)}function o4(n,e){var r=e?Object.keys(Hx(Object.assign({},Nr,{plugins:e}))):r4,i=r.reduce(function(o,s){var a=(n.getAttribute("data-tippy-"+s)||"").trim();if(!a)return o;if(s==="content")o[s]=a;else try{o[s]=JSON.parse(a)}catch(l){o[s]=a}return o},{});return i}function Vx(n,e){var r=Object.assign({},e,{content:Px(e.content,[n])},e.ignoreAttributes?{}:o4(n,e.plugins));return r.aria=Object.assign({},Nr.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var s4=function(){return"innerHTML"};function uy(n,e){n[s4()]=e}function jx(n){var e=Lc();return n===!0?e.className=Nx:(e.className=Rx,Td(n)?e.appendChild(n):uy(e,n)),e}function qx(n,e){Td(e.content)?(uy(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?uy(n,e.content):n.textContent=e.content)}function fy(n){var e=n.firstElementChild,r=Dd(e.children);return{box:e,content:r.find(function(i){return i.classList.contains(Mx)}),arrow:r.find(function(i){return i.classList.contains(Nx)||i.classList.contains(Rx)}),backdrop:r.find(function(i){return i.classList.contains($H)})}}function Wx(n){var e=Lc(),r=Lc();r.className=FH,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=Lc();i.className=Mx,i.setAttribute("data-state","hidden"),qx(i,n.props),e.appendChild(r),r.appendChild(i),o(n.props,n.props);function o(s,a){var l=fy(e),c=l.box,u=l.content,f=l.arrow;a.theme?c.setAttribute("data-theme",a.theme):c.removeAttribute("data-theme"),typeof a.animation=="string"?c.setAttribute("data-animation",a.animation):c.removeAttribute("data-animation"),a.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?c.setAttribute("role",a.role):c.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&qx(u,n.props),a.arrow?f?s.arrow!==a.arrow&&(c.removeChild(f),c.appendChild(jx(a.arrow))):c.appendChild(jx(a.arrow)):f&&c.removeChild(f)}return{popper:e,onUpdate:o}}Wx.$$tippy=!0;var a4=1,Md=[],dy=[];function l4(n,e){var r=Vx(n,Object.assign({},Nr,Hx(Fx(e)))),i,o,s,a=!1,l=!1,c=!1,u=!1,f,d,h,p=[],g=Lx(R,r.interactiveDebounce),v,w=a4++,b=null,S=UH(r.plugins),E={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:w,reference:n,popper:Lc(),popperInstance:b,props:r,state:E,plugins:S,clearDelayTimeouts:Q,setProps:ae,setContent:ve,show:me,hide:ie,hideWithInteractivity:be,enable:H,disable:z,unmount:De,destroy:He};if(!r.render)return y;var k=r.render(y),D=k.popper,T=k.onUpdate;D.setAttribute("data-tippy-root",""),D.id="tippy-"+y.id,y.popper=D,n._tippy=y,D._tippy=y;var N=S.map(function(ne){return ne.fn(y)}),$=n.hasAttribute("aria-expanded");return Ce(),ee(),W(),X("onCreate",[y]),r.showOnCreate&&x(),D.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),D.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&V().addEventListener("mousemove",g)}),y;function I(){var ne=y.props.touch;return Array.isArray(ne)?ne:[ne,0]}function L(){return I()[0]==="hold"}function j(){var ne;return!!((ne=y.props.render)!=null&&ne.$$tippy)}function K(){return v||n}function V(){var ne=K().parentNode;return ne?KH(ne):document}function G(){return fy(D)}function B(ne){return y.state.isMounted&&!y.state.isVisible||si.isTouch||f&&f.type==="focus"?0:sy(y.props.delay,ne?0:1,Nr.delay)}function W(){D.style.pointerEvents=y.props.interactive&&y.state.isVisible?"":"none",D.style.zIndex=""+y.props.zIndex}function X(ne,Ee,xe){if(xe===void 0&&(xe=!0),N.forEach(function(Ye){Ye[ne]&&Ye[ne].apply(Ye,Ee)}),xe){var Ve;(Ve=y.props)[ne].apply(Ve,Ee)}}function J(){var ne=y.props.aria;if(!!ne.content){var Ee="aria-"+ne.content,xe=D.id,Ve=ja(y.props.triggerTarget||n);Ve.forEach(function(Ye){var pn=Ye.getAttribute(Ee);if(y.state.isVisible)Ye.setAttribute(Ee,pn?pn+" "+xe:xe);else{var nr=pn&&pn.replace(xe,"").trim();nr?Ye.setAttribute(Ee,nr):Ye.removeAttribute(Ee)}})}}function ee(){if(!($||!y.props.aria.expanded)){var ne=ja(y.props.triggerTarget||n);ne.forEach(function(Ee){y.props.interactive?Ee.setAttribute("aria-expanded",y.state.isVisible&&Ee===K()?"true":"false"):Ee.removeAttribute("aria-expanded")})}}function de(){V().removeEventListener("mousemove",g),Md=Md.filter(function(ne){return ne!==g})}function ge(ne){if(!(si.isTouch&&(c||ne.type==="mousedown"))){var Ee=ne.composedPath&&ne.composedPath()[0]||ne.target;if(!(y.props.interactive&&YH(D,Ee))){if(ja(y.props.triggerTarget||n).indexOf(Ee)!==-1){if(si.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else X("onClickOutside",[y,ne]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),l=!0,setTimeout(function(){l=!1}),y.state.isMounted||oe())}}}function Z(){c=!0}function te(){c=!1}function Y(){var ne=V();ne.addEventListener("mousedown",ge,!0),ne.addEventListener("touchend",ge,Os),ne.addEventListener("touchstart",te,Os),ne.addEventListener("touchmove",Z,Os)}function oe(){var ne=V();ne.removeEventListener("mousedown",ge,!0),ne.removeEventListener("touchend",ge,Os),ne.removeEventListener("touchstart",te,Os),ne.removeEventListener("touchmove",Z,Os)}function re(ne,Ee){fe(ne,function(){!y.state.isVisible&&D.parentNode&&D.parentNode.contains(D)&&Ee()})}function ue(ne,Ee){fe(ne,Ee)}function fe(ne,Ee){var xe=G().box;function Ve(Ye){Ye.target===xe&&(cy(xe,"remove",Ve),Ee())}if(ne===0)return Ee();cy(xe,"remove",d),cy(xe,"add",Ve),d=Ve}function ke(ne,Ee,xe){xe===void 0&&(xe=!1);var Ve=ja(y.props.triggerTarget||n);Ve.forEach(function(Ye){Ye.addEventListener(ne,Ee,xe),p.push({node:Ye,eventType:ne,handler:Ee,options:xe})})}function Ce(){L()&&(ke("touchstart",O,{passive:!0}),ke("touchend",A,{passive:!0})),zH(y.props.trigger).forEach(function(ne){if(ne!=="manual")switch(ke(ne,O),ne){case"mouseenter":ke("mouseleave",A);break;case"focus":ke(e4?"focusout":"blur",P);break;case"focusin":ke("focusout",P);break}})}function Se(){p.forEach(function(ne){var Ee=ne.node,xe=ne.eventType,Ve=ne.handler,Ye=ne.options;Ee.removeEventListener(xe,Ve,Ye)}),p=[]}function O(ne){var Ee,xe=!1;if(!(!y.state.isEnabled||F(ne)||l)){var Ve=((Ee=f)==null?void 0:Ee.type)==="focus";f=ne,v=ne.currentTarget,ee(),!y.state.isVisible&&jH(ne)&&Md.forEach(function(Ye){return Ye(ne)}),ne.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||a)&&y.props.hideOnClick!==!1&&y.state.isVisible?xe=!0:x(ne),ne.type==="click"&&(a=!xe),xe&&!Ve&&U(ne)}}function R(ne){var Ee=ne.target,xe=K().contains(Ee)||D.contains(Ee);if(!(ne.type==="mousemove"&&xe)){var Ve=C().concat(D).map(function(Ye){var pn,nr=Ye._tippy,Ks=(pn=nr.popperInstance)==null?void 0:pn.state;return Ks?{popperRect:Ye.getBoundingClientRect(),popperState:Ks,props:r}:null}).filter(Boolean);GH(Ve,ne)&&(de(),U(ne))}}function A(ne){var Ee=F(ne)||y.props.trigger.indexOf("click")>=0&&a;if(!Ee){if(y.props.interactive){y.hideWithInteractivity(ne);return}U(ne)}}function P(ne){y.props.trigger.indexOf("focusin")<0&&ne.target!==K()||y.props.interactive&&ne.relatedTarget&&D.contains(ne.relatedTarget)||U(ne)}function F(ne){return si.isTouch?L()!==ne.type.indexOf("touch")>=0:!1}function q(){M();var ne=y.props,Ee=ne.popperOptions,xe=ne.placement,Ve=ne.offset,Ye=ne.getReferenceClientRect,pn=ne.moveTransition,nr=j()?fy(D).arrow:null,Ks=Ye?{getBoundingClientRect:Ye,contextElement:Ye.contextElement||K()}:n,N0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Mu){var Gs=Mu.state;if(j()){var bN=G(),cp=bN.box;["placement","reference-hidden","escaped"].forEach(function(Nu){Nu==="placement"?cp.setAttribute("data-placement",Gs.placement):Gs.attributes.popper["data-popper-"+Nu]?cp.setAttribute("data-"+Nu,""):cp.removeAttribute("data-"+Nu)}),Gs.attributes.popper={}}}},Wo=[{name:"offset",options:{offset:Ve}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!pn}},N0];j()&&nr&&Wo.push({name:"arrow",options:{element:nr,padding:3}}),Wo.push.apply(Wo,(Ee==null?void 0:Ee.modifiers)||[]),y.popperInstance=BH(Ks,D,Object.assign({},Ee,{placement:xe,onFirstUpdate:h,modifiers:Wo}))}function M(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function m(){var ne=y.props.appendTo,Ee,xe=K();y.props.interactive&&ne===Ix||ne==="parent"?Ee=xe.parentNode:Ee=Px(ne,[xe]),Ee.contains(D)||Ee.appendChild(D),q()}function C(){return Dd(D.querySelectorAll("[data-tippy-root]"))}function x(ne){y.clearDelayTimeouts(),ne&&X("onTrigger",[y,ne]),Y();var Ee=B(!0),xe=I(),Ve=xe[0],Ye=xe[1];si.isTouch&&Ve==="hold"&&Ye&&(Ee=Ye),Ee?i=setTimeout(function(){y.show()},Ee):y.show()}function U(ne){if(y.clearDelayTimeouts(),X("onUntrigger",[y,ne]),!y.state.isVisible){oe();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ne.type)>=0&&a)){var Ee=B(!1);Ee?o=setTimeout(function(){y.state.isVisible&&y.hide()},Ee):s=requestAnimationFrame(function(){y.hide()})}}function H(){y.state.isEnabled=!0}function z(){y.hide(),y.state.isEnabled=!1}function Q(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(s)}function ae(ne){if(!y.state.isDestroyed){X("onBeforeUpdate",[y,ne]),Se();var Ee=y.props,xe=Vx(n,Object.assign({},Ee,Fx(ne),{ignoreAttributes:!0}));y.props=xe,Ce(),Ee.interactiveDebounce!==xe.interactiveDebounce&&(de(),g=Lx(R,xe.interactiveDebounce)),Ee.triggerTarget&&!xe.triggerTarget?ja(Ee.triggerTarget).forEach(function(Ve){Ve.removeAttribute("aria-expanded")}):xe.triggerTarget&&n.removeAttribute("aria-expanded"),ee(),W(),T&&T(Ee,xe),y.popperInstance&&(q(),C().forEach(function(Ve){requestAnimationFrame(Ve._tippy.popperInstance.forceUpdate)})),X("onAfterUpdate",[y,ne])}}function ve(ne){y.setProps({content:ne})}function me(){var ne=y.state.isVisible,Ee=y.state.isDestroyed,xe=!y.state.isEnabled,Ve=si.isTouch&&!y.props.touch,Ye=sy(y.props.duration,0,Nr.duration);if(!(ne||Ee||xe||Ve)&&!K().hasAttribute("disabled")&&(X("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,j()&&(D.style.visibility="visible"),W(),Y(),y.state.isMounted||(D.style.transition="none"),j()){var pn=G(),nr=pn.box,Ks=pn.content;ly([nr,Ks],0)}h=function(){var Wo;if(!(!y.state.isVisible||u)){if(u=!0,D.offsetHeight,D.style.transition=y.props.moveTransition,j()&&y.props.animation){var lp=G(),Mu=lp.box,Gs=lp.content;ly([Mu,Gs],Ye),$x([Mu,Gs],"visible")}J(),ee(),Bx(dy,y),(Wo=y.popperInstance)==null||Wo.forceUpdate(),y.state.isMounted=!0,X("onMount",[y]),y.props.animation&&j()&&ue(Ye,function(){y.state.isShown=!0,X("onShown",[y])})}},m()}}function ie(){var ne=!y.state.isVisible,Ee=y.state.isDestroyed,xe=!y.state.isEnabled,Ve=sy(y.props.duration,1,Nr.duration);if(!(ne||Ee||xe)&&(X("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,u=!1,a=!1,j()&&(D.style.visibility="hidden"),de(),oe(),W(),j()){var Ye=G(),pn=Ye.box,nr=Ye.content;y.props.animation&&(ly([pn,nr],Ve),$x([pn,nr],"hidden"))}J(),ee(),y.props.animation?j()&&re(Ve,y.unmount):y.unmount()}}function be(ne){V().addEventListener("mousemove",g),Bx(Md,g),g(ne)}function De(){y.state.isVisible&&y.hide(),!!y.state.isMounted&&(M(),C().forEach(function(ne){ne._tippy.unmount()}),D.parentNode&&D.parentNode.removeChild(D),dy=dy.filter(function(ne){return ne!==y}),y.state.isMounted=!1,X("onHidden",[y]))}function He(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),Se(),delete n._tippy,y.state.isDestroyed=!0,X("onDestroy",[y]))}}function qa(n,e){e===void 0&&(e={});var r=Nr.plugins.concat(e.plugins||[]);ZH();var i=Object.assign({},e,{plugins:r}),o=WH(n),s=o.reduce(function(a,l){var c=l&&l4(l,i);return c&&a.push(c),a},[]);return Td(n)?s[0]:s}qa.defaultProps=Nr;qa.setDefaultProps=i4;qa.currentInput=si;Object.assign({},mx,{effect:function(e){var r=e.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}});qa.setDefaultProps({render:Wx});class c4{constructor({editor:e,element:r,view:i,tippyOptions:o={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({state:a,from:l,to:c})=>{const{doc:u,selection:f}=a,{empty:d}=f,h=!u.textBetween(l,c).length&&QC(a.selection);return!(d||h)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}(a==null?void 0:a.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(a.relatedTarget))||this.hide()},this.editor=e,this.element=r,this.view=i,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,r=!!e.parentElement;this.tippy||!r||(this.tippy=qa(e,ce({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)))}update(e,r){var i,o;const{state:s,composing:a}=e,{doc:l,selection:c}=s,u=r&&r.doc.eq(l)&&r.selection.eq(c);if(a||u)return;this.createTooltip();const{ranges:f}=c,d=Math.min(...f.map(g=>g.$from.pos)),h=Math.max(...f.map(g=>g.$to.pos));if(!((i=this.shouldShow)===null||i===void 0?void 0:i.call(this,{editor:this.editor,view:e,state:s,oldState:r,from:d,to:h}))){this.hide();return}(o=this.tippy)===null||o===void 0||o.setProps({getReferenceClientRect:()=>{if(R5(s.selection)){const g=e.nodeDOM(d);if(g)return g.getBoundingClientRect()}return fx(e,d,h)}}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Kx=n=>new bt({key:typeof n.pluginKey=="string"?new It(n.pluginKey):n.pluginKey,view:e=>new c4(ce({view:e},n))});Pt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Kx({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class u4{constructor({editor:e,element:r,view:i,tippyOptions:o={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({state:a})=>{const{selection:l}=a,{$anchor:c,empty:u}=l,f=c.depth===1,d=c.parent.isTextblock&&!c.parent.type.spec.code&&!c.parent.textContent;return!(!u||!f||!d)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}(a==null?void 0:a.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(a.relatedTarget))||this.hide()},this.editor=e,this.element=r,this.view=i,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,r=!!e.parentElement;this.tippy||!r||(this.tippy=qa(e,ce({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle"},this.tippyOptions)))}update(e,r){var i,o;const{state:s,composing:a}=e,{doc:l,selection:c}=s,{from:u,to:f}=c,d=r&&r.doc.eq(l)&&r.selection.eq(c);if(a||d)return;if(this.createTooltip(),!((i=this.shouldShow)===null||i===void 0?void 0:i.call(this,{editor:this.editor,view:e,state:s,oldState:r}))){this.hide();return}(o=this.tippy)===null||o===void 0||o.setProps({getReferenceClientRect:()=>fx(e,u,f)}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Gx=n=>new bt({key:typeof n.pluginKey=="string"?new It(n.pluginKey):n.pluginKey,view:e=>new u4(ce({view:e},n))});Pt.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Gx({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});Ne({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(n,{slots:e}){const r=le(null);return Er(()=>{const{pluginKey:i,editor:o,tippyOptions:s,shouldShow:a}=n;o.registerPlugin(Kx({pluginKey:i,editor:o,element:r.value,tippyOptions:s,shouldShow:a}))}),Xu(()=>{const{pluginKey:i,editor:o}=n;o.unregisterPlugin(i)}),()=>{var i;return rt("div",{ref:r},(i=e.default)===null||i===void 0?void 0:i.call(e))}}});function Yx(n){return h_((e,r)=>({get(){return e(),n},set(i){n=i,requestAnimationFrame(()=>{requestAnimationFrame(()=>{r()})})}}))}class Ene extends N5{constructor(e={}){super(e);return this.vueRenderers=qe(new Map),this.contentComponent=null,this.reactiveState=Yx(this.view.state),this.reactiveExtensionStorage=Yx(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),Gu(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,r){super.registerPlugin(e,r),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const Sne=Ne({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(n){const e=le(),r=H_();return $n(()=>{const i=n.editor;i&&i.options.element&&e.value&&Nl(()=>{if(!e.value||!i.options.element.firstChild)return;const o=$t(e.value);e.value.append(...i.options.element.childNodes),i.contentComponent=r.ctx._,i.setOptions({element:o}),i.createNodeViews()})}),Xu(()=>{const i=n.editor;if(!i||(i.isDestroyed||i.view.setProps({nodeViews:{}}),i.contentComponent=null,!i.options.element.firstChild))return;const o=document.createElement("div");o.append(...i.options.element.childNodes),i.setOptions({element:o})}),{rootEl:e}},render(){const n=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const r=rt(P_,{to:e.teleportElement,key:e.id},rt(e.component,ce({ref:e.id},e.props)));n.push(r)}),rt("div",{ref:e=>{this.rootEl=e}},...n)}});Ne({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(n,{slots:e}){const r=le(null);return Er(()=>{const{pluginKey:i,editor:o,tippyOptions:s,shouldShow:a}=n;o.registerPlugin(Gx({pluginKey:i,editor:o,element:r.value,tippyOptions:s,shouldShow:a}))}),Xu(()=>{const{pluginKey:i,editor:o}=n;o.unregisterPlugin(i)}),()=>{var i;return rt("div",{ref:r},(i=e.default)===null||i===void 0?void 0:i.call(e))}}});class kne{constructor(e,{props:r={},editor:i}){if(this.id=Math.floor(Math.random()*4294967295).toString(),this.editor=i,this.component=Gu(e),this.teleportElement=document.createElement("div"),this.element=this.teleportElement,this.props=qe(r),this.editor.vueRenderers.set(this.id,this),this.editor.contentComponent){if(this.editor.contentComponent.update(),this.teleportElement.children.length!==1)throw Error("VueRenderer doesn\u2019t support multiple child elements.");this.element=this.teleportElement.firstElementChild}}get ref(){var e;return(e=this.editor.contentComponent)===null||e===void 0?void 0:e.refs[this.id]}updateProps(e={}){Object.entries(e).forEach(([r,i])=>{this.props[r]=i})}destroy(){this.editor.vueRenderers.delete(this.id)}}Ne({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var n,e;return rt(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(n=this.$slots).default)===null||e===void 0?void 0:e.call(n))}});Ne({props:{as:{type:String,default:"div"}},render(){return rt(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});var Cne="/assets/remixicon.symbol.d4b9d612.svg";const f4=/^\s*>\s$/,d4=Vt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block*",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn("blockquote"),toggleBlockquote:()=>({commands:n})=>n.toggleWrap("blockquote"),unsetBlockquote:()=>({commands:n})=>n.lift("blockquote")}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Sd({find:f4,type:this.type})]}}),h4=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,p4=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,g4=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,m4=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,v4=fr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark("bold"),toggleBold:()=>({commands:n})=>n.toggleMark("bold"),unsetBold:()=>({commands:n})=>n.unsetMark("bold")}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold()}},addInputRules(){return[As({find:h4,type:this.type}),As({find:g4,type:this.type})]},addPasteRules(){return[Eo({find:p4,type:this.type}),Eo({find:m4,type:this.type})]}}),y4=/^\s*([-+*])\s$/,b4=Vt.create({name:"bulletList",addOptions(){return{HTMLAttributes:{}}},group:"block list",content:"listItem+",parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n})=>n.toggleList("bulletList","listItem")}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[Sd({find:y4,type:this.type})]}}),_4=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,w4=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,E4=fr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark("code"),toggleCode:()=>({commands:n})=>n.toggleMark("code"),unsetCode:()=>({commands:n})=>n.unsetMark("code")}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[As({find:_4,type:this.type})]},addPasteRules(){return[Eo({find:w4,type:this.type})]}}),S4=/^```(?<language>[a-z]*)?[\s\n]$/,k4=/^~~~(?<language>[a-z]*)?[\s\n]$/,C4=Vt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:n=>{var e;const{languageClassPrefix:r}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return s||null},renderHTML:n=>n.language?{class:this.options.languageClassPrefix+n.language}:null}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:n}){return["pre",this.options.HTMLAttributes,["code",n,0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode("codeBlock",n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode("codeBlock","paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!n||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1}}},addInputRules(){return[Ac({find:S4,type:this.type,getAttributes:({groups:n})=>n}),Ac({find:k4,type:this.type,getAttributes:({groups:n})=>n})]},addProseMirrorPlugins(){return[new bt({key:new It("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,s=o==null?void 0:o.mode;if(!r||!s)return!1;const{tr:a}=n.state;return a.replaceSelectionWith(this.type.create({language:s})),a.setSelection(Pe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(r.replace(/\r\n?/g,`
`)),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),x4=Vt.create({name:"doc",topNode:!0,content:"block+"});function A4(n){return n===void 0&&(n={}),new bt({view:function(r){return new ai(r,n)}})}var ai=function(e,r){var i=this;this.editorView=e,this.width=r.width||1,this.color=r.color||"black",this.class=r.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(o){var s=function(a){return i[o](a)};return e.dom.addEventListener(o,s),{name:o,handler:s}})};ai.prototype.destroy=function(){var e=this;this.handlers.forEach(function(r){var i=r.name,o=r.handler;return e.editorView.dom.removeEventListener(i,o)})};ai.prototype.update=function(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())};ai.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())};ai.prototype.updateOverlay=function(){var e=this.editorView.state.doc.resolve(this.cursorPos),r;if(!e.parent.inlineContent){var i=e.nodeBefore,o=e.nodeAfter;if(i||o){var s=this.editorView.nodeDOM(this.cursorPos-(i?i.nodeSize:0)).getBoundingClientRect(),a=i?s.bottom:s.top;i&&o&&(a=(a+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:s.left,right:s.right,top:a-this.width/2,bottom:a+this.width/2}}}if(!r){var l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}var c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var u,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,f=-pageYOffset;else{var d=c.getBoundingClientRect();u=d.left-c.scrollLeft,f=d.top-c.scrollTop}this.element.style.left=r.left-u+"px",this.element.style.top=r.top-f+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"};ai.prototype.scheduleRemoval=function(e){var r=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return r.setCursor(null)},e)};ai.prototype.dragover=function(e){if(!!this.editorView.editable){var r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(r){var i=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(i=Jm(this.editorView.state.doc,i,this.editorView.dragging.slice),i==null))return this.setCursor(null);this.setCursor(i),this.scheduleRemoval(5e3)}}};ai.prototype.dragend=function(){this.scheduleRemoval(20)};ai.prototype.drop=function(){this.scheduleRemoval(20)};ai.prototype.dragleave=function(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)};const O4=Pt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:null}},addProseMirrorPlugins(){return[A4(this.options)]}});var D4=typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1;function T4(n){var e=n.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");for(var i,o,s,a,l=0;l<e.length-1;l++){var c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))D4?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function M4(n){var e=Object.create(null);for(var r in n)e[T4(r)]=n[r];return e}function hy(n,e,r){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),r!==!1&&e.shiftKey&&(n="Shift-"+n),n}function N4(n){var e=M4(n);return function(r,i){var o=GC(i),s=o.length==1&&o!=" ",a,l=e[hy(o,i,!s)];if(l&&l(r.state,r.dispatch,r))return!0;if(s&&(i.shiftKey||i.altKey||i.metaKey||o.charCodeAt(0)>127)&&(a=Pi[i.keyCode])&&a!=o){var c=e[hy(a,i,!0)];if(c&&c(r.state,r.dispatch,r))return!0}else if(s&&i.shiftKey){var u=e[hy(o,i,!0)];if(u&&u(r.state,r.dispatch,r))return!0}return!1}}var pe={};if(typeof navigator!="undefined"&&typeof document!="undefined"){var py=/Edge\/(\d+)/.exec(navigator.userAgent),Jx=/MSIE \d/.test(navigator.userAgent),gy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);pe.mac=/Mac/.test(navigator.platform);var my=pe.ie=!!(Jx||gy||py);pe.ie_version=Jx?document.documentMode||6:gy?+gy[1]:py?+py[1]:null,pe.gecko=!my&&/gecko\/(\d+)/i.test(navigator.userAgent),pe.gecko_version=pe.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var vy=!my&&/Chrome\/(\d+)/.exec(navigator.userAgent);pe.chrome=!!vy,pe.chrome_version=vy&&+vy[1],pe.safari=!my&&/Apple Computer/.test(navigator.vendor),pe.ios=pe.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),pe.android=/Android \d/.test(navigator.userAgent),pe.webkit="webkitFontSmoothing"in document.documentElement.style,pe.webkit_version=pe.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Xn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},yy=function(n){var e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e},Xx=null,Bi=function(n,e,r){var i=Xx||(Xx=document.createRange());return i.setEnd(n,r==null?n.nodeValue.length:r),i.setStart(n,e||0),i},Nd=function(n,e,r,i){return r&&(Zx(n,e,r,i,-1)||Zx(n,e,r,i,1))},R4=/^(img|br|input|textarea|hr)$/i;function Zx(n,e,r,i,o){for(;;){if(n==r&&e==i)return!0;if(e==(o<0?0:li(n))){var s=n.parentNode;if(s.nodeType!=1||P4(n)||R4.test(n.nodeName)||n.contentEditable=="false")return!1;e=Xn(n)+(o<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(o<0?-1:0)],n.contentEditable=="false")return!1;e=o<0?li(n):0}else return!1}}function li(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function I4(n,e,r){for(var i=e==0,o=e==li(n);i||o;){if(n==r)return!0;var s=Xn(n);if(n=n.parentNode,!n)return!1;i=i&&s==0,o=o&&s==li(n)}}function P4(n){for(var e,r=n;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}var by=function(n){var e=n.isCollapsed;return e&&pe.chrome&&n.rangeCount&&!n.getRangeAt(0).collapsed&&(e=!1),e};function Wa(n,e){var r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=n,r.key=r.code=e,r}function L4(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Co(n,e){return typeof n=="number"?n:n[e]}function B4(n){var e=n.getBoundingClientRect(),r=e.width/n.offsetWidth||1,i=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*r,top:e.top,bottom:e.top+n.clientHeight*i}}function Qx(n,e,r){for(var i=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument,a=r||n.dom;a;a=yy(a))if(a.nodeType==1){var l=a==s.body||a.nodeType!=1,c=l?L4(s):B4(a),u=0,f=0;if(e.top<c.top+Co(i,"top")?f=-(c.top-e.top+Co(o,"top")):e.bottom>c.bottom-Co(i,"bottom")&&(f=e.bottom-c.bottom+Co(o,"bottom")),e.left<c.left+Co(i,"left")?u=-(c.left-e.left+Co(o,"left")):e.right>c.right-Co(i,"right")&&(u=e.right-c.right+Co(o,"right")),u||f)if(l)s.defaultView.scrollBy(u,f);else{var d=a.scrollLeft,h=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);var p=a.scrollLeft-d,g=a.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l)break}}function F4(n){for(var e=n.dom.getBoundingClientRect(),r=Math.max(0,e.top),i,o,s=(e.left+e.right)/2,a=r+1;a<Math.min(innerHeight,e.bottom);a+=5){var l=n.root.elementFromPoint(s,a);if(!(l==n.dom||!n.dom.contains(l))){var c=l.getBoundingClientRect();if(c.top>=r-20){i=l,o=c.top;break}}}return{refDOM:i,refTop:o,stack:eA(n.dom)}}function eA(n){for(var e=[],r=n.ownerDocument;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),n!=r);n=yy(n));return e}function $4(n){var e=n.refDOM,r=n.refTop,i=n.stack,o=e?e.getBoundingClientRect().top:0;tA(i,o==0?0:o-r)}function tA(n,e){for(var r=0;r<n.length;r++){var i=n[r],o=i.dom,s=i.top,a=i.left;o.scrollTop!=s+e&&(o.scrollTop=s+e),o.scrollLeft!=a&&(o.scrollLeft=a)}}var Ka=null;function z4(n){if(n.setActive)return n.setActive();if(Ka)return n.focus(Ka);var e=eA(n);n.focus(Ka==null?{get preventScroll(){return Ka={preventScroll:!0},!0}}:void 0),Ka||(Ka=!1,tA(e,0))}function nA(n,e){for(var r,i=2e8,o,s=0,a=e.top,l=e.top,c=n.firstChild,u=0;c;c=c.nextSibling,u++){var f=void 0;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Bi(c).getClientRects();else continue;for(var d=0;d<f.length;d++){var h=f[d];if(h.top<=a&&h.bottom>=l){a=Math.max(h.bottom,a),l=Math.min(h.top,l);var p=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(p<i){r=c,i=p,o=p&&r.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&p&&(s=u+(e.left>=(h.left+h.right)/2?1:0));continue}}!r&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=u+1)}}return r&&r.nodeType==3?U4(r,o):!r||i&&r.nodeType==1?{node:n,offset:s}:nA(r,o)}function U4(n,e){for(var r=n.nodeValue.length,i=document.createRange(),o=0;o<r;o++){i.setEnd(n,o+1),i.setStart(n,o);var s=xo(i,1);if(s.top!=s.bottom&&_y(e,s))return{node:n,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function _y(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function H4(n,e){var r=n.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<n.getBoundingClientRect().left?r:n}function V4(n,e,r){var i=nA(e,r),o=i.node,s=i.offset,a=-1;if(o.nodeType==1&&!o.firstChild){var l=o.getBoundingClientRect();a=l.left!=l.right&&r.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(o,s,a)}function j4(n,e,r,i){for(var o=-1,s=e;s!=n.dom;){var a=n.docView.nearestDesc(s,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var l=a.dom.getBoundingClientRect();if(l.left>i.left||l.top>i.top)o=a.posBefore;else if(l.right<i.left||l.bottom<i.top)o=a.posAfter;else break}s=a.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,r)}function rA(n,e,r){var i=n.childNodes.length;if(i&&r.top<r.bottom)for(var o=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-r.top)/(r.bottom-r.top))-2)),s=o;;){var a=n.childNodes[s];if(a.nodeType==1)for(var l=a.getClientRects(),c=0;c<l.length;c++){var u=l[c];if(_y(e,u))return rA(a,e,u)}if((s=(s+1)%i)==o)break}return n}function q4(n,e){var r,i,o=n.dom.ownerDocument,s,a;if(o.caretPositionFromPoint)try{var l=o.caretPositionFromPoint(e.left,e.top);l&&(r=l,s=r.offsetNode,a=r.offset)}catch(w){}if(!s&&o.caretRangeFromPoint){var c=o.caretRangeFromPoint(e.left,e.top);c&&(i=c,s=i.startContainer,a=i.startOffset)}var u=(n.root.elementFromPoint?n.root:o).elementFromPoint(e.left,e.top+1),f;if(!u||!n.dom.contains(u.nodeType!=1?u.parentNode:u)){var d=n.dom.getBoundingClientRect();if(!_y(e,d)||(u=rA(n.dom,e,d),!u))return null}if(pe.safari)for(var h=u;s&&h;h=yy(h))h.draggable&&(s=a=null);if(u=H4(u,e),s){if(pe.gecko&&s.nodeType==1&&(a=Math.min(a,s.childNodes.length),a<s.childNodes.length)){var p=s.childNodes[a],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&a++}s==n.dom&&a==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?f=n.state.doc.content.size:(a==0||s.nodeType!=1||s.childNodes[a-1].nodeName!="BR")&&(f=j4(n,s,a,e))}f==null&&(f=V4(n,u,e));var v=n.docView.nearestDesc(u,!0);return{pos:f,inside:v?v.posAtStart-v.border:-1}}function xo(n,e){var r=n.getClientRects();return r.length?r[e<0?0:r.length-1]:n.getBoundingClientRect()}var W4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function iA(n,e,r){var i=n.docView.domFromPos(e,r<0?-1:1),o=i.node,s=i.offset,a=pe.webkit||pe.gecko;if(o.nodeType==3)if(a&&(W4.test(o.nodeValue)||(r<0?!s:s==o.nodeValue.length))){var l=xo(Bi(o,s,s),r);if(pe.gecko&&s&&/\s/.test(o.nodeValue[s-1])&&s<o.nodeValue.length){var c=xo(Bi(o,s-1,s-1),-1);if(c.top==l.top){var u=xo(Bi(o,s,s+1),-1);if(u.top!=l.top)return Bc(u,u.left<c.left)}}return l}else{var f=s,d=s,h=r<0?1:-1;return r<0&&!s?(d++,h=-1):r>=0&&s==o.nodeValue.length?(f--,h=1):r<0?f--:d++,Bc(xo(Bi(o,f,d),h),h<0)}if(!n.state.doc.resolve(e).parent.inlineContent){if(s&&(r<0||s==li(o))){var p=o.childNodes[s-1];if(p.nodeType==1)return wy(p.getBoundingClientRect(),!1)}if(s<li(o)){var g=o.childNodes[s];if(g.nodeType==1)return wy(g.getBoundingClientRect(),!0)}return wy(o.getBoundingClientRect(),r>=0)}if(s&&(r<0||s==li(o))){var v=o.childNodes[s-1],w=v.nodeType==3?Bi(v,li(v)-(a?0:1)):v.nodeType==1&&(v.nodeName!="BR"||!v.nextSibling)?v:null;if(w)return Bc(xo(w,1),!1)}if(s<li(o)){for(var b=o.childNodes[s];b.pmViewDesc&&b.pmViewDesc.ignoreForCoords;)b=b.nextSibling;var S=b?b.nodeType==3?Bi(b,0,a?0:1):b.nodeType==1?b:null:null;if(S)return Bc(xo(S,-1),!0)}return Bc(xo(o.nodeType==3?Bi(o):o,-r),r>=0)}function Bc(n,e){if(n.width==0)return n;var r=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:r,right:r}}function wy(n,e){if(n.height==0)return n;var r=e?n.top:n.bottom;return{top:r,bottom:r,left:n.left,right:n.right}}function oA(n,e,r){var i=n.state,o=n.root.activeElement;i!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return r()}finally{i!=e&&n.updateState(i),o!=n.dom&&o&&o.focus()}}function K4(n,e,r){var i=e.selection,o=r=="up"?i.$from:i.$to;return oA(n,e,function(){for(var s=n.docView.domFromPos(o.pos,r=="up"?-1:1),a=s.node;;){var l=n.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.dom;break}a=l.dom.parentNode}for(var c=iA(n,o.pos,1),u=a.firstChild;u;u=u.nextSibling){var f=void 0;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Bi(u,0,u.nodeValue.length).getClientRects();else continue;for(var d=0;d<f.length;d++){var h=f[d];if(h.bottom>h.top+1&&(r=="up"?c.top-h.top>(h.bottom-c.top)*2:h.bottom-c.bottom>(c.bottom-h.top)*2))return!1}}return!0})}var G4=/[\u0590-\u08ac]/;function Y4(n,e,r){var i=e.selection,o=i.$head;if(!o.parent.isTextblock)return!1;var s=o.parentOffset,a=!s,l=s==o.parent.content.size,c=n.root.getSelection();return!G4.test(o.parent.textContent)||!c.modify?r=="left"||r=="backward"?a:l:oA(n,e,function(){var u=c.getRangeAt(0),f=c.focusNode,d=c.focusOffset,h=c.caretBidiLevel;c.modify("move",r,"character");var p=o.depth?n.docView.domAfterPos(o.before()):n.dom,g=!p.contains(c.focusNode.nodeType==1?c.focusNode:c.focusNode.parentNode)||f==c.focusNode&&d==c.focusOffset;return c.removeAllRanges(),c.addRange(u),h!=null&&(c.caretBidiLevel=h),g})}var sA=null,aA=null,lA=!1;function J4(n,e,r){return sA==e&&aA==r?lA:(sA=e,aA=r,lA=r=="up"||r=="down"?K4(n,e,r):Y4(n,e,r))}var Rr=0,cA=1,Fc=2,Ao=3,ct=function(e,r,i,o){this.parent=e,this.children=r,this.dom=i,i.pmViewDesc=this,this.contentDOM=o,this.dirty=Rr},ci={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};ct.prototype.matchesWidget=function(){return!1};ct.prototype.matchesMark=function(){return!1};ct.prototype.matchesNode=function(){return!1};ct.prototype.matchesHack=function(e){return!1};ct.prototype.parseRule=function(){return null};ct.prototype.stopEvent=function(){return!1};ci.size.get=function(){for(var n=0,e=0;e<this.children.length;e++)n+=this.children[e].size;return n};ci.border.get=function(){return 0};ct.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()};ct.prototype.posBeforeChild=function(e){for(var r=0,i=this.posAtStart;r<this.children.length;r++){var o=this.children[r];if(o==e)return i;i+=o.size}};ci.posBefore.get=function(){return this.parent.posBeforeChild(this)};ci.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0};ci.posAfter.get=function(){return this.posBefore+this.size};ci.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border};ct.prototype.localPosFromDOM=function(e,r,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){var o,s;if(e==this.contentDOM)o=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{var a,l;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(l):this.posAtEnd}var c;if(e==this.dom&&this.contentDOM)c=r>Xn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))c=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(var u=e;;u=u.parentNode){if(u==this.dom){c=!1;break}if(u.parentNode.firstChild!=u)break}if(c==null&&r==e.childNodes.length)for(var f=e;;f=f.parentNode){if(f==this.dom){c=!0;break}if(f.parentNode.lastChild!=f)break}}return(c==null?i>0:c)?this.posAtEnd:this.posAtStart};ct.prototype.nearestDesc=function(e,r){for(var i=!0,o=e;o;o=o.parentNode){var s=this.getDesc(o);if(s&&(!r||s.node))if(i&&s.nodeDOM&&!(s.nodeDOM.nodeType==1?s.nodeDOM.contains(e.nodeType==1?e:e.parentNode):s.nodeDOM==e))i=!1;else return s}};ct.prototype.getDesc=function(e){for(var r=e.pmViewDesc,i=r;i;i=i.parent)if(i==this)return r};ct.prototype.posFromDOM=function(e,r,i){for(var o=e;o;o=o.parentNode){var s=this.getDesc(o);if(s)return s.localPosFromDOM(e,r,i)}return-1};ct.prototype.descAt=function(e){for(var r=0,i=0;r<this.children.length;r++){var o=this.children[r],s=i+o.size;if(i==e&&s!=i){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<s)return o.descAt(e-i-o.border);i=s}};ct.prototype.domFromPos=function(e,r){if(!this.contentDOM)return{node:this.dom,offset:0};for(var i=0,o=0,s=0;i<this.children.length;i++){var a=this.children[i],l=s+a.size;if(l>e||a instanceof hA){o=e-s;break}s=l}if(o)return this.children[i].domFromPos(o-this.children[i].border,r);for(var c=void 0;i&&!(c=this.children[i-1]).size&&c instanceof uA&&c.widget.type.side>=0;i--);if(r<=0){for(var u,f=!0;u=i?this.children[i-1]:null,!(!u||u.dom.parentNode==this.contentDOM);i--,f=!1);return u&&r&&f&&!u.border&&!u.domAtom?u.domFromPos(u.size,r):{node:this.contentDOM,offset:u?Xn(u.dom)+1:0}}else{for(var d,h=!0;d=i<this.children.length?this.children[i]:null,!(!d||d.dom.parentNode==this.contentDOM);i++,h=!1);return d&&h&&!d.border&&!d.domAtom?d.domFromPos(0,r):{node:this.contentDOM,offset:d?Xn(d.dom):this.contentDOM.childNodes.length}}};ct.prototype.parseRange=function(e,r,i){if(i===void 0&&(i=0),this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,s=-1,a=i,l=0;;l++){var c=this.children[l],u=a+c.size;if(o==-1&&e<=u){var f=a+c.border;if(e>=f&&r<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,f);e=a;for(var d=l;d>0;d--){var h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){o=Xn(h.dom)+1;break}e-=h.size}o==-1&&(o=0)}if(o>-1&&(u>r||l==this.children.length-1)){r=u;for(var p=l+1;p<this.children.length;p++){var g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){s=Xn(g.dom);break}r+=g.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:r,fromOffset:o,toOffset:s}};ct.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)};ct.prototype.domAfterPos=function(e){var r=this.domFromPos(e,0),i=r.node,o=r.offset;if(i.nodeType!=1||o==i.childNodes.length)throw new RangeError("No node after pos "+e);return i.childNodes[o]};ct.prototype.setSelection=function(e,r,i,o){for(var s=Math.min(e,r),a=Math.max(e,r),l=0,c=0;l<this.children.length;l++){var u=this.children[l],f=c+u.size;if(s>c&&a<f)return u.setSelection(e-c-u.border,r-c-u.border,i,o);c=f}var d=this.domFromPos(e,e?-1:1),h=r==e?d:this.domFromPos(r,r?-1:1),p=i.getSelection(),g=!1;if((pe.gecko||pe.safari)&&e==r){var v=d.node,w=d.offset;if(v.nodeType==3){if(g=w&&v.nodeValue[w-1]==`
`,g&&w==v.nodeValue.length)for(var b=v,S=void 0;b;b=b.parentNode){if(S=b.nextSibling){S.nodeName=="BR"&&(d=h={node:S.parentNode,offset:Xn(S)+1});break}var E=b.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{var y=v.childNodes[w-1];g=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(pe.gecko&&p.focusNode&&p.focusNode!=h.node&&p.focusNode.nodeType==1){var k=p.focusNode.childNodes[p.focusOffset];k&&k.contentEditable=="false"&&(o=!0)}if(!(!(o||g&&pe.safari)&&Nd(d.node,d.offset,p.anchorNode,p.anchorOffset)&&Nd(h.node,h.offset,p.focusNode,p.focusOffset))){var D=!1;if((p.extend||e==r)&&!g){p.collapse(d.node,d.offset);try{e!=r&&p.extend(h.node,h.offset),D=!0}catch($){if(!($ instanceof DOMException))throw $}}if(!D){if(e>r){var T=d;d=h,h=T}var N=document.createRange();N.setEnd(h.node,h.offset),N.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(N)}}};ct.prototype.ignoreMutation=function(e){return!this.contentDOM&&e.type!="selection"};ci.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)};ct.prototype.markDirty=function(e,r){for(var i=0,o=0;o<this.children.length;o++){var s=this.children[o],a=i+s.size;if(i==a?e<=a&&r>=i:e<a&&r>i){var l=i+s.border,c=a-s.border;if(e>=l&&r<=c){this.dirty=e==i||r==a?Fc:cA,e==l&&r==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ao:s.markDirty(e-l,r-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM?Fc:Ao}i=a}this.dirty=Fc};ct.prototype.markParentsDirty=function(){for(var e=1,r=this.parent;r;r=r.parent,e++){var i=e==1?Fc:cA;r.dirty<i&&(r.dirty=i)}};ci.domAtom.get=function(){return!1};ci.ignoreForCoords.get=function(){return!1};Object.defineProperties(ct.prototype,ci);var Oo=[],uA=function(n){function e(i,o,s,a){var l,c=o.type.toDOM;if(typeof c=="function"&&(c=c(s,function(){if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!o.type.spec.raw){if(c.nodeType!=1){var u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable=!1,c.classList.add("ProseMirror-widget")}n.call(this,i,Oo,c,null),this.widget=o,l=this}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(o){return this.dirty==Rr&&o.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(o){var s=this.widget.spec.stopEvent;return s?s(o):!1},e.prototype.ignoreMutation=function(o){return o.type!="selection"||this.widget.spec.ignoreSelection},r.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,r),e}(ct),X4=function(n){function e(i,o,s,a){n.call(this,i,Oo,o,null),this.textDOM=s,this.text=a}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={size:{configurable:!0}};return r.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(o,s){return o!=this.textDOM?this.posAtStart+(s?this.size:0):this.posAtStart+s},e.prototype.domFromPos=function(o){return{node:this.textDOM,offset:o}},e.prototype.ignoreMutation=function(o){return o.type==="characterData"&&o.target.nodeValue==o.oldValue},Object.defineProperties(e.prototype,r),e}(ct),Ey=function(n){function e(r,i,o,s){n.call(this,r,[],o,s),this.mark=i}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.create=function(i,o,s,a){var l=a.nodeViews[o.type.name],c=l&&l(o,a,s);return(!c||!c.dom)&&(c=xt.renderSpec(document,o.type.spec.toDOM(o,s))),new e(i,o,c.dom,c.contentDOM||c.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(i){return this.dirty!=Ao&&this.mark.eq(i)},e.prototype.markDirty=function(i,o){if(n.prototype.markDirty.call(this,i,o),this.dirty!=Rr){for(var s=this.parent;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Rr}},e.prototype.slice=function(i,o,s){var a=e.create(this.parent,this.mark,!0,s),l=this.children,c=this.size;o<c&&(l=Cy(l,o,c,s)),i>0&&(l=Cy(l,0,i,s));for(var u=0;u<l.length;u++)l[u].parent=a;return a.children=l,a},e}(ct),$c=function(n){function e(i,o,s,a,l,c,u,f,d){n.call(this,i,o.isLeaf?Oo:[],l,c),this.nodeDOM=u,this.node=o,this.outerDeco=s,this.innerDeco=a,c&&this.updateChildren(f,d)}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(o,s,a,l,c,u){var f,d=c.nodeViews[s.type.name],h,p=d&&d(s,c,function(){if(!h)return u;if(h.parent)return h.parent.posBeforeChild(h)},a,l),g=p&&p.dom,v=p&&p.contentDOM;if(s.isText){if(!g)g=document.createTextNode(s.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||(f=xt.renderSpec(document,s.type.spec.toDOM(s)),g=f.dom,v=f.contentDOM);!v&&!s.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable=!1),s.type.spec.draggable&&(g.draggable=!0));var w=g;return g=mA(g,a,s),p?h=new Z4(o,s,a,l,g,v,w,p,c,u+1):s.isText?new dA(o,s,a,l,g,w,c):new e(o,s,a,l,g,v,w,c,u+1)},e.prototype.parseRule=function(){var o=this;if(this.node.type.spec.reparseInView)return null;var s={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(s.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?s.contentElement=this.contentDOM:s.getContent=function(){return o.contentDOM?se.empty:o.node.content},s},e.prototype.matchesNode=function(o,s,a){return this.dirty==Rr&&o.eq(this.node)&&ky(s,this.outerDeco)&&a.eq(this.innerDeco)},r.size.get=function(){return this.node.nodeSize},r.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(o,s){var a=this,l=this.node.inlineContent,c=s,u=o.composing&&this.localCompositionInfo(o,s),f=u&&u.pos>-1?u:null,d=u&&u.pos<0,h=new gr(this,f&&f.node);n9(this.node,this.innerDeco,function(p,g,v){p.spec.marks?h.syncToMarks(p.spec.marks,l,o):p.type.side>=0&&!v&&h.syncToMarks(g==a.node.childCount?Ke.none:a.node.child(g).marks,l,o),h.placeWidget(p,o,c)},function(p,g,v,w){h.syncToMarks(p.marks,l,o);var b;h.findNodeMatch(p,g,v,w)||d&&o.state.selection.from>c&&o.state.selection.to<c+p.nodeSize&&(b=h.findIndexWithChild(u.node))>-1&&h.updateNodeAt(p,g,v,b,o)||h.updateNextNode(p,g,v,o,w)||h.addNode(p,g,v,o,c),c+=p.nodeSize}),h.syncToMarks(Oo,l,o),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==Fc)&&(f&&this.protectLocalComposition(o,f),pA(this.contentDOM,this.children,o),pe.ios&&r9(this.dom))},e.prototype.localCompositionInfo=function(o,s){var a=o.state.selection,l=a.from,c=a.to;if(!(!(o.state.selection instanceof Pe)||l<s||c>s+this.node.content.size)){var u=o.root.getSelection(),f=i9(u.focusNode,u.focusOffset);if(!(!f||!this.dom.contains(f.parentNode)))if(this.node.inlineContent){var d=f.nodeValue,h=o9(this.node.content,d,l-s,c-s);return h<0?null:{node:f,pos:h,text:d}}else return{node:f,pos:-1}}},e.prototype.protectLocalComposition=function(o,s){var a=s.node,l=s.pos,c=s.text;if(!this.getDesc(a)){for(var u=a;u.parentNode!=this.contentDOM;u=u.parentNode){for(;u.previousSibling;)u.parentNode.removeChild(u.previousSibling);for(;u.nextSibling;)u.parentNode.removeChild(u.nextSibling);u.pmViewDesc&&(u.pmViewDesc=null)}var f=new X4(this,u,a,c);o.compositionNodes.push(f),this.children=Cy(this.children,l,l+c.length,o,f)}},e.prototype.update=function(o,s,a,l){return this.dirty==Ao||!o.sameMarkup(this.node)?!1:(this.updateInner(o,s,a,l),!0)},e.prototype.updateInner=function(o,s,a,l){this.updateOuterDeco(s),this.node=o,this.innerDeco=a,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=Rr},e.prototype.updateOuterDeco=function(o){if(!ky(o,this.outerDeco)){var s=this.nodeDOM.nodeType!=1,a=this.dom;this.dom=gA(this.dom,this.nodeDOM,Sy(this.outerDeco,this.node,s),Sy(o,this.node,s)),this.dom!=a&&(a.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=o}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},r.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,r),e}(ct);function fA(n,e,r,i,o){return mA(i,e,n),new $c(null,n,e,r,i,i,i,o,0)}var dA=function(n){function e(i,o,s,a,l,c,u){n.call(this,i,o,s,a,l,null,c,u)}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var o=this.nodeDOM.parentNode;o&&o!=this.dom&&!o.pmIsDeco;)o=o.parentNode;return{skip:o||!0}},e.prototype.update=function(o,s,a,l){return this.dirty==Ao||this.dirty!=Rr&&!this.inParent()||!o.sameMarkup(this.node)?!1:(this.updateOuterDeco(s),(this.dirty!=Rr||o.text!=this.node.text)&&o.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=o.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=o,this.dirty=Rr,!0)},e.prototype.inParent=function(){for(var o=this.parent.contentDOM,s=this.nodeDOM;s;s=s.parentNode)if(s==o)return!0;return!1},e.prototype.domFromPos=function(o){return{node:this.nodeDOM,offset:o}},e.prototype.localPosFromDOM=function(o,s,a){return o==this.nodeDOM?this.posAtStart+Math.min(s,this.node.text.length):n.prototype.localPosFromDOM.call(this,o,s,a)},e.prototype.ignoreMutation=function(o){return o.type!="characterData"&&o.type!="selection"},e.prototype.slice=function(o,s,a){var l=this.node.cut(o,s),c=document.createTextNode(l.text);return new e(this.parent,l,this.outerDeco,this.innerDeco,c,c,a)},e.prototype.markDirty=function(o,s){n.prototype.markDirty.call(this,o,s),this.dom!=this.nodeDOM&&(o==0||s==this.nodeDOM.nodeValue.length)&&(this.dirty=Ao)},r.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,r),e}($c),hA=function(n){function e(){n.apply(this,arguments)}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(o){return this.dirty==Rr&&this.dom.nodeName==o},r.domAtom.get=function(){return!0},r.ignoreForCoords.get=function(){return this.dom.nodeName=="IMG"},Object.defineProperties(e.prototype,r),e}(ct),Z4=function(n){function e(r,i,o,s,a,l,c,u,f,d){n.call(this,r,i,o,s,a,l,c,f,d),this.spec=u}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.update=function(i,o,s,a){if(this.dirty==Ao)return!1;if(this.spec.update){var l=this.spec.update(i,o,s);return l&&this.updateInner(i,o,s,a),l}else return!this.contentDOM&&!i.isLeaf?!1:n.prototype.update.call(this,i,o,s,a)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():n.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():n.prototype.deselectNode.call(this)},e.prototype.setSelection=function(i,o,s,a){this.spec.setSelection?this.spec.setSelection(i,o,s):n.prototype.setSelection.call(this,i,o,s,a)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),n.prototype.destroy.call(this)},e.prototype.stopEvent=function(i){return this.spec.stopEvent?this.spec.stopEvent(i):!1},e.prototype.ignoreMutation=function(i){return this.spec.ignoreMutation?this.spec.ignoreMutation(i):n.prototype.ignoreMutation.call(this,i)},e}($c);function pA(n,e,r){for(var i=n.firstChild,o=!1,s=0;s<e.length;s++){var a=e[s],l=a.dom;if(l.parentNode==n){for(;l!=i;)i=vA(i),o=!0;i=i.nextSibling}else o=!0,n.insertBefore(l,i);if(a instanceof Ey){var c=i?i.previousSibling:n.lastChild;pA(a.contentDOM,a.children,r),i=c?c.nextSibling:n.firstChild}}for(;i;)i=vA(i),o=!0;o&&r.trackWrites==n&&(r.trackWrites=null)}function zc(n){n&&(this.nodeName=n)}zc.prototype=Object.create(null);var Ds=[new zc];function Sy(n,e,r){if(n.length==0)return Ds;for(var i=r?Ds[0]:new zc,o=[i],s=0;s<n.length;s++){var a=n[s].type.attrs;if(!!a){a.nodeName&&o.push(i=new zc(a.nodeName));for(var l in a){var c=a[l];c!=null&&(r&&o.length==1&&o.push(i=new zc(e.isInline?"span":"div")),l=="class"?i.class=(i.class?i.class+" ":"")+c:l=="style"?i.style=(i.style?i.style+";":"")+c:l!="nodeName"&&(i[l]=c))}}}return o}function gA(n,e,r,i){if(r==Ds&&i==Ds)return e;for(var o=e,s=0;s<i.length;s++){var a=i[s],l=r[s];if(s){var c=void 0;l&&l.nodeName==a.nodeName&&o!=n&&(c=o.parentNode)&&c.tagName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(o),l=Ds[0]),o=c}Q4(o,l||Ds[0],a)}return o}function Q4(n,e,r){for(var i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in r)&&n.removeAttribute(i);for(var o in r)o!="class"&&o!="style"&&o!="nodeName"&&r[o]!=e[o]&&n.setAttribute(o,r[o]);if(e.class!=r.class){for(var s=e.class?e.class.split(" ").filter(Boolean):Oo,a=r.class?r.class.split(" ").filter(Boolean):Oo,l=0;l<s.length;l++)a.indexOf(s[l])==-1&&n.classList.remove(s[l]);for(var c=0;c<a.length;c++)s.indexOf(a[c])==-1&&n.classList.add(a[c])}if(e.style!=r.style){if(e.style)for(var u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,f;f=u.exec(e.style);)n.style.removeProperty(f[1]);r.style&&(n.style.cssText+=r.style)}}function mA(n,e,r){return gA(n,n,Ds,Sy(e,r,n.nodeType!=1))}function ky(n,e){if(n.length!=e.length)return!1;for(var r=0;r<n.length;r++)if(!n[r].type.eq(e[r].type))return!1;return!0}function vA(n){var e=n.nextSibling;return n.parentNode.removeChild(n),e}var gr=function(e,r){this.top=e,this.lock=r,this.index=0,this.stack=[],this.changed=!1,this.preMatch=e9(e.node.content,e.children)};gr.prototype.destroyBetween=function(e,r){if(e!=r){for(var i=e;i<r;i++)this.top.children[i].destroy();this.top.children.splice(e,r-e),this.changed=!0}};gr.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)};gr.prototype.syncToMarks=function(e,r,i){for(var o=0,s=this.stack.length>>1,a=Math.min(s,e.length);o<a&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=Rr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);for(var l=-1,c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(e[s])){l=c;break}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{var u=Ey.create(this.top,e[s],r,i);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}};gr.prototype.findNodeMatch=function(e,r,i,o){var s=this.top.children,a=-1;if(o>=this.preMatch.index){for(var l=this.index;l<s.length;l++)if(s[l].matchesNode(e,r,i)){a=l;break}}else for(var c=this.index,u=Math.min(s.length,c+1);c<u;c++){var f=s[c];if(f.matchesNode(e,r,i)&&!this.preMatch.matched.has(f)){a=c;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)};gr.prototype.updateNodeAt=function(e,r,i,o,s){var a=this.top.children[o];return a.update(e,r,i,s)?(this.destroyBetween(this.index,o),this.index=o+1,!0):!1};gr.prototype.findIndexWithChild=function(e){for(;;){var r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){var i=e.pmViewDesc;if(i){for(var o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==i)return o}return-1}e=r}};gr.prototype.updateNextNode=function(e,r,i,o,s){for(var a=this.index;a<this.top.children.length;a++){var l=this.top.children[a];if(l instanceof $c){var c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;var u=l.dom,f=this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ao&&ky(r,l.outerDeco));if(!f&&l.update(e,r,i,o))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1};gr.prototype.addNode=function(e,r,i,o,s){this.top.children.splice(this.index++,0,$c.create(this.top,e,r,i,o,s)),this.changed=!0};gr.prototype.placeWidget=function(e,r,i){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{var s=new uA(this.top,e,r,i);this.top.children.splice(this.index++,0,s),this.changed=!0}};gr.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof Ey;)e=e.children[e.children.length-1];(!e||!(e instanceof dA)||/\n$/.test(e.node.text))&&((pe.safari||pe.chrome)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG"),this.addHackNode("BR"))};gr.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator"),e=="BR"&&(r.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new hA(this.top,Oo,r,null)),this.changed=!0}};function e9(n,e){for(var r=n.childCount,i=e.length,o=new Map;r>0&&i>0;i--){var s=e[i-1],a=s.node;if(!!a){if(a!=n.child(r-1))break;--r,o.set(s,r)}}return{index:r,matched:o}}function t9(n,e){return n.type.side-e.type.side}function n9(n,e,r,i){var o=e.locals(n),s=0;if(o.length==0){for(var a=0;a<n.childCount;a++){var l=n.child(a);i(l,o,e.forChild(s,l),a),s+=l.nodeSize}return}for(var c=0,u=[],f=null,d=0;;){if(c<o.length&&o[c].to==s){for(var h=o[c++],p=void 0;c<o.length&&o[c].to==s;)(p||(p=[h])).push(o[c++]);if(p){p.sort(t9);for(var g=0;g<p.length;g++)r(p[g],d,!!f)}else r(h,d,!!f)}var v=void 0,w=void 0;if(f)w=-1,v=f,f=null;else if(d<n.childCount)w=d,v=n.child(d++);else break;for(var b=0;b<u.length;b++)u[b].to<=s&&u.splice(b--,1);for(;c<o.length&&o[c].from<=s&&o[c].to>s;)u.push(o[c++]);var S=s+v.nodeSize;if(v.isText){var E=S;c<o.length&&o[c].from<E&&(E=o[c].from);for(var y=0;y<u.length;y++)u[y].to<E&&(E=u[y].to);E<S&&(f=v.cut(E-s),v=v.cut(0,E-s),S=E,w=-1)}var k=u.length?v.isInline&&!v.isLeaf?u.filter(function(D){return!D.inline}):u.slice():Oo;i(v,k,e.forChild(s,v),w),s=S}}function r9(n){if(n.nodeName=="UL"||n.nodeName=="OL"){var e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function i9(n,e){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0){if(n.childNodes.length>e&&n.childNodes[e].nodeType==3)return n.childNodes[e];n=n.childNodes[e-1],e=li(n)}else if(n.nodeType==1&&e<n.childNodes.length)n=n.childNodes[e],e=0;else return null}}function o9(n,e,r,i){for(var o=0,s=0;o<n.childCount&&s<=i;){var a=n.child(o++),l=s;if(s+=a.nodeSize,!!a.isText){for(var c=a.text;o<n.childCount;){var u=n.child(o++);if(s+=u.nodeSize,!u.isText)break;c+=u.text}if(s>=r){var f=c.lastIndexOf(e,i-l);if(f>=0&&f+e.length+l>=r)return l+f}}}return-1}function Cy(n,e,r,i,o){for(var s=[],a=0,l=0;a<n.length;a++){var c=n[a],u=l,f=l+=c.size;u>=r||f<=e?s.push(c):(u<e&&s.push(c.slice(0,e-u,i)),o&&(s.push(o),o=null),f>r&&s.push(c.slice(r-u,c.size,i)))}return s}function yA(n,e){var r=n.root.getSelection(),i=n.state.doc;if(!r.focusNode)return null;var o=n.docView.nearestDesc(r.focusNode),s=o&&o.size==0,a=n.docView.posFromDOM(r.focusNode,r.focusOffset);if(a<0)return null;var l=i.resolve(a),c,u;if(by(r)){for(c=l;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&Ae.isSelectable(o.node)&&o.parent&&!(o.node.isInline&&I4(r.focusNode,r.focusOffset,o.dom))){var f=o.posBefore;u=new Ae(a==f?l:i.resolve(f))}}else{var d=n.docView.posFromDOM(r.anchorNode,r.anchorOffset);if(d<0)return null;c=i.resolve(d)}if(!u){var h=e=="pointer"||n.state.selection.head<l.pos&&!s?1:-1;u=Ay(n,c,l,h)}return u}function bA(n){return n.editable?n.hasFocus():Oy(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Do(n,e){var r=n.state.selection;if(SA(n,r),!!bA(n)){if(!e&&n.mouseDown&&n.mouseDown.allowDefault){n.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}if(n.domObserver.disconnectSelection(),n.cursorWrapper)a9(n);else{var i=r.anchor,o=r.head,s,a;_A&&!(r instanceof Pe)&&(r.$from.parent.inlineContent||(s=wA(n,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=wA(n,r.to))),n.docView.setSelection(i,o,n.root,e),_A&&(s&&EA(s),a&&EA(a)),r.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&s9(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}var _A=pe.safari||pe.chrome&&pe.chrome_version<63;function wA(n,e){var r=n.docView.domFromPos(e,0),i=r.node,o=r.offset,s=o<i.childNodes.length?i.childNodes[o]:null,a=o?i.childNodes[o-1]:null;if(pe.safari&&s&&s.contentEditable=="false")return xy(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return xy(s);if(a)return xy(a)}}function xy(n){return n.contentEditable="true",pe.safari&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function EA(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function s9(n){var e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.hideSelectionGuard);var r=n.root.getSelection(),i=r.anchorNode,o=r.anchorOffset;e.addEventListener("selectionchange",n.hideSelectionGuard=function(){(r.anchorNode!=i||r.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.hideSelectionGuard),setTimeout(function(){(!bA(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function a9(n){var e=n.root.getSelection(),r=document.createRange(),i=n.cursorWrapper.dom,o=i.nodeName=="IMG";o?r.setEnd(i.parentNode,Xn(i)+1):r.setEnd(i,0),r.collapse(!1),e.removeAllRanges(),e.addRange(r),!o&&!n.state.selection.visible&&pe.ie&&pe.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}function SA(n,e){if(e instanceof Ae){var r=n.docView.descAt(e.from);r!=n.lastSelectedViewDesc&&(kA(n),r&&r.selectNode(),n.lastSelectedViewDesc=r)}else kA(n)}function kA(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=null)}function Ay(n,e,r,i){return n.someProp("createSelectionBetween",function(o){return o(n,e,r)})||Pe.between(e,r,i)}function l9(n){return n.editable&&n.root.activeElement!=n.dom?!1:Oy(n)}function Oy(n){var e=n.root.getSelection();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch(r){return!1}}function c9(n){var e=n.docView.domFromPos(n.state.selection.anchor,0),r=n.root.getSelection();return Nd(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Dy(n,e){var r=n.selection,i=r.$anchor,o=r.$head,s=e>0?i.max(o):i.min(o),a=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return a&&Be.findFrom(a,e)}function Ts(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function CA(n,e,r){var i=n.state.selection;if(i instanceof Pe){if(!i.empty||r.indexOf("s")>-1)return!1;if(n.endOfTextblock(e>0?"right":"left")){var o=Dy(n.state,e);return o&&o instanceof Ae?Ts(n,o):!1}else if(!(pe.mac&&r.indexOf("m")>-1)){var s=i.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!a||a.isText)return!1;var c=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(l=n.docView.descAt(c))&&!l.contentDOM?Ae.isSelectable(a)?Ts(n,new Ae(e<0?n.state.doc.resolve(s.pos-a.nodeSize):s)):pe.webkit?Ts(n,new Pe(n.state.doc.resolve(e<0?c:c+a.nodeSize))):!1:!1}}else{if(i instanceof Ae&&i.node.isInline)return Ts(n,new Pe(e>0?i.$to:i.$from));var u=Dy(n.state,e);return u?Ts(n,u):!1}}function Rd(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Uc(n){var e=n.pmViewDesc;return e&&e.size==0&&(n.nextSibling||n.nodeName!="BR")}function Ty(n){var e=n.root.getSelection(),r=e.focusNode,i=e.focusOffset;if(!!r){var o,s,a=!1;for(pe.gecko&&r.nodeType==1&&i<Rd(r)&&Uc(r.childNodes[i])&&(a=!0);;)if(i>0){if(r.nodeType!=1)break;var l=r.childNodes[i-1];if(Uc(l))o=r,s=--i;else if(l.nodeType==3)r=l,i=r.nodeValue.length;else break}else{if(xA(r))break;for(var c=r.previousSibling;c&&Uc(c);)o=r.parentNode,s=Xn(c),c=c.previousSibling;if(c)r=c,i=Rd(r);else{if(r=r.parentNode,r==n.dom)break;i=0}}a?Ny(n,e,r,i):o&&Ny(n,e,o,s)}}function My(n){var e=n.root.getSelection(),r=e.focusNode,i=e.focusOffset;if(!!r){for(var o=Rd(r),s,a;;)if(i<o){if(r.nodeType!=1)break;var l=r.childNodes[i];if(Uc(l))s=r,a=++i;else break}else{if(xA(r))break;for(var c=r.nextSibling;c&&Uc(c);)s=c.parentNode,a=Xn(c)+1,c=c.nextSibling;if(c)r=c,i=0,o=Rd(r);else{if(r=r.parentNode,r==n.dom)break;i=o=0}}s&&Ny(n,e,s,a)}}function xA(n){var e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Ny(n,e,r,i){if(by(e)){var o=document.createRange();o.setEnd(r,i),o.setStart(r,i),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(r,i);n.domObserver.setCurSelection();var s=n.state;setTimeout(function(){n.state==s&&Do(n)},50)}function AA(n,e,r){var i=n.state.selection;if(i instanceof Pe&&!i.empty||r.indexOf("s")>-1||pe.mac&&r.indexOf("m")>-1)return!1;var o=i.$from,s=i.$to;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){var a=Dy(n.state,e);if(a&&a instanceof Ae)return Ts(n,a)}if(!o.parent.inlineContent){var l=e<0?o:s,c=i instanceof ti?Be.near(l,e):Be.findFrom(l,e);return c?Ts(n,c):!1}return!1}function OA(n,e){if(!(n.state.selection instanceof Pe))return!0;var r=n.state.selection,i=r.$head,o=r.$anchor,s=r.empty;if(!i.sameParent(o))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!i.textOffset&&(e<0?i.nodeBefore:i.nodeAfter);if(a&&!a.isText){var l=n.state.tr;return e<0?l.delete(i.pos-a.nodeSize,i.pos):l.delete(i.pos,i.pos+a.nodeSize),n.dispatch(l),!0}return!1}function DA(n,e,r){n.domObserver.stop(),e.contentEditable=r,n.domObserver.start()}function u9(n){if(!(!pe.safari||n.state.selection.$head.parentOffset>0)){var e=n.root.getSelection(),r=e.focusNode,i=e.focusOffset;if(r&&r.nodeType==1&&i==0&&r.firstChild&&r.firstChild.contentEditable=="false"){var o=r.firstChild;DA(n,o,!0),setTimeout(function(){return DA(n,o,!1)},20)}}}function f9(n){var e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function d9(n,e){var r=e.keyCode,i=f9(e);return r==8||pe.mac&&r==72&&i=="c"?OA(n,-1)||Ty(n):r==46||pe.mac&&r==68&&i=="c"?OA(n,1)||My(n):r==13||r==27?!0:r==37?CA(n,-1,i)||Ty(n):r==39?CA(n,1,i)||My(n):r==38?AA(n,-1,i)||Ty(n):r==40?u9(n)||AA(n,1,i)||My(n):i==(pe.mac?"m":"c")&&(r==66||r==73||r==89||r==90)}function h9(n,e,r){var i=n.docView.parseRange(e,r),o=i.node,s=i.fromOffset,a=i.toOffset,l=i.from,c=i.to,u=n.root.getSelection(),f=null,d=u.anchorNode;if(d&&n.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:u.anchorOffset}],by(u)||f.push({node:u.focusNode,offset:u.focusOffset})),pe.chrome&&n.lastKeyCode===8)for(var h=a;h>s;h--){var p=o.childNodes[h-1],g=p.pmViewDesc;if(p.nodeName=="BR"&&!g){a=h;break}if(!g||g.size)break}var v=n.state.doc,w=n.someProp("domParser")||Wn.fromSchema(n.state.schema),b=v.resolve(l),S=null,E=w.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:a,preserveWhitespace:b.parent.type.spec.code?"full":!0,editableContent:!0,findPositions:f,ruleFromNode:p9,context:b});if(f&&f[0].pos!=null){var y=f[0].pos,k=f[1]&&f[1].pos;k==null&&(k=y),S={anchor:y+l,head:k+l}}return{doc:E,sel:S,from:l,to:c}}function p9(n){var e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(pe.safari&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){var r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(n.parentNode.lastChild==n||pe.safari&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0}}function g9(n,e,r,i,o){if(e<0){var s=n.lastSelectionTime>Date.now()-50?n.lastSelectionOrigin:null,a=yA(n,s);if(a&&!n.state.selection.eq(a)){var l=n.state.tr.setSelection(a);s=="pointer"?l.setMeta("pointer",!0):s=="key"&&l.scrollIntoView(),n.dispatch(l)}return}var c=n.state.doc.resolve(e),u=c.sharedDepth(r);e=c.before(u+1),r=n.state.doc.resolve(r).after(u+1);var f=n.state.selection,d=h9(n,e,r);if(pe.chrome&&n.cursorWrapper&&d.sel&&d.sel.anchor==n.cursorWrapper.deco.from){var h=n.cursorWrapper.deco.type.toDOM.nextSibling,p=h&&h.nodeValue?h.nodeValue.length:1;d.sel={anchor:d.sel.anchor+p,head:d.sel.anchor+p}}var g=n.state.doc,v=g.slice(d.from,d.to),w,b;n.lastKeyCode===8&&Date.now()-100<n.lastKeyCodeTime?(w=n.state.selection.to,b="end"):(w=n.state.selection.from,b="start"),n.lastKeyCode=null;var S=y9(v.content,d.doc.content,d.from,w,b);if(!S)if(i&&f instanceof Pe&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))S={start:f.from,endA:f.to,endB:f.to};else if((pe.ios&&n.lastIOSEnter>Date.now()-225||pe.android)&&o.some(function(B){return B.nodeName=="DIV"||B.nodeName=="P"})&&n.someProp("handleKeyDown",function(B){return B(n,Wa(13,"Enter"))})){n.lastIOSEnter=0;return}else{if(d.sel){var E=TA(n,n.state.doc,d.sel);E&&!E.eq(n.state.selection)&&n.dispatch(n.state.tr.setSelection(E))}return}n.domChangeCount++,n.state.selection.from<n.state.selection.to&&S.start==S.endB&&n.state.selection instanceof Pe&&(S.start>n.state.selection.from&&S.start<=n.state.selection.from+2?S.start=n.state.selection.from:S.endA<n.state.selection.to&&S.endA>=n.state.selection.to-2&&(S.endB+=n.state.selection.to-S.endA,S.endA=n.state.selection.to)),pe.ie&&pe.ie_version<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>d.from&&d.doc.textBetween(S.start-d.from-1,S.start-d.from+1)==" \xA0"&&(S.start--,S.endA--,S.endB--);var y=d.doc.resolveNoCache(S.start-d.from),k=d.doc.resolveNoCache(S.endB-d.from),D=y.sameParent(k)&&y.parent.inlineContent,T;if((pe.ios&&n.lastIOSEnter>Date.now()-225&&(!D||o.some(function(B){return B.nodeName=="DIV"||B.nodeName=="P"}))||!D&&y.pos<d.doc.content.size&&(T=Be.findFrom(d.doc.resolve(y.pos+1),1,!0))&&T.head==k.pos)&&n.someProp("handleKeyDown",function(B){return B(n,Wa(13,"Enter"))})){n.lastIOSEnter=0;return}if(n.state.selection.anchor>S.start&&v9(g,S.start,S.endA,y,k)&&n.someProp("handleKeyDown",function(B){return B(n,Wa(8,"Backspace"))})){pe.android&&pe.chrome&&n.domObserver.suppressSelectionUpdates();return}pe.chrome&&pe.android&&S.toB==S.from&&(n.lastAndroidDelete=Date.now()),pe.android&&!D&&y.start()!=k.start()&&k.parentOffset==0&&y.depth==k.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==S.endA&&(S.endB-=2,k=d.doc.resolveNoCache(S.endB-d.from),setTimeout(function(){n.someProp("handleKeyDown",function(B){return B(n,Wa(13,"Enter"))})},20));var N=S.start,$=S.endA,I,L,j,K;if(D){if(y.pos==k.pos)pe.ie&&pe.ie_version<=11&&y.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(function(){return Do(n)},20)),I=n.state.tr.delete(N,$),L=g.resolve(S.start).marksAcross(g.resolve(S.endA));else if(S.endA==S.endB&&(K=g.resolve(S.start))&&(j=m9(y.parent.content.cut(y.parentOffset,k.parentOffset),K.parent.content.cut(K.parentOffset,S.endA-K.start()))))I=n.state.tr,j.type=="add"?I.addMark(N,$,j.mark):I.removeMark(N,$,j.mark);else if(y.parent.child(y.index()).isText&&y.index()==k.index()-(k.textOffset?0:1)){var V=y.parent.textBetween(y.parentOffset,k.parentOffset);if(n.someProp("handleTextInput",function(B){return B(n,N,$,V)}))return;I=n.state.tr.insertText(V,N,$)}}if(I||(I=n.state.tr.replace(N,$,d.doc.slice(S.start-d.from,S.endB-d.from))),d.sel){var G=TA(n,I.doc,d.sel);G&&!(pe.chrome&&pe.android&&n.composing&&G.empty&&(S.start!=S.endB||n.lastAndroidDelete<Date.now()-100)&&(G.head==N||G.head==I.mapping.map($)-1)||pe.ie&&G.empty&&G.head==N)&&I.setSelection(G)}L&&I.ensureMarks(L),n.dispatch(I.scrollIntoView())}function TA(n,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Ay(n,e.resolve(r.anchor),e.resolve(r.head))}function m9(n,e){for(var r=n.firstChild.marks,i=e.firstChild.marks,o=r,s=i,a,l,c,u=0;u<i.length;u++)o=i[u].removeFromSet(o);for(var f=0;f<r.length;f++)s=r[f].removeFromSet(s);if(o.length==1&&s.length==0)l=o[0],a="add",c=function(p){return p.mark(l.addToSet(p.marks))};else if(o.length==0&&s.length==1)l=s[0],a="remove",c=function(p){return p.mark(l.removeFromSet(p.marks))};else return null;for(var d=[],h=0;h<e.childCount;h++)d.push(c(e.child(h)));if(se.from(d).eq(n))return{mark:l,type:a}}function v9(n,e,r,i,o){if(!i.parent.isTextblock||r-e<=o.pos-i.pos||Ry(i,!0,!1)<o.pos)return!1;var s=n.resolve(e);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;var a=n.resolve(Ry(s,!0,!0));return!a.parent.isTextblock||a.pos>r||Ry(a,!0,!1)<r?!1:i.parent.content.cut(i.parentOffset).eq(a.parent.content)}function Ry(n,e,r){for(var i=n.depth,o=e?n.end():n.pos;i>0&&(e||n.indexAfter(i)==n.node(i).childCount);)i--,o++,e=!1;if(r)for(var s=n.node(i).maybeChild(n.indexAfter(i));s&&!s.isLeaf;)s=s.firstChild,o++;return o}function y9(n,e,r,i,o){var s=n.findDiffStart(e,r);if(s==null)return null;var a=n.findDiffEnd(e,r+n.size,r+e.size),l=a.a,c=a.b;if(o=="end"){var u=Math.max(0,s-Math.min(l,c));i-=l+u-s}if(l<s&&n.size<e.size){var f=i<=s&&i>=l?s-i:0;s-=f,c=s+(c-l),l=s}else if(c<s){var d=i<=s&&i>=c?s-i:0;s-=d,l=s+(l-c),c=s}return{start:s,endA:l,endB:c}}function MA(n,e){for(var r=[],i=e.content,o=e.openStart,s=e.openEnd;o>1&&s>1&&i.childCount==1&&i.firstChild.childCount==1;){o--,s--;var a=i.firstChild;r.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),i=a.content}var l=n.someProp("clipboardSerializer")||xt.fromSchema(n.state.schema),c=$A(),u=c.createElement("div");u.appendChild(l.serializeFragment(i,{document:c}));for(var f=u.firstChild,d;f&&f.nodeType==1&&(d=BA[f.nodeName.toLowerCase()]);){for(var h=d.length-1;h>=0;h--){for(var p=c.createElement(d[h]);u.firstChild;)p.appendChild(u.firstChild);u.appendChild(p),d[h]!="tbody"&&(o++,s++)}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",o+" "+s+" "+JSON.stringify(r));var g=n.someProp("clipboardTextSerializer",function(v){return v(e)})||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:g}}function NA(n,e,r,i,o){var s,a=o.parent.type.spec.code,l;if(!r&&!e)return null;var c=e&&(i||a||!r);if(c){if(n.someProp("transformPastedText",function(k){e=k(e,a||i)}),a)return e?new _e(se.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):_e.empty;var u=n.someProp("clipboardTextParser",function(k){return k(e,o,i)});if(u)l=u;else{var f=o.marks(),d=n.state,h=d.schema,p=xt.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(function(k){var D=s.appendChild(document.createElement("p"));k&&D.appendChild(p.serializeNode(h.text(k,f)))})}}else n.someProp("transformPastedHTML",function(k){r=k(r)}),s=_9(r),pe.webkit&&w9(s);var g=s&&s.querySelector("[data-pm-slice]"),v=g&&/^(\d+) (\d+) (.*)/.exec(g.getAttribute("data-pm-slice"));if(!l){var w=n.someProp("clipboardParser")||n.someProp("domParser")||Wn.fromSchema(n.state.schema);l=w.parseSlice(s,{preserveWhitespace:!!(c||v),context:o})}if(v)l=E9(LA(l,+v[1],+v[2]),v[3]);else if(l=_e.maxOpen(b9(l.content,o),!0),l.openStart||l.openEnd){for(var b=0,S=0,E=l.content.firstChild;b<l.openStart&&!E.type.spec.isolating;b++,E=E.firstChild);for(var y=l.content.lastChild;S<l.openEnd&&!y.type.spec.isolating;S++,y=y.lastChild);l=LA(l,b,S)}return n.someProp("transformPasted",function(k){l=k(l)}),l}function b9(n,e){if(n.childCount<2)return n;for(var r=function(s){var a=e.node(s),l=a.contentMatchAt(e.index(s)),c=void 0,u=[];if(n.forEach(function(f){if(!!u){var d=l.findWrapping(f.type),h;if(!d)return u=null;if(h=u.length&&c.length&&IA(d,c,f,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=PA(u[u.length-1],c.length));var p=RA(f,d);u.push(p),l=l.matchType(p.type,p.attrs),c=d}}}),u)return{v:se.from(u)}},i=e.depth;i>=0;i--){var o=r(i);if(o)return o.v}return n}function RA(n,e,r){r===void 0&&(r=0);for(var i=e.length-1;i>=r;i--)n=e[i].create(null,se.from(n));return n}function IA(n,e,r,i,o){if(o<n.length&&o<e.length&&n[o]==e[o]){var s=IA(n,e,r,i.lastChild,o+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));var a=i.contentMatchAt(i.childCount);if(a.matchType(o==n.length-1?r.type:n[o+1]))return i.copy(i.content.append(se.from(RA(r,n,o+1))))}}function PA(n,e){if(e==0)return n;var r=n.content.replaceChild(n.childCount-1,PA(n.lastChild,e-1)),i=n.contentMatchAt(n.childCount).fillBefore(se.empty,!0);return n.copy(r.append(i))}function Iy(n,e,r,i,o,s){var a=e<0?n.firstChild:n.lastChild,l=a.content;return o<i-1&&(l=Iy(l,e,r,i,o+1,s)),o>=r&&(l=e<0?a.contentMatchAt(0).fillBefore(l,n.childCount>1||s<=o).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(se.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(l))}function LA(n,e,r){return e<n.openStart&&(n=new _e(Iy(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),r<n.openEnd&&(n=new _e(Iy(n.content,1,r,n.openEnd,0,0),n.openStart,r)),n}var BA={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},FA=null;function $A(){return FA||(FA=document.implementation.createHTMLDocument("title"))}function _9(n){var e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));var r=$A().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),o;if((o=i&&BA[i[1].toLowerCase()])&&(n=o.map(function(a){return"<"+a+">"}).join("")+n+o.map(function(a){return"</"+a+">"}).reverse().join("")),r.innerHTML=n,o)for(var s=0;s<o.length;s++)r=r.querySelector(o[s])||r;return r}function w9(n){for(var e=n.querySelectorAll(pe.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),r=0;r<e.length;r++){var i=e[r];i.childNodes.length==1&&i.textContent=="\xA0"&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function E9(n,e){if(!n.size)return n;var r=n.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch(u){return n}for(var o=n.content,s=n.openStart,a=n.openEnd,l=i.length-2;l>=0;l-=2){var c=r.nodes[i[l]];if(!c||c.hasRequiredAttrs())break;o=se.from(c.create(i[l+1],o)),s++,a++}return new _e(o,s,a)}var S9={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Py=pe.ie&&pe.ie_version<=11,Ly=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Ly.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset};Ly.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Zn=function(e,r){var i=this;this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(o){for(var s=0;s<o.length;s++)i.queue.push(o[s]);pe.ie&&pe.ie_version<=11&&o.some(function(a){return a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length})?i.flushSoon():i.flush()}),this.currentSelection=new Ly,Py&&(this.onCharData=function(o){i.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),i.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Zn.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){e.flushingSoon=-1,e.flush()},20))};Zn.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())};Zn.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,S9),Py&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()};Zn.prototype.stop=function(){var e=this;if(this.observer){var r=this.observer.takeRecords();if(r.length){for(var i=0;i<r.length;i++)this.queue.push(r[i]);window.setTimeout(function(){return e.flush()},20)}this.observer.disconnect()}Py&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()};Zn.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)};Zn.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)};Zn.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return e.suppressingSelectionUpdates=!1},50)};Zn.prototype.onSelectionChange=function(){if(!!l9(this.view)){if(this.suppressingSelectionUpdates)return Do(this.view);if(pe.ie&&pe.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Nd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}};Zn.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())};Zn.prototype.ignoreSelectionChange=function(e){if(e.rangeCount==0)return!0;var r=e.getRangeAt(0).commonAncestorContainer,i=this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0};Zn.prototype.flush=function(){if(!(!this.view.docView||this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var r=this.view.root.getSelection(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Oy(this.view)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(this.view.editable)for(var c=0;c<e.length;c++){var u=this.registerMutation(e[c],l);u&&(o=o<0?u.from:Math.min(u.from,o),s=s<0?u.to:Math.max(u.to,s),u.typeOver&&(a=!0))}if(pe.gecko&&l.length>1){var f=l.filter(function(p){return p.nodeName=="BR"});if(f.length==2){var d=f[0],h=f[1];d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}}(o>-1||i)&&(o>-1&&(this.view.docView.markDirty(o,s),k9(this.view)),this.handleDOMChange(o,s,a,l),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(r)||Do(this.view),this.currentSelection.set(r))}};Zn.prototype.registerMutation=function(e,r){if(r.indexOf(e.target)>-1)return null;var i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(var o=0;o<e.addedNodes.length;o++)r.push(e.addedNodes[o]);if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};var s=e.previousSibling,a=e.nextSibling;if(pe.ie&&pe.ie_version<=11&&e.addedNodes.length)for(var l=0;l<e.addedNodes.length;l++){var c=e.addedNodes[l],u=c.previousSibling,f=c.nextSibling;(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(s=u),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(a=f)}var d=s&&s.parentNode==e.target?Xn(s)+1:0,h=i.localPosFromDOM(e.target,d,-1),p=a&&a.parentNode==e.target?Xn(a):e.target.childNodes.length,g=i.localPosFromDOM(e.target,p,1);return{from:h,to:g}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var zA=!1;function k9(n){zA||(zA=!0,getComputedStyle(n.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var Mn={},En={};function C9(n){n.shiftKey=!1,n.mouseDown=null,n.lastKeyCode=null,n.lastKeyCodeTime=0,n.lastClick={time:0,x:0,y:0,type:""},n.lastSelectionOrigin=null,n.lastSelectionTime=0,n.lastIOSEnter=0,n.lastIOSEnterFallbackTimeout=null,n.lastAndroidDelete=0,n.composing=!1,n.composingTimeout=null,n.compositionNodes=[],n.compositionEndedAt=-2e8,n.domObserver=new Zn(n,function(i,o,s,a){return g9(n,i,o,s,a)}),n.domObserver.start(),n.domChangeCount=0,n.eventHandlers=Object.create(null);var e=function(i){var o=Mn[i];n.dom.addEventListener(i,n.eventHandlers[i]=function(s){A9(n,s)&&!Fy(n,s)&&(n.editable||!(s.type in En))&&o(n,s)})};for(var r in Mn)e(r);pe.safari&&n.dom.addEventListener("input",function(){return null}),By(n)}function Ms(n,e){n.lastSelectionOrigin=e,n.lastSelectionTime=Date.now()}function x9(n){n.domObserver.stop();for(var e in n.eventHandlers)n.dom.removeEventListener(e,n.eventHandlers[e]);clearTimeout(n.composingTimeout),clearTimeout(n.lastIOSEnterFallbackTimeout)}function By(n){n.someProp("handleDOMEvents",function(e){for(var r in e)n.eventHandlers[r]||n.dom.addEventListener(r,n.eventHandlers[r]=function(i){return Fy(n,i)})})}function Fy(n,e){return n.someProp("handleDOMEvents",function(r){var i=r[e.type];return i?i(n,e)||e.defaultPrevented:!1})}function A9(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var r=e.target;r!=n.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function O9(n,e){!Fy(n,e)&&Mn[e.type]&&(n.editable||!(e.type in En))&&Mn[e.type](n,e)}En.keydown=function(n,e){if(n.shiftKey=e.keyCode==16||e.shiftKey,!HA(n,e))if(e.keyCode!=229&&n.domObserver.forceFlush(),n.lastKeyCode=e.keyCode,n.lastKeyCodeTime=Date.now(),pe.ios&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){var r=Date.now();n.lastIOSEnter=r,n.lastIOSEnterFallbackTimeout=setTimeout(function(){n.lastIOSEnter==r&&(n.someProp("handleKeyDown",function(i){return i(n,Wa(13,"Enter"))}),n.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",function(i){return i(n,e)})||d9(n,e)?e.preventDefault():Ms(n,"key")};En.keyup=function(n,e){e.keyCode==16&&(n.shiftKey=!1)};En.keypress=function(n,e){if(!(HA(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||pe.mac&&e.metaKey)){if(n.someProp("handleKeyPress",function(o){return o(n,e)})){e.preventDefault();return}var r=n.state.selection;if(!(r instanceof Pe)||!r.$from.sameParent(r.$to)){var i=String.fromCharCode(e.charCode);n.someProp("handleTextInput",function(o){return o(n,r.$from.pos,r.$to.pos,i)})||n.dispatch(n.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}}};function Id(n){return{left:n.clientX,top:n.clientY}}function D9(n,e){var r=e.x-n.clientX,i=e.y-n.clientY;return r*r+i*i<100}function $y(n,e,r,i,o){if(i==-1)return!1;for(var s=n.state.doc.resolve(i),a=function(u){if(n.someProp(e,function(f){return u>s.depth?f(n,r,s.nodeAfter,s.before(u),o,!0):f(n,r,s.node(u),s.before(u),o,!1)}))return{v:!0}},l=s.depth+1;l>0;l--){var c=a(l);if(c)return c.v}return!1}function Ga(n,e,r){n.focused||n.focus();var i=n.state.tr.setSelection(e);r=="pointer"&&i.setMeta("pointer",!0),n.dispatch(i)}function T9(n,e){if(e==-1)return!1;var r=n.state.doc.resolve(e),i=r.nodeAfter;return i&&i.isAtom&&Ae.isSelectable(i)?(Ga(n,new Ae(r),"pointer"),!0):!1}function M9(n,e){if(e==-1)return!1;var r=n.state.selection,i,o;r instanceof Ae&&(i=r.node);for(var s=n.state.doc.resolve(e),a=s.depth+1;a>0;a--){var l=a>s.depth?s.nodeAfter:s.node(a);if(Ae.isSelectable(l)){i&&r.$from.depth>0&&a>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?o=s.before(r.$from.depth):o=s.before(a);break}}return o!=null?(Ga(n,Ae.create(n.state.doc,o),"pointer"),!0):!1}function N9(n,e,r,i,o){return $y(n,"handleClickOn",e,r,i)||n.someProp("handleClick",function(s){return s(n,e,i)})||(o?M9(n,r):T9(n,r))}function R9(n,e,r,i){return $y(n,"handleDoubleClickOn",e,r,i)||n.someProp("handleDoubleClick",function(o){return o(n,e,i)})}function I9(n,e,r,i){return $y(n,"handleTripleClickOn",e,r,i)||n.someProp("handleTripleClick",function(o){return o(n,e,i)})||P9(n,r,i)}function P9(n,e,r){if(r.button!=0)return!1;var i=n.state.doc;if(e==-1)return i.inlineContent?(Ga(n,Pe.create(i,0,i.content.size),"pointer"),!0):!1;for(var o=i.resolve(e),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s),l=o.before(s);if(a.inlineContent)Ga(n,Pe.create(i,l+1,l+1+a.content.size),"pointer");else if(Ae.isSelectable(a))Ga(n,Ae.create(i,l),"pointer");else continue;return!0}}function zy(n){return Ld(n)}var UA=pe.mac?"metaKey":"ctrlKey";Mn.mousedown=function(n,e){n.shiftKey=e.shiftKey;var r=zy(n),i=Date.now(),o="singleClick";i-n.lastClick.time<500&&D9(e,n.lastClick)&&!e[UA]&&(n.lastClick.type=="singleClick"?o="doubleClick":n.lastClick.type=="doubleClick"&&(o="tripleClick")),n.lastClick={time:i,x:e.clientX,y:e.clientY,type:o};var s=n.posAtCoords(Id(e));!s||(o=="singleClick"?(n.mouseDown&&n.mouseDown.done(),n.mouseDown=new Pd(n,s,e,r)):(o=="doubleClick"?R9:I9)(n,s.pos,s.inside,e)?e.preventDefault():Ms(n,"pointer"))};var Pd=function(e,r,i,o){var s=this;this.view=e,this.startDoc=e.state.doc,this.pos=r,this.event=i,this.flushed=o,this.selectNode=i[UA],this.allowDefault=i.shiftKey,this.delayedSelectionSync=!1;var a,l;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),l=r.inside;else{var c=e.state.doc.resolve(r.pos);a=c.parent,l=c.depth?c.before():0}this.mightDrag=null;var u=o?null:i.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f?f.dom:null;var d=e.state,h=d.selection;(i.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof Ae&&h.from<=l&&h.to>l)&&(this.mightDrag={node:a,pos:l,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&pe.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ms(e,"pointer")};Pd.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return Do(e.view)}),this.view.mouseDown=null};Pd.prototype.up=function(e){if(this.done(),!!this.view.dom.contains(e.target.nodeType==3?e.target.parentNode:e.target)){var r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Id(e))),this.allowDefault||!r?Ms(this.view,"pointer"):N9(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||pe.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||pe.chrome&&!(this.view.state.selection instanceof Pe)&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ga(this.view,Be.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):Ms(this.view,"pointer")}};Pd.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ms(this.view,"pointer"),e.buttons==0&&this.done()};Mn.touchdown=function(n){zy(n),Ms(n,"pointer")};Mn.contextmenu=function(n){return zy(n)};function HA(n,e){return n.composing?!0:pe.safari&&Math.abs(e.timeStamp-n.compositionEndedAt)<500?(n.compositionEndedAt=-2e8,!0):!1}var L9=pe.android?5e3:-1;En.compositionstart=En.compositionupdate=function(n){if(!n.composing){n.domObserver.flush();var e=n.state,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(function(l){return l.type.spec.inclusive===!1})))n.markCursor=n.state.storedMarks||r.marks(),Ld(n,!0),n.markCursor=null;else if(Ld(n),pe.gecko&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length)for(var i=n.root.getSelection(),o=i.focusNode,s=i.focusOffset;o&&o.nodeType==1&&s!=0;){var a=s<0?o.lastChild:o.childNodes[s-1];if(!a)break;if(a.nodeType==3){i.collapse(a,a.nodeValue.length);break}else o=a,s=-1}n.composing=!0}VA(n,L9)};En.compositionend=function(n,e){n.composing&&(n.composing=!1,n.compositionEndedAt=e.timeStamp,VA(n,20))};function VA(n,e){clearTimeout(n.composingTimeout),e>-1&&(n.composingTimeout=setTimeout(function(){return Ld(n)},e))}function jA(n){for(n.composing&&(n.composing=!1,n.compositionEndedAt=B9());n.compositionNodes.length>0;)n.compositionNodes.pop().markParentsDirty()}function B9(){var n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Ld(n,e){if(n.domObserver.forceFlush(),jA(n),e||n.docView.dirty){var r=yA(n);return r&&!r.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(r)):n.updateState(n.state),!0}return!1}function F9(n,e){if(!!n.dom.parentNode){var r=n.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),i.removeAllRanges(),i.addRange(o),setTimeout(function(){r.parentNode&&r.parentNode.removeChild(r),n.focus()},50)}}var Ya=pe.ie&&pe.ie_version<15||pe.ios&&pe.webkit_version<604;Mn.copy=En.cut=function(n,e){var r=n.state.selection,i=e.type=="cut";if(!r.empty){var o=Ya?null:e.clipboardData,s=r.content(),a=MA(n,s),l=a.dom,c=a.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",c)):F9(n,l),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function $9(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function z9(n,e){if(!!n.dom.parentNode){var r=n.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(function(){n.focus(),i.parentNode&&i.parentNode.removeChild(i),r?Uy(n,i.value,null,e):Uy(n,i.textContent,i.innerHTML,e)},50)}}function Uy(n,e,r,i){var o=NA(n,e,r,n.shiftKey,n.state.selection.$from);if(n.someProp("handlePaste",function(l){return l(n,i,o||_e.empty)}))return!0;if(!o)return!1;var s=$9(o),a=s?n.state.tr.replaceSelectionWith(s,n.shiftKey):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}En.paste=function(n,e){var r=Ya?null:e.clipboardData;r&&Uy(n,r.getData("text/plain"),r.getData("text/html"),e)?e.preventDefault():z9(n,e)};var U9=function(e,r){this.slice=e,this.move=r},qA=pe.mac?"altKey":"ctrlKey";Mn.dragstart=function(n,e){var r=n.mouseDown;if(r&&r.done(),!!e.dataTransfer){var i=n.state.selection,o=i.empty?null:n.posAtCoords(Id(e));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Ae?i.to-1:i.to))){if(r&&r.mightDrag)n.dispatch(n.state.tr.setSelection(Ae.create(n.state.doc,r.mightDrag.pos)));else if(e.target&&e.target.nodeType==1){var s=n.docView.nearestDesc(e.target,!0);s&&s.node.type.spec.draggable&&s!=n.docView&&n.dispatch(n.state.tr.setSelection(Ae.create(n.state.doc,s.posBefore)))}}var a=n.state.selection.content(),l=MA(n,a),c=l.dom,u=l.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Ya?"Text":"text/html",c.innerHTML),e.dataTransfer.effectAllowed="copyMove",Ya||e.dataTransfer.setData("text/plain",u),n.dragging=new U9(a,!e[qA])}};Mn.dragend=function(n){var e=n.dragging;window.setTimeout(function(){n.dragging==e&&(n.dragging=null)},50)};En.dragover=En.dragenter=function(n,e){return e.preventDefault()};En.drop=function(n,e){var r=n.dragging;if(n.dragging=null,!!e.dataTransfer){var i=n.posAtCoords(Id(e));if(!!i){var o=n.state.doc.resolve(i.pos);if(!!o){var s=r&&r.slice;s?n.someProp("transformPasted",function(g){s=g(s)}):s=NA(n,e.dataTransfer.getData(Ya?"Text":"text/plain"),Ya?null:e.dataTransfer.getData("text/html"),!1,o);var a=r&&!e[qA];if(n.someProp("handleDrop",function(g){return g(n,e,s||_e.empty,a)})){e.preventDefault();return}if(!!s){e.preventDefault();var l=s?Jm(n.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);var c=n.state.tr;a&&c.deleteSelection();var u=c.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),!c.doc.eq(d)){var h=c.doc.resolve(u);if(f&&Ae.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Ae(h));else{var p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(function(g,v,w,b){return p=b}),c.setSelection(Ay(n,h,c.doc.resolve(p)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))}}}}}};Mn.focus=function(n){n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(function(){n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.root.getSelection())&&Do(n)},20))};Mn.blur=function(n,e){n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.set({}),n.focused=!1)};Mn.beforeinput=function(n,e){if(pe.chrome&&pe.android&&e.inputType=="deleteContentBackward"){var r=n.domChangeCount;setTimeout(function(){if(n.domChangeCount==r&&(n.dom.blur(),n.focus(),!n.someProp("handleKeyDown",function(s){return s(n,Wa(8,"Backspace"))}))){var i=n.state.selection,o=i.$cursor;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())}},50)}};for(var WA in En)Mn[WA]=En[WA];function Hc(n,e){if(n==e)return!0;for(var r in n)if(n[r]!==e[r])return!1;for(var i in e)if(!(i in n))return!1;return!0}var Vc=function(e,r){this.spec=r||Ns,this.side=this.spec.side||0,this.toDOM=e};Vc.prototype.map=function(e,r,i,o){var s=e.mapResult(r.from+o,this.side<0?-1:1),a=s.pos,l=s.deleted;return l?null:new jt(a-i,a-i,this)};Vc.prototype.valid=function(){return!0};Vc.prototype.eq=function(e){return this==e||e instanceof Vc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Hc(this.spec,e.spec))};var Ir=function(e,r){this.spec=r||Ns,this.attrs=e};Ir.prototype.map=function(e,r,i,o){var s=e.map(r.from+o,this.spec.inclusiveStart?-1:1)-i,a=e.map(r.to+o,this.spec.inclusiveEnd?1:-1)-i;return s>=a?null:new jt(s,a,this)};Ir.prototype.valid=function(e,r){return r.from<r.to};Ir.prototype.eq=function(e){return this==e||e instanceof Ir&&Hc(this.attrs,e.attrs)&&Hc(this.spec,e.spec)};Ir.is=function(e){return e.type instanceof Ir};var jc=function(e,r){this.spec=r||Ns,this.attrs=e};jc.prototype.map=function(e,r,i,o){var s=e.mapResult(r.from+o,1);if(s.deleted)return null;var a=e.mapResult(r.to+o,-1);return a.deleted||a.pos<=s.pos?null:new jt(s.pos-i,a.pos-i,this)};jc.prototype.valid=function(e,r){var i=e.content.findIndex(r.from),o=i.index,s=i.offset,a;return s==r.from&&!(a=e.child(o)).isText&&s+a.nodeSize==r.to};jc.prototype.eq=function(e){return this==e||e instanceof jc&&Hc(this.attrs,e.attrs)&&Hc(this.spec,e.spec)};var jt=function(e,r,i){this.from=e,this.to=r,this.type=i},Hy={spec:{configurable:!0},inline:{configurable:!0}};jt.prototype.copy=function(e,r){return new jt(e,r,this.type)};jt.prototype.eq=function(e,r){return r===void 0&&(r=0),this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to};jt.prototype.map=function(e,r,i){return this.type.map(e,this,r,i)};jt.widget=function(e,r,i){return new jt(e,e,new Vc(r,i))};jt.inline=function(e,r,i,o){return new jt(e,r,new Ir(i,o))};jt.node=function(e,r,i,o){return new jt(e,r,new jc(i,o))};Hy.spec.get=function(){return this.type.spec};Hy.inline.get=function(){return this.type instanceof Ir};Object.defineProperties(jt.prototype,Hy);var Bd=[],Ns={},it=function(e,r){this.local=e&&e.length?e:Bd,this.children=r&&r.length?r:Bd};it.create=function(e,r){return r.length?Fd(r,e,0,Ns):Qt};it.prototype.find=function(e,r,i){var o=[];return this.findInner(e==null?0:e,r==null?1e9:r,o,0,i),o};it.prototype.findInner=function(e,r,i,o,s){for(var a=0;a<this.local.length;a++){var l=this.local[a];l.from<=r&&l.to>=e&&(!s||s(l.spec))&&i.push(l.copy(l.from+o,l.to+o))}for(var c=0;c<this.children.length;c+=3)if(this.children[c]<r&&this.children[c+1]>e){var u=this.children[c]+1;this.children[c+2].findInner(e-u,r-u,i,o+u,s)}};it.prototype.map=function(e,r,i){return this==Qt||e.maps.length==0?this:this.mapInner(e,r,0,0,i||Ns)};it.prototype.mapInner=function(e,r,i,o,s){for(var a,l=0;l<this.local.length;l++){var c=this.local[l].map(e,i,o);c&&c.type.valid(r,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?H9(this.children,a,e,r,i,o,s):a?new it(a.sort(Rs)):Qt};it.prototype.add=function(e,r){return r.length?this==Qt?it.create(e,r):this.addInner(e,r,0):this};it.prototype.addInner=function(e,r,i){var o=this,s,a=0;e.forEach(function(u,f){var d=f+i,h;if(!!(h=GA(r,u,d))){for(s||(s=o.children.slice());a<s.length&&s[a]<f;)a+=3;s[a]==f?s[a+2]=s[a+2].addInner(u,h,d+1):s.splice(a,0,f,f+u.nodeSize,Fd(h,u,d+1,Ns)),a+=3}});for(var l=KA(a?YA(r):r,-i),c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new it(l.length?this.local.concat(l).sort(Rs):this.local,s||this.children)};it.prototype.remove=function(e){return e.length==0||this==Qt?this:this.removeInner(e,0)};it.prototype.removeInner=function(e,r){for(var i=this.children,o=this.local,s=0;s<i.length;s+=3){for(var a=void 0,l=i[s]+r,c=i[s+1]+r,u=0,f=void 0;u<e.length;u++)(f=e[u])&&f.from>l&&f.to<c&&(e[u]=null,(a||(a=[])).push(f));if(!!a){i==this.children&&(i=this.children.slice());var d=i[s+2].removeInner(a,l+1);d!=Qt?i[s+2]=d:(i.splice(s,3),s-=3)}}if(o.length){for(var h=0,p=void 0;h<e.length;h++)if(p=e[h])for(var g=0;g<o.length;g++)o[g].eq(p,r)&&(o==this.local&&(o=this.local.slice()),o.splice(g--,1))}return i==this.children&&o==this.local?this:o.length||i.length?new it(o,i):Qt};it.prototype.forChild=function(e,r){if(this==Qt)return this;if(r.isLeaf)return it.empty;for(var i,o,s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(i=this.children[s+2]);break}for(var a=e+1,l=a+r.content.size,c=0;c<this.local.length;c++){var u=this.local[c];if(u.from<l&&u.to>a&&u.type instanceof Ir){var f=Math.max(a,u.from)-a,d=Math.min(l,u.to)-a;f<d&&(o||(o=[])).push(u.copy(f,d))}}if(o){var h=new it(o.sort(Rs));return i?new mr([h,i]):h}return i||Qt};it.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof it)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(var i=0;i<this.children.length;i+=3)if(this.children[i]!=e.children[i]||this.children[i+1]!=e.children[i+1]||!this.children[i+2].eq(e.children[i+2]))return!1;return!0};it.prototype.locals=function(e){return Vy(this.localsInner(e))};it.prototype.localsInner=function(e){if(this==Qt)return Bd;if(e.inlineContent||!this.local.some(Ir.is))return this.local;for(var r=[],i=0;i<this.local.length;i++)this.local[i].type instanceof Ir||r.push(this.local[i]);return r};var Qt=new it;it.empty=Qt;it.removeOverlap=Vy;var mr=function(e){this.members=e};mr.prototype.map=function(e,r){var i=this.members.map(function(o){return o.map(e,r,Ns)});return mr.from(i)};mr.prototype.forChild=function(e,r){if(r.isLeaf)return it.empty;for(var i=[],o=0;o<this.members.length;o++){var s=this.members[o].forChild(e,r);s!=Qt&&(s instanceof mr?i=i.concat(s.members):i.push(s))}return mr.from(i)};mr.prototype.eq=function(e){if(!(e instanceof mr)||e.members.length!=this.members.length)return!1;for(var r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0};mr.prototype.locals=function(e){for(var r,i=!0,o=0;o<this.members.length;o++){var s=this.members[o].localsInner(e);if(!!s.length)if(!r)r=s;else{i&&(r=r.slice(),i=!1);for(var a=0;a<s.length;a++)r.push(s[a])}}return r?Vy(i?r:r.sort(Rs)):Bd};mr.from=function(e){switch(e.length){case 0:return Qt;case 1:return e[0];default:return new mr(e)}};function H9(n,e,r,i,o,s,a){for(var l=n.slice(),c=function(L,j,K,V){for(var G=0;G<l.length;G+=3){var B=l[G+1],W=void 0;B==-1||L>B+s||(j>=l[G]+s?l[G+1]=-1:K>=o&&(W=V-K-(j-L))&&(l[G]+=W,l[G+1]+=W))}},u=0;u<r.maps.length;u++)r.maps[u].forEach(c);for(var f=!1,d=0;d<l.length;d+=3)if(l[d+1]==-1){var h=r.map(n[d]+s),p=h-o;if(p<0||p>=i.content.size){f=!0;continue}var g=r.map(n[d+1]+s,-1),v=g-o,w=i.content.findIndex(p),b=w.index,S=w.offset,E=i.maybeChild(b);if(E&&S==p&&S+E.nodeSize==v){var y=l[d+2].mapInner(r,E,h+1,n[d]+s+1,a);y!=Qt?(l[d]=p,l[d+1]=v,l[d+2]=y):(l[d+1]=-2,f=!0)}else f=!0}if(f){var k=V9(l,n,e||[],r,o,s,a),D=Fd(k,i,0,a);e=D.local;for(var T=0;T<l.length;T+=3)l[T+1]<0&&(l.splice(T,3),T-=3);for(var N=0,$=0;N<D.children.length;N+=3){for(var I=D.children[N];$<l.length&&l[$]<I;)$+=3;l.splice($,0,D.children[N],D.children[N+1],D.children[N+2])}}return new it(e&&e.sort(Rs),l)}function KA(n,e){if(!e||!n.length)return n;for(var r=[],i=0;i<n.length;i++){var o=n[i];r.push(new jt(o.from+e,o.to+e,o.type))}return r}function V9(n,e,r,i,o,s,a){function l(u,f){for(var d=0;d<u.local.length;d++){var h=u.local[d].map(i,o,f);h?r.push(h):a.onRemove&&a.onRemove(u.local[d].spec)}for(var p=0;p<u.children.length;p+=3)l(u.children[p+2],u.children[p]+f+1)}for(var c=0;c<n.length;c+=3)n[c+1]==-1&&l(n[c+2],e[c]+s+1);return r}function GA(n,e,r){if(e.isLeaf)return null;for(var i=r+e.nodeSize,o=null,s=0,a=void 0;s<n.length;s++)(a=n[s])&&a.from>r&&a.to<i&&((o||(o=[])).push(a),n[s]=null);return o}function YA(n){for(var e=[],r=0;r<n.length;r++)n[r]!=null&&e.push(n[r]);return e}function Fd(n,e,r,i){var o=[],s=!1;e.forEach(function(c,u){var f=GA(n,c,u+r);if(f){s=!0;var d=Fd(f,c,r+u+1,i);d!=Qt&&o.push(u,u+c.nodeSize,d)}});for(var a=KA(s?YA(n):n,-r).sort(Rs),l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(i.onRemove&&i.onRemove(a[l].spec),a.splice(l--,1));return a.length||o.length?new it(a,o):Qt}function Rs(n,e){return n.from-e.from||n.to-e.to}function Vy(n){for(var e=n,r=0;r<e.length-1;r++){var i=e[r];if(i.from!=i.to)for(var o=r+1;o<e.length;o++){var s=e[o];if(s.from==i.from){s.to!=i.to&&(e==n&&(e=n.slice()),e[o]=s.copy(s.from,i.to),JA(e,o+1,s.copy(i.to,s.to)));continue}else{s.from<i.to&&(e==n&&(e=n.slice()),e[r]=i.copy(i.from,s.from),JA(e,o,i.copy(s.from,i.to)));break}}}return e}function JA(n,e,r){for(;e<n.length&&Rs(r,n[e])>0;)e++;n.splice(e,0,r)}function jy(n){var e=[];return n.someProp("decorations",function(r){var i=r(n.state);i&&i!=Qt&&e.push(i)}),n.cursorWrapper&&e.push(it.create(n.state.doc,[n.cursorWrapper.deco])),mr.from(e)}var Lt=function(e,r){this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(tO),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=QA(this),this.markCursor=null,this.cursorWrapper=null,ZA(this),this.nodeViews=eO(this),this.docView=fA(this.state.doc,XA(this),jy(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,C9(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},qy={props:{configurable:!0},root:{configurable:!0}};qy.props.get=function(){if(this._props.state!=this.state){var n=this._props;this._props={};for(var e in n)this._props[e]=n[e];this._props.state=this.state}return this._props};Lt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&By(this),this._props=e,e.plugins&&(e.plugins.forEach(tO),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)};Lt.prototype.setProps=function(e){var r={};for(var i in this._props)r[i]=this._props[i];r.state=this.state;for(var o in e)r[o]=e[o];this.update(r)};Lt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)};Lt.prototype.updateStateInner=function(e,r){var i=this,o=this.state,s=!1,a=!1;if(e.storedMarks&&this.composing&&(jA(this),a=!0),this.state=e,r){var l=eO(this);q9(l,this.nodeViews)&&(this.nodeViews=l,s=!0),By(this)}this.editable=QA(this),ZA(this);var c=jy(this),u=XA(this),f=r?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,u,c);(d||!e.selection.eq(o.selection))&&(a=!0);var h=f=="preserve"&&a&&this.dom.style.overflowAnchor==null&&F4(this);if(a){this.domObserver.stop();var p=d&&(pe.ie||pe.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&j9(o.selection,e.selection);if(d){var g=pe.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(s||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=fA(e.doc,u,c,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&c9(this))?Do(this,p):(SA(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),f=="reset")this.dom.scrollTop=0;else if(f=="to selection"){var v=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(w){return w(i)})||(e.selection instanceof Ae?Qx(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),v):Qx(this,this.coordsAtPos(e.selection.head,1),v))}else h&&$4(h)};Lt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()};Lt.prototype.updatePluginViews=function(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var s=this.state.plugins[o];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(var a=0;a<this.pluginViews.length;a++){var l=this.pluginViews[a];l.update&&l.update(this,e)}};Lt.prototype.someProp=function(e,r){var i=this._props&&this._props[e],o;if(i!=null&&(o=r?r(i):i))return o;for(var s=0;s<this.directPlugins.length;s++){var a=this.directPlugins[s].props[e];if(a!=null&&(o=r?r(a):a))return o}var l=this.state.plugins;if(l)for(var c=0;c<l.length;c++){var u=l[c].props[e];if(u!=null&&(o=r?r(u):u))return o}};Lt.prototype.hasFocus=function(){return this.root.activeElement==this.dom};Lt.prototype.focus=function(){this.domObserver.stop(),this.editable&&z4(this.dom),Do(this),this.domObserver.start()};qy.root.get=function(){var n=this._root;if(n==null){for(var e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e}return n||document};Lt.prototype.posAtCoords=function(e){return q4(this,e)};Lt.prototype.coordsAtPos=function(e,r){return r===void 0&&(r=1),iA(this,e,r)};Lt.prototype.domAtPos=function(e,r){return r===void 0&&(r=0),this.docView.domFromPos(e,r)};Lt.prototype.nodeDOM=function(e){var r=this.docView.descAt(e);return r?r.nodeDOM:null};Lt.prototype.posAtDOM=function(e,r,i){i===void 0&&(i=-1);var o=this.docView.posFromDOM(e,r,i);if(o==null)throw new RangeError("DOM position not inside the editor");return o};Lt.prototype.endOfTextblock=function(e,r){return J4(this,r||this.state,e)};Lt.prototype.destroy=function(){!this.docView||(x9(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],jy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)};Lt.prototype.dispatchEvent=function(e){return O9(this,e)};Lt.prototype.dispatch=function(e){var r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))};Object.defineProperties(Lt.prototype,qy);function XA(n){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),e.translate="no",n.someProp("attributes",function(r){if(typeof r=="function"&&(r=r(n.state)),r)for(var i in r)i=="class"?e.class+=" "+r[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(r[i]))}),[jt.node(0,n.state.doc.content.size,e)]}function ZA(n){if(n.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),n.cursorWrapper={dom:e,deco:jt.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function QA(n){return!n.someProp("editable",function(e){return e(n.state)===!1})}function j9(n,e){var r=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(r)!=e.$anchor.start(r)}function eO(n){var e={};return n.someProp("nodeViews",function(r){for(var i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}),e}function q9(n,e){var r=0,i=0;for(var o in n){if(n[o]!=e[o])return!0;r++}for(var s in e)i++;return r!=i}function tO(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Pr=function(n){function e(r){n.call(this,r,r)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.map=function(i,o){var s=i.resolve(o.map(this.head));return e.valid(s)?new e(s):n.near(s)},e.prototype.content=function(){return _e.empty},e.prototype.eq=function(i){return i instanceof e&&i.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(i,o){if(typeof o.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(i.resolve(o.pos))},e.prototype.getBookmark=function(){return new $d(this.anchor)},e.valid=function(i){var o=i.parent;if(o.isTextblock||!W9(i)||!K9(i))return!1;var s=o.type.spec.allowGapCursor;if(s!=null)return s;var a=o.contentMatchAt(i.index()).defaultType;return a&&a.isTextblock},e.findFrom=function(i,o,s){e:for(;;){if(!s&&e.valid(i))return i;for(var a=i.pos,l=null,c=i.depth;;c--){var u=i.node(c);if(o>0?i.indexAfter(c)<u.childCount:i.index(c)>0){l=u.child(o>0?i.indexAfter(c):i.index(c)-1);break}else if(c==0)return null;a+=o;var f=i.doc.resolve(a);if(e.valid(f))return f}for(;;){var d=o>0?l.firstChild:l.lastChild;if(!d){if(l.isAtom&&!l.isText&&!Ae.isSelectable(l)){i=i.doc.resolve(a+l.nodeSize*o),s=!1;continue e}break}l=d,a+=o;var h=i.doc.resolve(a);if(e.valid(h))return h}return null}},e}(Be);Pr.prototype.visible=!1;Be.jsonID("gapcursor",Pr);var $d=function(e){this.pos=e};$d.prototype.map=function(e){return new $d(e.map(this.pos))};$d.prototype.resolve=function(e){var r=e.resolve(this.pos);return Pr.valid(r)?new Pr(r):Be.near(r)};function W9(n){for(var e=n.depth;e>=0;e--){var r=n.index(e);if(r!=0)for(var i=n.node(e).child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function K9(n){for(var e=n.depth;e>=0;e--){var r=n.indexAfter(e),i=n.node(e);if(r!=i.childCount)for(var o=i.child(r);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}var G9=function(){return new bt({props:{decorations:X9,createSelectionBetween:function(e,r,i){if(r.pos==i.pos&&Pr.valid(i))return new Pr(i)},handleClick:J9,handleKeyDown:Y9}})},Y9=N4({ArrowLeft:zd("horiz",-1),ArrowRight:zd("horiz",1),ArrowUp:zd("vert",-1),ArrowDown:zd("vert",1)});function zd(n,e){var r=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,o,s){var a=i.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof Pe){if(!s.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=i.doc.resolve(e>0?l.after():l.before())}var u=Pr.findFrom(l,e,c);return u?(o&&o(i.tr.setSelection(new Pr(u))),!0):!1}}function J9(n,e,r){if(!n.editable)return!1;var i=n.state.doc.resolve(e);if(!Pr.valid(i))return!1;var o=n.posAtCoords({left:r.clientX,top:r.clientY}),s=o.inside;return s>-1&&Ae.isSelectable(n.state.doc.nodeAt(s))?!1:(n.dispatch(n.state.tr.setSelection(new Pr(i))),!0)}function X9(n){if(!(n.selection instanceof Pr))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",it.create(n.doc,[jt.widget(n.selection.head,e,{key:"gapcursor"})])}const Z9=Pt.create({name:"gapCursor",addProseMirrorPlugins(){return[G9()]},extendNodeSchema(n){var e;const r={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=We(Oe(n,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),Q9=Vt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Et(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:r,editor:i})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:o,storedMarks:s}=r;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=i.extensionManager,c=s||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&c&&a){const d=c.filter(h=>l.includes(h.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),eV=Vt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Et(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode("heading",n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode("heading","paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>Bt(ce({},n),{[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Ac({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Ud=200,en=function(){};en.prototype.append=function(e){return e.length?(e=en.from(e),!this.length&&e||e.length<Ud&&this.leafAppend(e)||this.length<Ud&&e.leafPrepend(this)||this.appendInner(e)):this};en.prototype.prepend=function(e){return e.length?en.from(e).append(this):this};en.prototype.appendInner=function(e){return new tV(this,e)};en.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?en.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};en.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};en.prototype.forEach=function(e,r,i){r===void 0&&(r=0),i===void 0&&(i=this.length),r<=i?this.forEachInner(e,r,i,0):this.forEachInvertedInner(e,r,i,0)};en.prototype.map=function(e,r,i){r===void 0&&(r=0),i===void 0&&(i=this.length);var o=[];return this.forEach(function(s,a){return o.push(e(s,a))},r,i),o};en.from=function(e){return e instanceof en?e:e&&e.length?new nO(e):en.empty};var nO=function(n){function e(i){n.call(this),this.values=i}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,a,l){for(var c=s;c<a;c++)if(o(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,a,l){for(var c=s-1;c>=a;c--)if(o(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Ud)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Ud)return new e(o.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(en);en.empty=new nO([]);var tV=function(n){function e(r,i){n.call(this),this.left=r,this.right=i,this.length=r.length+i.length,this.depth=Math.max(r.depth,i.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,o,s,a){var l=this.left.length;if(o<l&&this.left.forEachInner(i,o,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(i,Math.max(o-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){var l=this.left.length;if(o>l&&this.right.forEachInvertedInner(i,o-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(i,Math.min(o,l),s,a)===!1)return!1},e.prototype.sliceInner=function(i,o){if(i==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(i,o):i>=s?this.right.slice(i-s,o-s):this.left.slice(i,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(i){var o=this.right.leafAppend(i);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(i){var o=this.left.leafPrepend(i);if(o)return new e(o,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(en),rO=en,nV=500,tn=function(e,r){this.items=e,this.eventCount=r};tn.prototype.popEvent=function(e,r){var i=this;if(this.eventCount==0)return null;for(var o=this.items.length;;o--){var s=this.items.get(o-1);if(s.selection){--o;break}}var a,l;r&&(a=this.remapping(o,this.items.length),l=a.maps.length);var c=e.tr,u,f,d=[],h=[];return this.items.forEach(function(p,g){if(!p.step){a||(a=i.remapping(o,g+1),l=a.maps.length),l--,h.push(p);return}if(a){h.push(new ui(p.map));var v=p.step.map(a.slice(l)),w;v&&c.maybeStep(v).doc&&(w=c.mapping.maps[c.mapping.maps.length-1],d.push(new ui(w,null,null,d.length+h.length))),l--,w&&a.appendMap(w,l)}else c.maybeStep(p.step);if(p.selection)return u=a?p.selection.map(a.slice(l)):p.selection,f=new tn(i.items.slice(0,o).append(h.reverse().concat(d)),i.eventCount-1),!1},this.items.length,0),{remaining:f,transform:c,selection:u}};tn.prototype.addTransform=function(e,r,i,o){for(var s=[],a=this.eventCount,l=this.items,c=!o&&l.length?l.get(l.length-1):null,u=0;u<e.steps.length;u++){var f=e.steps[u].invert(e.docs[u]),d=new ui(e.mapping.maps[u],f,r),h=void 0;(h=c&&c.merge(d))&&(d=h,u?s.pop():l=l.slice(0,l.length-1)),s.push(d),r&&(a++,r=null),o||(c=d)}var p=a-i.depth;return p>iV&&(l=rV(l,p),a-=p),new tn(l.append(s),a)};tn.prototype.remapping=function(e,r){var i=new an;return this.items.forEach(function(o,s){var a=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?i.maps.length-o.mirrorOffset:null;i.appendMap(o.map,a)},e,r),i};tn.prototype.addMaps=function(e){return this.eventCount==0?this:new tn(this.items.append(e.map(function(r){return new ui(r)})),this.eventCount)};tn.prototype.rebased=function(e,r){if(!this.eventCount)return this;var i=[],o=Math.max(0,this.items.length-r),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(function(p){p.selection&&l--},o);var c=r;this.items.forEach(function(p){var g=s.getMirror(--c);if(g!=null){a=Math.min(a,g);var v=s.maps[g];if(p.step){var w=e.steps[g].invert(e.docs[g]),b=p.selection&&p.selection.map(s.slice(c+1,g));b&&l++,i.push(new ui(v,w,b))}else i.push(new ui(v))}},o);for(var u=[],f=r;f<a;f++)u.push(new ui(s.maps[f]));var d=this.items.slice(0,o).append(u).append(i),h=new tn(d,l);return h.emptyItemCount()>nV&&(h=h.compress(this.items.length-i.length)),h};tn.prototype.emptyItemCount=function(){var e=0;return this.items.forEach(function(r){r.step||e++}),e};tn.prototype.compress=function(e){e===void 0&&(e=this.items.length);var r=this.remapping(0,e),i=r.maps.length,o=[],s=0;return this.items.forEach(function(a,l){if(l>=e)o.push(a),a.selection&&s++;else if(a.step){var c=a.step.map(r.slice(i)),u=c&&c.getMap();if(i--,u&&r.appendMap(u,i),c){var f=a.selection&&a.selection.map(r.slice(i));f&&s++;var d=new ui(u.invert(),c,f),h,p=o.length-1;(h=o.length&&o[p].merge(d))?o[p]=h:o.push(d)}}else a.map&&i--},this.items.length,0),new tn(rO.from(o.reverse()),s)};tn.empty=new tn(rO.empty,0);function rV(n,e){var r;return n.forEach(function(i,o){if(i.selection&&e--==0)return r=o,!1}),n.slice(r)}var ui=function(e,r,i,o){this.map=e,this.step=r,this.selection=i,this.mirrorOffset=o};ui.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var r=e.step.merge(this.step);if(r)return new ui(r.getMap().invert(),r,this.selection)}};var To=function(e,r,i,o){this.done=e,this.undone=r,this.prevRanges=i,this.prevTime=o},iV=20;function oV(n,e,r,i){var o=r.getMeta(Mo),s;if(o)return o.historyState;r.getMeta(aV)&&(n=new To(n.done,n.undone,null,0));var a=r.getMeta("appendedTransaction");if(r.steps.length==0)return n;if(a&&a.getMeta(Mo))return a.getMeta(Mo).redo?new To(n.done.addTransform(r,null,i,Hd(e)),n.undone,iO(r.mapping.maps[r.steps.length-1]),n.prevTime):new To(n.done,n.undone.addTransform(r,null,i,Hd(e)),null,n.prevTime);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){var l=n.prevTime==0||!a&&(n.prevTime<(r.time||0)-i.newGroupDelay||!sV(r,n.prevRanges)),c=a?Wy(n.prevRanges,r.mapping):iO(r.mapping.maps[r.steps.length-1]);return new To(n.done.addTransform(r,l?e.selection.getBookmark():null,i,Hd(e)),tn.empty,c,r.time)}else return(s=r.getMeta("rebased"))?new To(n.done.rebased(r,s),n.undone.rebased(r,s),Wy(n.prevRanges,r.mapping),n.prevTime):new To(n.done.addMaps(r.mapping.maps),n.undone.addMaps(r.mapping.maps),Wy(n.prevRanges,r.mapping),n.prevTime)}function sV(n,e){if(!e)return!1;if(!n.docChanged)return!0;var r=!1;return n.mapping.maps[0].forEach(function(i,o){for(var s=0;s<e.length;s+=2)i<=e[s+1]&&o>=e[s]&&(r=!0)}),r}function iO(n){var e=[];return n.forEach(function(r,i,o,s){return e.push(o,s)}),e}function Wy(n,e){if(!n)return null;for(var r=[],i=0;i<n.length;i+=2){var o=e.map(n[i],1),s=e.map(n[i+1],-1);o<=s&&r.push(o,s)}return r}function oO(n,e,r,i){var o=Hd(e),s=Mo.get(e).spec.config,a=(i?n.undone:n.done).popEvent(e,o);if(!!a){var l=a.selection.resolve(a.transform.doc),c=(i?n.done:n.undone).addTransform(a.transform,e.selection.getBookmark(),s,o),u=new To(i?c:a.remaining,i?a.remaining:c,null,0);r(a.transform.setSelection(l).setMeta(Mo,{redo:i,historyState:u}).scrollIntoView())}}var Ky=!1,sO=null;function Hd(n){var e=n.plugins;if(sO!=e){Ky=!1,sO=e;for(var r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Ky=!0;break}}return Ky}var Mo=new It("history"),aV=new It("closeHistory");function lV(n){return n={depth:n&&n.depth||100,newGroupDelay:n&&n.newGroupDelay||500},new bt({key:Mo,state:{init:function(){return new To(tn.empty,tn.empty,null,0)},apply:function(r,i,o){return oV(i,o,r,n)}},config:n,props:{handleDOMEvents:{beforeinput:function(r,i){var o=i.inputType=="historyUndo"?aO(r.state,r.dispatch):i.inputType=="historyRedo"?lO(r.state,r.dispatch):!1;return o&&i.preventDefault(),o}}}})}function aO(n,e){var r=Mo.getState(n);return!r||r.done.eventCount==0?!1:(e&&oO(r,n,e,!1),!0)}function lO(n,e){var r=Mo.getState(n);return!r||r.undone.eventCount==0?!1:(e&&oO(r,n,e,!0),!0)}const cV=Pt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>aO(n,e),redo:()=>({state:n,dispatch:e})=>lO(n,e)}},addProseMirrorPlugins(){return[lV(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),uV=Vt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Et(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n})=>n().command(({tr:e,dispatch:r})=>{const{selection:i}=e,{empty:o,$anchor:s}=i,a=s.parent.isTextblock&&!s.parent.type.spec.code&&!s.parent.textContent;if(!o||!a||!r)return!0;const l=s.before(),c=s.start();return e.deleteRange(l,c),e.setSelection(Pe.create(e.doc,l)),!0}).insertContent({type:this.name}).command(({tr:e,dispatch:r})=>{var i;if(r){const{parent:o,pos:s}=e.selection.$from,a=s+1;if(!e.doc.nodeAt(a)){const c=(i=o.type.contentMatch.defaultType)===null||i===void 0?void 0:i.create();c&&(e.insert(a,c),e.setSelection(Pe.create(e.doc,a)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[cx({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),fV=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,dV=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,hV=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,pV=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,gV=fr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark("italic"),toggleItalic:()=>({commands:n})=>n.toggleMark("italic"),unsetItalic:()=>({commands:n})=>n.unsetMark("italic")}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[As({find:fV,type:this.type}),As({find:hV,type:this.type})]},addPasteRules(){return[Eo({find:dV,type:this.type}),Eo({find:pV,type:this.type})]}}),mV=Vt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Et(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem("listItem"),Tab:()=>this.editor.commands.sinkListItem("listItem"),"Shift-Tab":()=>this.editor.commands.liftListItem("listItem")}}}),vV=/^(\d+)\.\s$/,yV=Vt.create({name:"orderedList",addOptions(){return{HTMLAttributes:{}}},group:"block list",content:"listItem+",addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const i=n,{start:e}=i,r=L0(i,["start"]);return e===1?["ol",Et(this.options.HTMLAttributes,r),0]:["ol",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n})=>n.toggleList("orderedList","listItem")}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[Sd({find:vV,type:this.type,getAttributes:n=>({start:+n[1]}),joinPredicate:(n,e)=>e.childCount+e.attrs.start===+n[1]})]}}),bV=Vt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode("paragraph")}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),_V=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,wV=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,EV=fr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark("strike"),toggleStrike:()=>({commands:n})=>n.toggleMark("strike"),unsetStrike:()=>({commands:n})=>n.unsetMark("strike")}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[As({find:_V,type:this.type})]},addPasteRules(){return[Eo({find:wV,type:this.type})]}}),SV=Vt.create({name:"text",group:"inline"}),xne=Pt.create({name:"starterKit",addExtensions(){var n,e,r,i,o,s,a,l,c,u,f,d,h,p,g,v,w,b;const S=[];return this.options.blockquote!==!1&&S.push(d4.configure((n=this.options)===null||n===void 0?void 0:n.blockquote)),this.options.bold!==!1&&S.push(v4.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&S.push(b4.configure((r=this.options)===null||r===void 0?void 0:r.bulletList)),this.options.code!==!1&&S.push(E4.configure((i=this.options)===null||i===void 0?void 0:i.code)),this.options.codeBlock!==!1&&S.push(C4.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&S.push(x4.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&S.push(O4.configure((a=this.options)===null||a===void 0?void 0:a.dropcursor)),this.options.gapcursor!==!1&&S.push(Z9.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&S.push(Q9.configure((c=this.options)===null||c===void 0?void 0:c.hardBreak)),this.options.heading!==!1&&S.push(eV.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&S.push(cV.configure((f=this.options)===null||f===void 0?void 0:f.history)),this.options.horizontalRule!==!1&&S.push(uV.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&S.push(gV.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&S.push(mV.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&S.push(yV.configure((g=this.options)===null||g===void 0?void 0:g.orderedList)),this.options.paragraph!==!1&&S.push(bV.configure((v=this.options)===null||v===void 0?void 0:v.paragraph)),this.options.strike!==!1&&S.push(EV.configure((w=this.options)===null||w===void 0?void 0:w.strike)),this.options.text!==!1&&S.push(SV.configure((b=this.options)===null||b===void 0?void 0:b.text)),S}}),Ane=Pt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new bt({props:{decorations:({doc:n,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,o=[];if(!!r)return n.descendants((s,a)=>{const l=i>=a&&i<=a+s.nodeSize,c=!s.isLeaf&&!s.childCount;if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];this.editor.isEmpty&&u.push(this.options.emptyEditorClass);const f=wt.node(a,a+s.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:a}):this.options.placeholder});o.push(f)}return this.options.includeChildren}),et.create(n,o)}}})]}});var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});function Gy(n){this.j={},this.jr=[],this.jd=null,this.t=n}Gy.prototype={accepts:function(){return!!this.t},tt:function(e,r){if(r&&r.j)return this.j[e]=r,r;var i=r,o=this.j[e];if(o)return i&&(o.t=i),o;o=ot();var s=Vd(this,e);return s?(Object.assign(o.j,s.j),o.jr.append(s.jr),o.jr=s.jd,o.t=i||s.t):o.t=i,this.j[e]=o,o}};var ot=function(){return new Gy},Me=function(e){return new Gy(e)},we=function(e,r,i){e.j[r]||(e.j[r]=i)},qt=function(e,r,i){e.jr.push([r,i])},Vd=function(e,r){var i=e.j[r];if(i)return i;for(var o=0;o<e.jr.length;o++){var s=e.jr[o][0],a=e.jr[o][1];if(s.test(r))return a}return e.jd},Ge=function(e,r,i){for(var o=0;o<r.length;o++)we(e,r[o],i)},kV=function(e,r){for(var i=0;i<r.length;i++){var o=r[i][0],s=r[i][1];we(e,o,s)}},Is=function(e,r,i,o){for(var s=0,a=r.length,l;s<a&&(l=e.j[r[s]]);)e=l,s++;if(s>=a)return[];for(;s<a-1;)l=o(),we(e,r[s],l),e=l,s++;we(e,r[a-1],i)},Br="DOMAIN",Fi="LOCALHOST",fi="TLD",vr="NUM",Ja="PROTOCOL",Yy="MAILTO",cO="WS",Jy="NL",Xa="OPENBRACE",qc="OPENBRACKET",Wc="OPENANGLEBRACKET",Kc="OPENPAREN",Ps="CLOSEBRACE",Za="CLOSEBRACKET",Qa="CLOSEANGLEBRACKET",el="CLOSEPAREN",jd="AMPERSAND",qd="APOSTROPHE",Wd="ASTERISK",tl="AT",Kd="BACKSLASH",Gd="BACKTICK",Yd="CARET",Gc="COLON",Xy="COMMA",Jd="DOLLAR",No="DOT",Xd="EQUALS",Zy="EXCLAMATION",Zd="HYPHEN",Qd="PERCENT",eh="PIPE",th="PLUS",nh="POUND",rh="QUERY",Qy="QUOTE",eb="SEMI",$i="SLASH",ih="TILDE",oh="UNDERSCORE",sh="SYM",CV=Object.freeze({__proto__:null,DOMAIN:Br,LOCALHOST:Fi,TLD:fi,NUM:vr,PROTOCOL:Ja,MAILTO:Yy,WS:cO,NL:Jy,OPENBRACE:Xa,OPENBRACKET:qc,OPENANGLEBRACKET:Wc,OPENPAREN:Kc,CLOSEBRACE:Ps,CLOSEBRACKET:Za,CLOSEANGLEBRACKET:Qa,CLOSEPAREN:el,AMPERSAND:jd,APOSTROPHE:qd,ASTERISK:Wd,AT:tl,BACKSLASH:Kd,BACKTICK:Gd,CARET:Yd,COLON:Gc,COMMA:Xy,DOLLAR:Jd,DOT:No,EQUALS:Xd,EXCLAMATION:Zy,HYPHEN:Zd,PERCENT:Qd,PIPE:eh,PLUS:th,POUND:nh,QUERY:rh,QUOTE:Qy,SEMI:eb,SLASH:$i,TILDE:ih,UNDERSCORE:oh,SYM:sh}),uO="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),Yc=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Jc=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])/,Xc=/\uFE0F/,Zc=/\d/,fO=/\s/;function xV(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=ot(),r=Me(vr),i=Me(Br),o=ot(),s=Me(cO),a=[[Zc,i],[Yc,i],[Jc,i],[Xc,i]],l=function(){var y=Me(Br);return y.j={"-":o},y.jr=[].concat(a),y},c=function(y){var k=l();return k.t=y,k};kV(e,[["'",Me(qd)],["{",Me(Xa)],["[",Me(qc)],["<",Me(Wc)],["(",Me(Kc)],["}",Me(Ps)],["]",Me(Za)],[">",Me(Qa)],[")",Me(el)],["&",Me(jd)],["*",Me(Wd)],["@",Me(tl)],["`",Me(Gd)],["^",Me(Yd)],[":",Me(Gc)],[",",Me(Xy)],["$",Me(Jd)],[".",Me(No)],["=",Me(Xd)],["!",Me(Zy)],["-",Me(Zd)],["%",Me(Qd)],["|",Me(eh)],["+",Me(th)],["#",Me(nh)],["?",Me(rh)],['"',Me(Qy)],["/",Me($i)],[";",Me(eb)],["~",Me(ih)],["_",Me(oh)],["\\",Me(Kd)]]),we(e,`
`,Me(Jy)),qt(e,fO,s),we(s,`
`,ot()),qt(s,fO,s);for(var u=0;u<uO.length;u++)Is(e,uO[u],c(fi),l);var f=l(),d=l(),h=l(),p=l();Is(e,"file",f,l),Is(e,"ftp",d,l),Is(e,"http",h,l),Is(e,"mailto",p,l);var g=l(),v=Me(Ja),w=Me(Yy);we(d,"s",g),we(d,":",v),we(h,"s",g),we(h,":",v),we(f,":",v),we(g,":",v),we(p,":",w);for(var b=l(),S=0;S<n.length;S++)Is(e,n[S],b,l);return we(b,":",v),Is(e,"localhost",c(Fi),l),qt(e,Zc,r),qt(e,Yc,i),qt(e,Jc,i),qt(e,Xc,i),qt(r,Zc,r),qt(r,Yc,i),qt(r,Jc,i),qt(r,Xc,i),we(r,"-",o),we(i,"-",o),we(o,"-",o),qt(i,Zc,i),qt(i,Yc,i),qt(i,Jc,i),qt(i,Xc,i),qt(o,Zc,i),qt(o,Yc,i),qt(o,Jc,i),qt(o,Xc,i),e.jd=Me(sh),e}function AV(n,e){for(var r=OV(e.replace(/[A-Z]/g,function(p){return p.toLowerCase()})),i=r.length,o=[],s=0,a=0;a<i;){for(var l=n,c=null,u=0,f=null,d=-1,h=-1;a<i&&(c=Vd(l,r[a]));)l=c,l.accepts()?(d=0,h=0,f=l):d>=0&&(d+=r[a].length,h++),u+=r[a].length,s+=r[a].length,a++;s-=d,a-=h,u-=d,o.push({t:f.t,v:e.substr(s-u,u),s:s-u,e:s})}return o}function OV(n){for(var e=[],r=n.length,i=0;i<r;){var o=n.charCodeAt(i),s=void 0,a=o<55296||o>56319||i+1===r||(s=n.charCodeAt(i+1))<56320||s>57343?n[i]:n.slice(i,i+2);e.push(a),i+=a.length}return e}function ah(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ah=function(e){return typeof e}:ah=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(n)}var nn={defaultProtocol:"http",events:null,format:dO,formatHref:dO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function tb(n){n=n||{},this.defaultProtocol="defaultProtocol"in n?n.defaultProtocol:nn.defaultProtocol,this.events="events"in n?n.events:nn.events,this.format="format"in n?n.format:nn.format,this.formatHref="formatHref"in n?n.formatHref:nn.formatHref,this.nl2br="nl2br"in n?n.nl2br:nn.nl2br,this.tagName="tagName"in n?n.tagName:nn.tagName,this.target="target"in n?n.target:nn.target,this.rel="rel"in n?n.rel:nn.rel,this.validate="validate"in n?n.validate:nn.validate,this.truncate="truncate"in n?n.truncate:nn.truncate,this.className="className"in n?n.className:nn.className,this.attributes=n.attributes||nn.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in n)?n.ignoreTags:nn.ignoreTags,r=0;r<e.length;r++)this.ignoreTags.push(e[r].toUpperCase())}tb.prototype={resolve:function(e){var r=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",r,e),tagName:this.get("tagName",r,e),className:this.get("className",r,e),target:this.get("target",r,e),rel:this.get("rel",r,e),events:this.getObject("events",r,e),attributes:this.getObject("attributes",r,e),truncate:this.get("truncate",r,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,r,i){var o=this[e];if(!o)return o;var s;switch(ah(o)){case"function":return o(r,i.t);case"object":return s=i.t in o?o[i.t]:nn[e],typeof s=="function"?s(r,i.t):s}return o},getObject:function(e,r,i){var o=this[e];return typeof o=="function"?o(r,i.t):o}};function dO(n){return n}var DV=Object.freeze({__proto__:null,defaults:nn,Options:tb});function TV(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Object.create(n.prototype);for(var o in r)i[o]=r[o];return i.constructor=e,e.prototype=i,e}function lh(){}lh.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nn.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function Ls(n,e){function r(i,o){this.t=n,this.v=i,this.tk=o}return TV(lh,r,e),r}var hO=Ls("email",{isLink:!0}),nb=Ls("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),rb=Ls("text"),pO=Ls("nl"),Ro=Ls("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nn.defaultProtocol,r=this.tk,i=!1,o=!1,s=[],a=0;r[a].t===Ja;)i=!0,s.push(r[a].v),a++;for(;r[a].t===$i;)o=!0,s.push(r[a].v),a++;for(;a<r.length;a++)s.push(r[a].v);return s=s.join(""),i||o||(s="".concat(e,"://").concat(s)),s},hasProtocol:function(){return this.tk[0].t===Ja}}),MV=Object.freeze({__proto__:null,MultiToken:lh,Base:lh,createTokenClass:Ls,MailtoEmail:hO,Email:nb,Text:rb,Nl:pO,Url:Ro});function NV(){var n=ot(),e=ot(),r=ot(),i=ot(),o=ot(),s=ot(),a=ot(),l=Me(Ro),c=ot(),u=Me(Ro),f=Me(Ro),d=ot(),h=ot(),p=ot(),g=ot(),v=ot(),w=Me(Ro),b=Me(Ro),S=Me(Ro),E=Me(Ro),y=ot(),k=ot(),D=ot(),T=ot(),N=ot(),$=ot(),I=Me(nb),L=ot(),j=Me(nb),K=Me(hO),V=ot(),G=ot(),B=ot(),W=ot(),X=Me(pO);we(n,Jy,X),we(n,Ja,e),we(n,Yy,r),we(e,$i,i),we(i,$i,o),we(n,fi,s),we(n,Br,s),we(n,Fi,l),we(n,vr,s),we(o,fi,f),we(o,Br,f),we(o,vr,f),we(o,Fi,f),we(s,No,a),we(N,No,$),we(a,fi,l),we(a,Br,s),we(a,vr,s),we(a,Fi,s),we($,fi,I),we($,Br,N),we($,vr,N),we($,Fi,N),we(l,No,a),we(I,No,$),we(l,Gc,c),we(l,$i,f),we(c,vr,u),we(u,$i,f),we(I,Gc,L),we(L,vr,j);var J=[jd,Wd,tl,Kd,Gd,Yd,Jd,Br,Xd,Zd,Fi,vr,Qd,eh,th,nh,Ja,$i,sh,ih,fi,oh],ee=[qd,Qa,Ps,Za,el,Gc,Xy,No,Zy,Wc,Xa,qc,Kc,rh,Qy,eb];we(f,Xa,h),we(f,qc,p),we(f,Wc,g),we(f,Kc,v),we(d,Xa,h),we(d,qc,p),we(d,Wc,g),we(d,Kc,v),we(h,Ps,f),we(p,Za,f),we(g,Qa,f),we(v,el,f),we(w,Ps,f),we(b,Za,f),we(S,Qa,f),we(E,el,f),we(y,Ps,f),we(k,Za,f),we(D,Qa,f),we(T,el,f),Ge(h,J,w),Ge(p,J,b),Ge(g,J,S),Ge(v,J,E),Ge(h,ee,y),Ge(p,ee,k),Ge(g,ee,D),Ge(v,ee,T),Ge(w,J,w),Ge(b,J,b),Ge(S,J,S),Ge(E,J,E),Ge(w,ee,w),Ge(b,ee,b),Ge(S,ee,S),Ge(E,ee,E),Ge(y,J,w),Ge(k,J,b),Ge(D,J,S),Ge(T,J,E),Ge(y,ee,y),Ge(k,ee,k),Ge(D,ee,D),Ge(T,ee,T),Ge(f,J,f),Ge(d,J,f),Ge(f,ee,d),Ge(d,ee,d),we(r,fi,K),we(r,Br,K),we(r,vr,K),we(r,Fi,K),Ge(K,J,K),Ge(K,ee,V),Ge(V,J,K),Ge(V,ee,V);var de=[jd,qd,Wd,Kd,Gd,Yd,Ps,Jd,Br,Xd,Zd,vr,Xa,Qd,eh,th,nh,rh,$i,sh,ih,fi,oh];return Ge(s,de,G),we(s,tl,B),Ge(l,de,G),we(l,tl,B),Ge(a,de,G),Ge(G,de,G),we(G,tl,B),we(G,No,W),Ge(W,de,G),we(B,fi,N),we(B,Br,N),we(B,vr,N),we(B,Fi,I),n}function RV(n,e,r){for(var i=r.length,o=0,s=[],a=[];o<i;){for(var l=n,c=null,u=null,f=0,d=null,h=-1;o<i&&!(c=Vd(l,r[o].t));)a.push(r[o++]);for(;o<i&&(u=c||Vd(l,r[o].t));)c=null,l=u,l.accepts()?(h=0,d=l):h>=0&&h++,o++,f++;if(h<0)for(var p=o-f;p<o;p++)a.push(r[p]);else{a.length>0&&(s.push(ib(rb,e,a)),a=[]),o-=h,f-=h;var g=d.t,v=r.slice(o-f,o);s.push(ib(g,e,v))}}return a.length>0&&s.push(ib(rb,e,a)),s}function ib(n,e,r){var i=r[0].s,o=r[r.length-1].e,s=e.substr(i,o-i);return new n(s,r)}var ob=typeof console!="undefined"&&console&&console.warn||function(){},_t={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function IV(){_t.scanner=null,_t.parser=null,_t.pluginQueue=[],_t.customProtocols=[],_t.initialized=!1}function PV(n,e){for(var r=0;r<_t.pluginQueue.length;r++)if(n===_t.pluginQueue[r][0]){ob('linkifyjs: plugin "'.concat(n,'" already registered - will be overwritten')),_t.pluginQueue[r]=[n,e];return}_t.pluginQueue.push([n,e]),_t.initialized&&ob('linkifyjs: already initialized - will not register plugin "'.concat(n,'" until you manually call linkify.init(). To avoid this warning, please register all plugins before invoking linkify the first time.'))}function LV(n){if(_t.initialized&&ob('linkifyjs: already initialized - will not register custom protocol "'.concat(n,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(n))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");_t.customProtocols.push(n)}function gO(){_t.scanner={start:xV(_t.customProtocols),tokens:CV},_t.parser={start:NV(),tokens:MV};for(var n={createTokenClass:Ls},e=0;e<_t.pluginQueue.length;e++)_t.pluginQueue[e][1]({scanner:_t.scanner,parser:_t.parser,utils:n});_t.initialized=!0}function sb(n){return _t.initialized||gO(),RV(_t.parser.start,n,AV(_t.scanner.start,n))}function BV(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=sb(n),i=[],o=0;o<r.length;o++){var s=r[o];s.isLink&&(!e||s.t===e)&&i.push(s.toObject())}return i}function FV(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=sb(n);return r.length===1&&r[0].isLink&&(!e||r[0].t===e)}Lr.Options=tb;Lr.find=BV;Lr.init=gO;Lr.options=DV;Lr.registerCustomProtocol=LV;Lr.registerPlugin=PV;Lr.reset=IV;Lr.test=FV;Lr.tokenize=sb;var mO=Lr;const One=fr.create({name:"link",priority:1e3,inclusive:!1,addOptions(){return{openOnClick:!0,linkOnPaste:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target}}},parseHTML(){return[{tag:"a[href]"}]},renderHTML({HTMLAttributes:n}){return["a",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setLink:n=>({commands:e})=>e.setMark("link",n),toggleLink:n=>({commands:e})=>e.toggleMark("link",n,{extendEmptyMarkRange:!0}),unsetLink:()=>({commands:n})=>n.unsetMark("link",{extendEmptyMarkRange:!0})}},addPasteRules(){return[Eo({find:n=>mO.find(n).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[];return this.options.openOnClick&&n.push(new bt({key:new It("handleClickLink"),props:{handleClick:(e,r,i)=>{var o;const s=this.editor.getAttributes("link");return((o=i.target)===null||o===void 0?void 0:o.closest("a"))&&s.href?(window.open(s.href,s.target),!0):!1}}})),this.options.linkOnPaste&&n.push(new bt({key:new It("handlePasteLink"),props:{handlePaste:(e,r,i)=>{const{state:o}=e,{selection:s}=o,{empty:a}=s;if(a)return!1;let l="";i.content.forEach(u=>{l+=u.textContent});const c=mO.find(l).find(u=>u.isLink&&u.value===l);return!l||!c?!1:(this.editor.commands.setMark(this.type,{href:c.href}),!0)}}})),n}}),$V=/(?:^|\s)((?:==)((?:[^~]+))(?:==))$/,zV=/(?:^|\s)((?:==)((?:[^~]+))(?:==))/g,Dne=fr.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark("highlight",n),toggleHighlight:n=>({commands:e})=>e.toggleMark("highlight",n),unsetHighlight:()=>({commands:n})=>n.unsetMark("highlight")}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[As({find:$V,type:this.type})]},addPasteRules(){return[Eo({find:zV,type:this.type})]}}),Tne=Vt.create({name:"taskList",addOptions(){return{HTMLAttributes:{}}},group:"block list",content:"taskItem+",parseHTML(){return[{tag:'ul[data-type="taskList"]',priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",Et(this.options.HTMLAttributes,n,{"data-type":"taskList"}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList("taskList","taskItem")}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),UV=/^\s*(\[([ |x])\])\s$/,Mne=Vt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{}}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>n.getAttribute("data-checked")==="true",renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:'li[data-type="taskItem"]',priority:51}]},renderHTML({HTMLAttributes:n}){return["li",Et(this.options.HTMLAttributes,n,{"data-type":"taskItem"}),0]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem("taskItem"),"Shift-Tab":()=>this.editor.commands.liftListItem("taskItem")};return this.options.nested?Bt(ce({},n),{Tab:()=>this.editor.commands.sinkListItem("taskItem")}):n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:r,editor:i})=>{const o=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div");return s.contentEditable="false",l.type="checkbox",l.addEventListener("change",u=>{if(!i.isEditable){l.checked=!l.checked;return}const{checked:f}=u.target;i.isEditable&&typeof r=="function"&&i.chain().focus().command(({tr:d})=>(d.setNodeMarkup(r(),void 0,{checked:f}),!0)).run()}),Object.entries(this.options.HTMLAttributes).forEach(([u,f])=>{o.setAttribute(u,f)}),o.dataset.checked=n.attrs.checked,n.attrs.checked&&l.setAttribute("checked","checked"),s.append(l,a),o.append(s,c),Object.entries(e).forEach(([u,f])=>{o.setAttribute(u,f)}),{dom:o,contentDOM:c,update:u=>u.type!==this.type?!1:(o.dataset.checked=u.attrs.checked,u.attrs.checked?l.setAttribute("checked","checked"):l.removeAttribute("checked"),!0)}}},addInputRules(){return[Sd({find:UV,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),Nne=fr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark("underline"),toggleUnderline:()=>({commands:n})=>n.toggleMark("underline"),unsetUnderline:()=>({commands:n})=>n.unsetMark("underline")}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline()}}}),Rne=fr.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(n){if(n!=="sub")return!1}}]},renderHTML({HTMLAttributes:n}){return["sub",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setSubscript:()=>({commands:n})=>n.setMark("subscript"),toggleSubscript:()=>({commands:n})=>n.toggleMark("subscript"),unsetSubscript:()=>({commands:n})=>n.unsetMark("subscript")}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),Ine=fr.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(n){if(n!=="super")return!1}}]},renderHTML({HTMLAttributes:n}){return["sup",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setSuperscript:()=>({commands:n})=>n.setMark("superscript"),toggleSuperscript:()=>({commands:n})=>n.toggleMark("superscript"),unsetSuperscript:()=>({commands:n})=>n.unsetMark("superscript")}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),HV=Ot({find:/--$/,replace:"\u2014"}),VV=Ot({find:/\.\.\.$/,replace:"\u2026"}),jV=Ot({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:"\u201C"}),qV=Ot({find:/"$/,replace:"\u201D"}),WV=Ot({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:"\u2018"}),KV=Ot({find:/'$/,replace:"\u2019"}),GV=Ot({find:/<-$/,replace:"\u2190"}),YV=Ot({find:/->$/,replace:"\u2192"}),JV=Ot({find:/\(c\)$/,replace:"\xA9"}),XV=Ot({find:/\(tm\)$/,replace:"\u2122"}),ZV=Ot({find:/\(r\)$/,replace:"\xAE"}),QV=Ot({find:/1\/2$/,replace:"\xBD"}),e7=Ot({find:/\+\/-$/,replace:"\xB1"}),t7=Ot({find:/!=$/,replace:"\u2260"}),n7=Ot({find:/<<$/,replace:"\xAB"}),r7=Ot({find:/>>$/,replace:"\xBB"}),i7=Ot({find:/\d+\s?([*x])\s?\d+$/,replace:"\xD7"}),o7=Ot({find:/\^2$/,replace:"\xB2"}),s7=Ot({find:/\^3$/,replace:"\xB3"}),a7=Ot({find:/1\/4$/,replace:"\xBC"}),l7=Ot({find:/3\/4$/,replace:"\xBE"}),Pne=Pt.create({name:"typography",addInputRules(){return[HV,VV,jV,qV,WV,KV,GV,YV,JV,XV,ZV,QV,e7,t7,n7,r7,i7,o7,s7,a7,l7]}});function c7(n){const{char:e,allowSpaces:r,prefixSpace:i,startOfLine:o,$position:s}=n,a=e.split("").map(E=>`\\${E}`).join(""),l=new RegExp(`\\s${a}$`),c=o?"^":"",u=r?new RegExp(`${c}${a}.*?(?=\\s${a}|$)`,"gm"):new RegExp(`${c}(?:^)?${a}[^\\s${a}]*`,"gm"),d=s.depth<=0?0:s.before(),h=s.pos,p=s.doc.textBetween(d,h,"\0","\0"),g=Array.from(p.matchAll(u)).pop();if(!g||g.input===void 0||g.index===void 0)return null;const v=g.input.slice(Math.max(0,g.index-1),g.index),w=/^[\s\0]?$/.test(v);if(i&&!w)return null;const b=g.index+s.start();let S=b+g[0].length;return r&&l.test(p.slice(S-1,S+1))&&(g[0]+=" ",S+=1),b<s.pos&&S>=s.pos?{range:{from:b,to:S},query:g[0].slice(e.length),text:g[0]}:null}const u7=new It("suggestion");function Lne({pluginKey:n=u7,editor:e,char:r="@",allowSpaces:i=!1,prefixSpace:o=!0,startOfLine:s=!1,decorationTag:a="span",decorationClass:l="suggestion",command:c=()=>null,items:u=()=>[],render:f=()=>({}),allow:d=()=>!0}){const h=f==null?void 0:f();return new bt({key:n,view(){return{update:async(p,g)=>{var v,w,b,S,E;const y=(v=this.key)===null||v===void 0?void 0:v.getState(g),k=(w=this.key)===null||w===void 0?void 0:w.getState(p.state),D=y.active&&k.active&&y.range.from!==k.range.from,T=!y.active&&k.active,N=y.active&&!k.active,$=!T&&!N&&y.query!==k.query,I=T||D,L=$&&!D,j=N||D;if(!I&&!L&&!j)return;const K=j&&!I?y:k,V=document.querySelector(`[data-decoration-id="${K.decorationId}"]`),G={editor:e,range:K.range,query:K.query,text:K.text,items:L||I?await u({editor:e,query:K.query}):[],command:B=>{c({editor:e,range:K.range,props:B})},decorationNode:V,clientRect:V?()=>{var B;const{decorationId:W}=(B=this.key)===null||B===void 0?void 0:B.getState(e.state);return document.querySelector(`[data-decoration-id="${W}"]`).getBoundingClientRect()}:null};j&&((b=h==null?void 0:h.onExit)===null||b===void 0||b.call(h,G)),L&&((S=h==null?void 0:h.onUpdate)===null||S===void 0||S.call(h,G)),I&&((E=h==null?void 0:h.onStart)===null||E===void 0||E.call(h,G))}}},state:{init(){return{active:!1,range:{},query:null,text:null,composing:!1}},apply(p,g){const{composing:v}=e.view,{selection:w}=p,{empty:b,from:S}=w,E=ce({},g);if(E.composing=v,b||e.view.composing){(S<g.range.from||S>g.range.to)&&!v&&!g.composing&&(E.active=!1);const y=c7({char:r,allowSpaces:i,prefixSpace:o,startOfLine:s,$position:w.$from}),k=`id_${Math.floor(Math.random()*4294967295)}`;y&&d({editor:e,range:y.range})?(E.active=!0,E.decorationId=g.decorationId?g.decorationId:k,E.range=y.range,E.query=y.query,E.text=y.text):E.active=!1}else E.active=!1;return E.active||(E.decorationId=null,E.range={},E.query=null,E.text=null),E}},props:{handleKeyDown(p,g){var v;const{active:w,range:b}=this.getState(p.state);return w&&((v=h==null?void 0:h.onKeyDown)===null||v===void 0?void 0:v.call(h,{view:p,event:g,range:b}))||!1},decorations(p){const{active:g,range:v,decorationId:w}=this.getState(p);return g?et.create(p.doc,[wt.inline(v.from,v.to,{nodeName:a,class:l,"data-decoration-id":w})]):null}}})}const f7=(n,e)=>{let r=0,i=0;for(;r<n.length&&r<e.length&&n[r]===e[r];)r++;if(r!==n.length||r!==e.length)for(;i+r<n.length&&i+r<e.length&&n[n.length-i-1]===e[e.length-i-1];)i++;return{index:r,remove:n.length-r-i,insert:e.slice(r,e.length-i)}},d7=f7,Mt=new It("y-sync"),Bs=new It("y-undo"),ch=new It("yjs-cursor"),uh=(n,e)=>e===void 0?!n.deleted:e.sv.has(n.id.client)&&e.sv.get(n.id.client)>n.id.clock&&!Df(e.ds,n.id),h7=[{light:"#ecd44433",dark:"#ecd444"}],p7=(n,e,r)=>{if(!n.has(r)){if(n.size<e.length){const i=da();n.forEach(o=>i.add(o)),e=e.filter(o=>!i.has(o))}n.set(r,kB(e))}return n.get(r)},g7=(n,{colors:e=h7,colorMapping:r=new Map,permanentUserData:i=null}={})=>{let o=!1;const s=new bt({props:{editable:a=>{const l=Mt.getState(a);return l.snapshot==null&&l.prevSnapshot==null}},key:Mt,state:{init:(a,l)=>({type:n,doc:n.doc,binding:null,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,colors:e,colorMapping:r,permanentUserData:i}),apply:(a,l)=>{const c=a.getMeta(Mt);if(c!==void 0){l=Object.assign({},l);for(const u in c)l[u]=c[u]}return l.isChangeOrigin=c!==void 0&&!!c.isChangeOrigin,l.binding!==null&&c!==void 0&&(c.snapshot!=null||c.prevSnapshot!=null)&&setTimeout(()=>{c.restore==null?l.binding._renderSnapshot(c.snapshot,c.prevSnapshot,l):(l.binding._renderSnapshot(c.snapshot,c.snapshot,l),delete l.restore,delete l.snapshot,delete l.prevSnapshot,l.binding._prosemirrorChanged(l.binding.prosemirrorView.state.doc))},0),l}},view:a=>{const l=new v7(n,a);return setTimeout(()=>{l._forceRerender(),a.dispatch(a.state.tr.setMeta(Mt,{binding:l}))},0),{update:()=>{const c=s.getState(a.state);c.snapshot==null&&c.prevSnapshot==null&&(o||a.state.doc.content.findDiffStart(a.state.doc.type.createAndFill().content)!==null)&&(o=!0,l._prosemirrorChanged(a.state.doc))},destroy:()=>{l.destroy()}}}});return s},m7=(n,e,r)=>{if(e!==null&&e.anchor!==null&&e.head!==null){const i=tu(r.doc,r.type,e.anchor,r.mapping),o=tu(r.doc,r.type,e.head,r.mapping);i!==null&&o!==null&&(n=n.setSelection(Pe.create(n.doc,i,o)))}},ab=(n,e)=>({anchor:ph(e.selection.anchor,n.type,n.mapping),head:ph(e.selection.head,n.type,n.mapping)});class v7{constructor(e,r){this.type=e,this.prosemirrorView=r,this.mux=dm(),this.mapping=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&(this.beforeTransactionSelection=ab(this,r.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),e.observeDeep(this._observeFunction),this._domSelectionInView=null}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(wg&&this._domSelectionInView===null&&(setTimeout(()=>{this._domSelectionInView=null},0),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection(),r=this.prosemirrorView._root.createRange();r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset),r.getClientRects().length===0&&r.startContainer&&r.collapsed&&r.selectNodeContents(r.startContainer);const o=r.getBoundingClientRect(),s=oo.documentElement;return o.bottom>=0&&o.right>=0&&o.left<=(window.innerWidth||s.clientWidth||0)&&o.top<=(window.innerHeight||s.clientHeight||0)}renderSnapshot(e,r){r||(r=Gg(Hg(),new Map)),this.prosemirrorView.dispatch(this.prosemirrorView.state.tr.setMeta(Mt,{snapshot:e,prevSnapshot:r}))}unrenderSnapshot(){this.mapping=new Map,this.mux(()=>{const e=this.type.toArray().map(i=>fh(i,this.prosemirrorView.state.schema,this.mapping)).filter(i=>i!==null),r=this.prosemirrorView.state.tr.replace(0,this.prosemirrorView.state.doc.content.size,new _e(new se(e),0,0));r.setMeta(Mt,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(r)})}_forceRerender(){this.mapping=new Map,this.mux(()=>{const e=this.type.toArray().map(i=>fh(i,this.prosemirrorView.state.schema,this.mapping)).filter(i=>i!==null),r=this.prosemirrorView.state.tr.replace(0,this.prosemirrorView.state.doc.content.size,new _e(new se(e),0,0));this.prosemirrorView.dispatch(r)})}_renderSnapshot(e,r,i){e||(e=oF(this.doc)),this.mapping=new Map,this.mux(()=>{this.doc.transact(o=>{const s=i.permanentUserData;s&&s.dss.forEach(u=>{Ti(o,u,f=>{})});const a=(u,f)=>{const d=u==="added"?s.getUserByClientId(f.client):s.getUserByDeletedId(f);return{user:d,type:u,color:p7(i.colorMapping,i.colors,d)}},l=N1(this.type,new Kg(r.ds,e.sv)).map(u=>!u._item.deleted||uh(u._item,e)||uh(u._item,r)?fh(u,this.prosemirrorView.state.schema,new Map,e,r,a):null).filter(u=>u!==null),c=this.prosemirrorView.state.tr.replace(0,this.prosemirrorView.state.doc.content.size,new _e(new se(l),0,0));this.prosemirrorView.dispatch(c)},Mt)})}_typeChanged(e,r){const i=Mt.getState(this.prosemirrorView.state);if(e.length===0||i.snapshot!=null||i.prevSnapshot!=null){this.renderSnapshot(i.snapshot,i.prevSnapshot);return}this.mux(()=>{const o=(l,c)=>this.mapping.delete(c);Ti(r,r.deleteSet,l=>l.constructor===nt&&this.mapping.delete(l.content.type)),r.changed.forEach(o),r.changedParentTypes.forEach(o);const s=this.type.toArray().map(l=>vO(l,this.prosemirrorView.state.schema,this.mapping)).filter(l=>l!==null);let a=this.prosemirrorView.state.tr.replace(0,this.prosemirrorView.state.doc.content.size,new _e(new se(s),0,0));m7(a,this.beforeTransactionSelection,this),a=a.setMeta(Mt,{isChangeOrigin:!0}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&a.scrollIntoView(),this.prosemirrorView.dispatch(a)})}_prosemirrorChanged(e){this.mux(()=>{this.doc.transact(()=>{ub(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=ab(this,this.prosemirrorView.state)},Mt)})}destroy(){this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions)}}const vO=(n,e,r,i,o,s)=>{const a=r.get(n);if(a===void 0){if(n instanceof xn)return fh(n,e,r,i,o,s);throw Cr()}return a},fh=(n,e,r,i,o,s)=>{const a=[],l=c=>{if(c.constructor===xn){const u=vO(c,e,r,i,o,s);u!==null&&a.push(u)}else{const u=y7(c,e,r,i,o,s);u!==null&&u.forEach(f=>{f!==null&&a.push(f)})}};i===void 0||o===void 0?n.toArray().forEach(l):N1(n,new Kg(o.ds,i.sv)).forEach(l);try{const c=n.getAttributes(i);i!==void 0&&(uh(n._item,i)?uh(n._item,o)||(c.ychange=s?s("added",n._item.id):{type:"added"}):c.ychange=s?s("removed",n._item.id):{type:"removed"});const u=e.node(n.nodeName,c,a);return r.set(n,u),u}catch(c){return n.doc.transact(u=>{n._item.delete(u)},Mt),r.delete(n),null}},y7=(n,e,r,i,o,s)=>{const a=[],l=n.toDelta(i,o,s);try{for(let c=0;c<l.length;c++){const u=l[c],f=[];for(const d in u.attributes)f.push(e.mark(d,u.attributes[d]));a.push(e.text(u.insert,f))}}catch(c){return n.doc.transact(u=>{n._item.delete(u)},Mt),null}return a},b7=(n,e)=>{const r=new or,i=n.map(o=>({insert:o.text,attributes:_O(o.marks)}));return r.applyDelta(i),e.set(r,n),r},_7=(n,e)=>{const r=new xn(n.type.name);for(const i in n.attrs){const o=n.attrs[i];o!==null&&i!=="ychange"&&r.setAttribute(i,o)}return r.insert(0,dh(n).map(i=>lb(i,e))),e.set(r,n),r},lb=(n,e)=>n instanceof Array?b7(n,e):_7(n,e),cb=(n,e)=>{const r=Object.keys(n).filter(o=>n[o]!==null);let i=r.length===Object.keys(e).filter(o=>e[o]!==null).length;for(let o=0;o<r.length&&i;o++){const s=r[o],a=n[s],l=e[s];i=s==="ychange"||a===l||typeof a=="object"&&typeof l=="object"&&cb(a,l)}return i},dh=n=>{const e=n.content.content,r=[];for(let i=0;i<e.length;i++){const o=e[i];if(o.isText){const s=[];for(let a=e[i];i<e.length&&a.isText;a=e[++i])s.push(a);i--,r.push(s)}else r.push(o)}return r},yO=(n,e)=>{const r=n.toDelta();return r.length===e.length&&r.every((i,o)=>i.insert===e[o].text&&XE(i.attributes||{}).length===e[o].marks.length&&e[o].marks.every(s=>cb(i.attributes[s.type.name]||{},s.attrs)))},Qc=(n,e)=>{if(n instanceof xn&&!(e instanceof Array)&&fb(n,e)){const r=dh(e);return n._length===r.length&&cb(n.getAttributes(),e.attrs)&&n.toArray().every((i,o)=>Qc(i,r[o]))}return n instanceof or&&e instanceof Array&&yO(n,e)},hh=(n,e)=>n===e||n instanceof Array&&e instanceof Array&&n.length===e.length&&n.every((r,i)=>e[i]===r),bO=(n,e,r)=>{const i=n.toArray(),o=dh(e),s=o.length,a=i.length,l=io(a,s);let c=0,u=0,f=!1;for(;c<l;c++){const d=i[c],h=o[c];if(hh(r.get(d),h))f=!0;else if(!Qc(d,h))break}for(;c+u<l;u++){const d=i[a-u-1],h=o[s-u-1];if(hh(r.get(d),h))f=!0;else if(!Qc(d,h))break}return{equalityFactor:c+u,foundMappedChild:f}},w7=n=>{let e="",r=n._start;const i={};for(;r!==null;)r.deleted||(r.countable&&r.content instanceof xr?e+=r.content.str:r.content instanceof Rt&&(i[r.content.key]=null)),r=r.right;return{str:e,nAttrs:i}},E7=(n,e,r)=>{r.set(n,e);const{nAttrs:i,str:o}=w7(n),s=e.map(u=>({insert:u.text,attributes:Object.assign({},i,_O(u.marks))})),{insert:a,remove:l,index:c}=d7(o,s.map(u=>u.insert).join(""));n.delete(c,l),n.insert(c,a),n.applyDelta(s.map(u=>({retain:u.insert.length,attributes:u.attributes})))},_O=n=>{const e={};return n.forEach(r=>{r.type.name!=="ychange"&&(e[r.type.name]=r.attrs)}),e},ub=(n,e,r,i)=>{if(e instanceof xn&&e.nodeName!==r.type.name)throw new Error("node name mismatch!");if(i.set(e,r),e instanceof xn){const d=e.getAttributes(),h=r.attrs;for(const p in h)h[p]!==null?d[p]!==h[p]&&p!=="ychange"&&e.setAttribute(p,h[p]):e.removeAttribute(p);for(const p in d)h[p]===void 0&&e.removeAttribute(p)}const o=dh(r),s=o.length,a=e.toArray(),l=a.length,c=io(s,l);let u=0,f=0;for(;u<c;u++){const d=a[u],h=o[u];if(!hh(i.get(d),h))if(Qc(d,h))i.set(d,h);else break}for(;f+u+1<c;f++){const d=a[l-f-1],h=o[s-f-1];if(!hh(i.get(d),h))if(Qc(d,h))i.set(d,h);else break}n.transact(()=>{for(;l-u-f>0&&s-u-f>0;){const h=a[u],p=o[u],g=a[l-f-1],v=o[s-f-1];if(h instanceof or&&p instanceof Array)yO(h,p)||E7(h,p,i),u+=1;else{let w=h instanceof xn&&fb(h,p),b=g instanceof xn&&fb(g,v);if(w&&b){const S=bO(h,p,i),E=bO(g,v,i);S.foundMappedChild&&!E.foundMappedChild?b=!1:!S.foundMappedChild&&E.foundMappedChild||S.equalityFactor<E.equalityFactor?w=!1:b=!1}w?(ub(n,h,p,i),u+=1):b?(ub(n,g,v,i),f+=1):(e.delete(u,1),e.insert(u,[lb(p,i)]),u+=1)}}const d=l-u-f;if(d>0&&e.delete(u,d),u+f<s){const h=[];for(let p=u;p<s-f;p++)h.push(lb(o[p],i));e.insert(u,h)}},Mt)},fb=(n,e)=>!(e instanceof Array)&&n.nodeName===e.type.name;let eu=null;const S7=()=>{const n=eu;eu=null,n.forEach((e,r)=>{const i=r.state.tr;e.forEach((o,s)=>{i.setMeta(s,o)}),r.dispatch(i)})},k7=(n,e,r)=>{eu||(eu=new Map,IB(0,S7)),zn(eu,n,kr).set(e,r)},ph=(n,e,r)=>{if(n===0)return Wg(e,0);let i=e._first===null?null:e._first.content.type;for(;i!==null&&e!==i;){if(i.constructor===or){if(i._length>=n)return Wg(i,n);if(n-=i._length,i._item!==null&&i._item.next!==null)i=i._item.next.content.type;else{do i=i._item===null?null:i._item.parent,n--;while(i!==e&&i!==null&&i._item!==null&&i._item.next===null);i!==null&&i!==e&&(i=i._item===null?null:i._item.next.content.type)}}else{const o=(r.get(i)||{nodeSize:0}).nodeSize;if(i._first!==null&&n<o)i=i._first.content.type,n--;else{if(n===1&&i._length===0&&o>1)return new Xl(i._item===null?null:i._item.id,i._item===null?Yl(i):null,null);if(n-=o,i._item!==null&&i._item.next!==null)i=i._item.next.content.type;else{if(n===0)return i=i._item===null?i:i._item.parent,new Xl(i._item===null?null:i._item.id,i._item===null?Yl(i):null,null);do i=i._item.parent,n--;while(i!==e&&i._item.next===null);i!==e&&(i=i._item.next.content.type)}}}if(i===null)throw ir();if(n===0&&i.constructor!==or&&i!==e)return C7(i._item.parent,i._item)}return Wg(e,e._length)},C7=(n,e)=>{let r=null,i=null;return n._item===null?i=Yl(n):r=$e(n._item.id.client,n._item.id.clock),new Xl(r,i,e.id)},tu=(n,e,r,i)=>{const o=iF(r,n);if(o===null||o.type!==e&&!Jl(e,o.type._item))return null;let s=o.type,a=0;if(s.constructor===or)a=o.index;else if(s._item===null||!s._item.deleted){let l=s._first,c=0;for(;c<s._length&&c<o.index&&l!==null;){if(!l.deleted){const u=l.content.type;c++,u.constructor===or?a+=u._length:a+=i.get(u).nodeSize}l=l.right}a+=1}for(;s!==e&&s._item!==null;){const l=s._item.parent;if(l._item===null||!l._item.deleted){a+=1;let c=l._first;for(;c!==null;){const u=c.content.type;if(u===s)break;c.deleted||(u.constructor===or?a+=u._length:a+=i.get(u).nodeSize),c=c.right}}s=l}return a-1},x7=n=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${n.color}`);const r=document.createElement("div");return r.setAttribute("style",`background-color: ${n.color}`),r.insertBefore(document.createTextNode(n.name),null),e.insertBefore(r,null),e},wO=(n,e,r)=>{const i=Mt.getState(n),o=i.doc,s=[];return i.snapshot!=null||i.prevSnapshot!=null||i.binding===null?et.create(n.doc,[]):(e.getStates().forEach((a,l)=>{if(l!==o.clientID&&a.cursor!=null){const c=a.user||{};c.color==null&&(c.color="#ffa500"),c.name==null&&(c.name=`User: ${l}`);let u=tu(o,i.type,Zl(a.cursor.anchor),i.binding.mapping),f=tu(o,i.type,Zl(a.cursor.head),i.binding.mapping);if(u!==null&&f!==null){const d=Ci(n.doc.content.size-1,0);u=io(u,d),f=io(f,d),s.push(wt.widget(f,()=>r(c),{key:l+"",side:10}));const h=io(u,f),p=Ci(u,f);s.push(wt.inline(h,p,{style:`background-color: ${c.color}70`},{inclusiveEnd:!0,inclusiveStart:!1}))}}}),et.create(n.doc,s))},A7=(n,{cursorBuilder:e=x7,getSelection:r=o=>o.selection}={},i="cursor")=>new bt({key:ch,state:{init(o,s){return wO(s,n,e)},apply(o,s,a,l){const c=Mt.getState(l),u=o.getMeta(ch);return c&&c.isChangeOrigin||u&&u.awarenessUpdated?wO(l,n,e):s.map(o.mapping,o.doc)}},props:{decorations:o=>ch.getState(o)},view:o=>{const s=()=>{o.docView&&k7(o,ch,{awarenessUpdated:!0})},a=()=>{const l=Mt.getState(o.state),c=n.getLocalState()||{};if(o.hasFocus()&&l.binding!==null){const u=r(o.state),f=ph(u.anchor,l.type,l.binding.mapping),d=ph(u.head,l.type,l.binding.mapping);(c.cursor==null||!y1(Zl(c.cursor.anchor),f)||!y1(Zl(c.cursor.head),d))&&n.setLocalStateField(i,{anchor:f,head:d})}else c.cursor!=null&&tu(l.doc,l.type,Zl(c.cursor.anchor),l.binding.mapping)!==null&&n.setLocalStateField(i,null)};return n.on("change",s),o.dom.addEventListener("focusin",a),o.dom.addEventListener("focusout",a),{update:a,destroy:()=>{o.dom.removeEventListener("focusin",a),o.dom.removeEventListener("focusout",a),n.off("change",s),n.setLocalStateField(i,null)}}}}),O7=n=>{const e=Bs.getState(n).undoManager;if(e!=null)return e.undo(),!0},D7=n=>{const e=Bs.getState(n).undoManager;if(e!=null)return e.redo(),!0},T7=({protectedNodes:n=new Set(["paragraph"]),trackedOrigins:e=[]}={})=>new bt({key:Bs,state:{init:(r,i)=>{const o=Mt.getState(i),s=new dF(o.type,{trackedOrigins:new Set([Mt].concat(e)),deleteFilter:a=>!(a instanceof nt)||!(a.content instanceof Ar)||!(a.content.type instanceof ds||a.content.type instanceof xn&&n.has(a.content.type.nodeName))||a.content.type._length===0});return{undoManager:s,prevSel:null,hasUndoOps:s.undoStack.length>0,hasRedoOps:s.redoStack.length>0}},apply:(r,i,o,s)=>{const a=Mt.getState(s).binding,l=i.undoManager,c=l.undoStack.length>0,u=l.redoStack.length>0;return a?{undoManager:l,prevSel:ab(a,o),hasUndoOps:c,hasRedoOps:u}:c!==i.hasUndoOps||u!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:r=>{const i=Mt.getState(r.state),o=Bs.getState(r.state).undoManager;return o.on("stack-item-added",({stackItem:s})=>{const a=i.binding;a&&s.meta.set(a,Bs.getState(r.state).prevSel)}),o.on("stack-item-popped",({stackItem:s})=>{const a=i.binding;a&&(a.beforeTransactionSelection=s.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{o.destroy()}}}}),Bne=Pt.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},onCreate(){this.editor.extensionManager.extensions.find(n=>n.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:n,state:e,dispatch:r})=>(n.setMeta("preventDispatch",!0),Bs.getState(e).undoManager.undoStack.length===0?!1:r?O7(e):!0),redo:()=>({tr:n,state:e,dispatch:r})=>(n.setMeta("preventDispatch",!0),Bs.getState(e).undoManager.redoStack.length===0?!1:r?D7(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){const n=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field);return[g7(n),T7()]}}),EO=n=>Array.from(n.entries()).map(([e,r])=>ce({clientId:e},r.user)),SO=()=>null,Fne=Pt.create({name:"collaborationCursor",addOptions(){return{provider:null,user:{name:null,color:null},render:n=>{const e=document.createElement("span");e.classList.add("collaboration-cursor__caret"),e.setAttribute("style",`border-color: ${n.color}`);const r=document.createElement("div");return r.classList.add("collaboration-cursor__label"),r.setAttribute("style",`background-color: ${n.color}`),r.insertBefore(document.createTextNode(n.name),null),e.insertBefore(r,null),e},onUpdate:SO}},onCreate(){this.options.onUpdate!==SO&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor')},addStorage(){return{users:[]}},addCommands(){return{updateUser:n=>()=>(this.options.user=n,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:n=>({editor:e})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),e.commands.updateUser(n))}},addProseMirrorPlugins(){return[A7((()=>(this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=EO(this.options.provider.awareness.states),this.options.provider.awareness.on("update",()=>{this.storage.users=EO(this.options.provider.awareness.states)}),this.options.provider.awareness))(),{cursorBuilder:this.options.render})]}}),M7=/^```(?<language>[a-z]*)?[\s\n]$/,N7=/^~~~(?<language>[a-z]*)?[\s\n]$/,R7=Vt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:n=>{var e;const{languageClassPrefix:r}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return s||null},renderHTML:n=>n.language?{class:this.options.languageClassPrefix+n.language}:null}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:n}){return["pre",this.options.HTMLAttributes,["code",n,0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode("codeBlock",n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode("codeBlock","paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!n||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1}}},addInputRules(){return[Ac({find:M7,type:this.type,getAttributes:({groups:n})=>n}),Ac({find:N7,type:this.type,getAttributes:({groups:n})=>n})]},addProseMirrorPlugins(){return[new bt({key:new It("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,s=o==null?void 0:o.mode;if(!r||!s)return!1;const{tr:a}=n.state;return a.replaceSelectionWith(this.type.create({language:s})),a.setSelection(Pe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(r.replace(/\r\n?/g,`
`)),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}});var nl={};function db(n){return n instanceof Map?n.clear=n.delete=n.set=function(){throw new Error("map is read-only")}:n instanceof Set&&(n.add=n.clear=n.delete=function(){throw new Error("set is read-only")}),Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(e){var r=n[e];typeof r=="object"&&!Object.isFrozen(r)&&db(r)}),n}var kO=db,I7=db;kO.default=I7;class CO{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function rl(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Io(n,...e){const r=Object.create(null);for(const i in n)r[i]=n[i];return e.forEach(function(i){for(const o in i)r[o]=i[o]}),r}const P7="</span>",xO=n=>!!n.kind;class L7{constructor(e,r){this.buffer="",this.classPrefix=r.classPrefix,e.walk(this)}addText(e){this.buffer+=rl(e)}openNode(e){if(!xO(e))return;let r=e.kind;e.sublanguage||(r=`${this.classPrefix}${r}`),this.span(r)}closeNode(e){!xO(e)||(this.buffer+=P7)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class hb{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const r={kind:e,children:[]};this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,r){return typeof r=="string"?e.addText(r):r.children&&(e.openNode(r),r.children.forEach(i=>this._walk(e,i)),e.closeNode(r)),e}static _collapse(e){typeof e!="string"&&(!e.children||(e.children.every(r=>typeof r=="string")?e.children=[e.children.join("")]:e.children.forEach(r=>{hb._collapse(r)})))}}class B7 extends hb{constructor(e){super();this.options=e}addKeyword(e,r){e!==""&&(this.openNode(r),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,r){const i=e.root;i.kind=r,i.sublanguage=!0,this.add(i)}toHTML(){return new L7(this,this.options).value()}finalize(){return!0}}function F7(n){return new RegExp(n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function nu(n){return n?typeof n=="string"?n:n.source:null}function $7(...n){return n.map(r=>nu(r)).join("")}function z7(...n){return"("+n.map(r=>nu(r)).join("|")+")"}function U7(n){return new RegExp(n.toString()+"|").exec("").length-1}function H7(n,e){const r=n&&n.exec(e);return r&&r.index===0}const V7=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function j7(n,e="|"){let r=0;return n.map(i=>{r+=1;const o=r;let s=nu(i),a="";for(;s.length>0;){const l=V7.exec(s);if(!l){a+=s;break}a+=s.substring(0,l.index),s=s.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?a+="\\"+String(Number(l[1])+o):(a+=l[0],l[0]==="("&&r++)}return a}).map(i=>`(${i})`).join(e)}const q7=/\b\B/,AO="[a-zA-Z]\\w*",pb="[a-zA-Z_]\\w*",gb="\\b\\d+(\\.\\d+)?",OO="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",DO="\\b(0b[01]+)",W7="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",K7=(n={})=>{const e=/^#![ ]*\//;return n.binary&&(n.begin=$7(e,/.*\b/,n.binary,/\b.*/)),Io({className:"meta",begin:e,end:/$/,relevance:0,"on:begin":(r,i)=>{r.index!==0&&i.ignoreMatch()}},n)},ru={begin:"\\\\[\\s\\S]",relevance:0},G7={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[ru]},Y7={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[ru]},TO={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},gh=function(n,e,r={}){const i=Io({className:"comment",begin:n,end:e,contains:[]},r);return i.contains.push(TO),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),i},J7=gh("//","$"),X7=gh("/\\*","\\*/"),Z7=gh("#","$"),Q7={className:"number",begin:gb,relevance:0},ej={className:"number",begin:OO,relevance:0},tj={className:"number",begin:DO,relevance:0},nj={className:"number",begin:gb+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},rj={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ru,{begin:/\[/,end:/\]/,relevance:0,contains:[ru]}]}]},ij={className:"title",begin:AO,relevance:0},oj={className:"title",begin:pb,relevance:0},sj={begin:"\\.\\s*"+pb,relevance:0},aj=function(n){return Object.assign(n,{"on:begin":(e,r)=>{r.data._beginMatch=e[1]},"on:end":(e,r)=>{r.data._beginMatch!==e[1]&&r.ignoreMatch()}})};var mh=Object.freeze({__proto__:null,MATCH_NOTHING_RE:q7,IDENT_RE:AO,UNDERSCORE_IDENT_RE:pb,NUMBER_RE:gb,C_NUMBER_RE:OO,BINARY_NUMBER_RE:DO,RE_STARTERS_RE:W7,SHEBANG:K7,BACKSLASH_ESCAPE:ru,APOS_STRING_MODE:G7,QUOTE_STRING_MODE:Y7,PHRASAL_WORDS_MODE:TO,COMMENT:gh,C_LINE_COMMENT_MODE:J7,C_BLOCK_COMMENT_MODE:X7,HASH_COMMENT_MODE:Z7,NUMBER_MODE:Q7,C_NUMBER_MODE:ej,BINARY_NUMBER_MODE:tj,CSS_NUMBER_MODE:nj,REGEXP_MODE:rj,TITLE_MODE:ij,UNDERSCORE_TITLE_MODE:oj,METHOD_GUARD:sj,END_SAME_AS_BEGIN:aj});function lj(n,e){n.input[n.index-1]==="."&&e.ignoreMatch()}function cj(n,e){!e||!n.beginKeywords||(n.begin="\\b("+n.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",n.__beforeBegin=lj,n.keywords=n.keywords||n.beginKeywords,delete n.beginKeywords,n.relevance===void 0&&(n.relevance=0))}function uj(n,e){!Array.isArray(n.illegal)||(n.illegal=z7(...n.illegal))}function fj(n,e){if(!!n.match){if(n.begin||n.end)throw new Error("begin & end are not supported with match");n.begin=n.match,delete n.match}}function dj(n,e){n.relevance===void 0&&(n.relevance=1)}const hj=["of","and","for","in","not","or","if","then","parent","list","value"],pj="keyword";function MO(n,e,r=pj){const i={};return typeof n=="string"?o(r,n.split(" ")):Array.isArray(n)?o(r,n):Object.keys(n).forEach(function(s){Object.assign(i,MO(n[s],e,s))}),i;function o(s,a){e&&(a=a.map(l=>l.toLowerCase())),a.forEach(function(l){const c=l.split("|");i[c[0]]=[s,gj(c[0],c[1])]})}}function gj(n,e){return e?Number(e):mj(n)?0:1}function mj(n){return hj.includes(n.toLowerCase())}function vj(n,{plugins:e}){function r(l,c){return new RegExp(nu(l),"m"+(n.case_insensitive?"i":"")+(c?"g":""))}class i{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,u){u.position=this.position++,this.matchIndexes[this.matchAt]=u,this.regexes.push([u,c]),this.matchAt+=U7(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const c=this.regexes.map(u=>u[1]);this.matcherRe=r(j7(c),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;const u=this.matcherRe.exec(c);if(!u)return null;const f=u.findIndex((h,p)=>p>0&&h!==void 0),d=this.matchIndexes[f];return u.splice(0,f),Object.assign(u,d)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];const u=new i;return this.rules.slice(c).forEach(([f,d])=>u.addRule(f,d)),u.compile(),this.multiRegexes[c]=u,u}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,u){this.rules.push([c,u]),u.type==="begin"&&this.count++}exec(c){const u=this.getMatcher(this.regexIndex);u.lastIndex=this.lastIndex;let f=u.exec(c);if(this.resumingScanAtSamePosition()&&!(f&&f.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,f=d.exec(c)}return f&&(this.regexIndex+=f.position+1,this.regexIndex===this.count&&this.considerAll()),f}}function s(l){const c=new o;return l.contains.forEach(u=>c.addRule(u.begin,{rule:u,type:"begin"})),l.terminatorEnd&&c.addRule(l.terminatorEnd,{type:"end"}),l.illegal&&c.addRule(l.illegal,{type:"illegal"}),c}function a(l,c){const u=l;if(l.isCompiled)return u;[fj].forEach(d=>d(l,c)),n.compilerExtensions.forEach(d=>d(l,c)),l.__beforeBegin=null,[cj,uj,dj].forEach(d=>d(l,c)),l.isCompiled=!0;let f=null;if(typeof l.keywords=="object"&&(f=l.keywords.$pattern,delete l.keywords.$pattern),l.keywords&&(l.keywords=MO(l.keywords,n.case_insensitive)),l.lexemes&&f)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return f=f||l.lexemes||/\w+/,u.keywordPatternRe=r(f,!0),c&&(l.begin||(l.begin=/\B|\b/),u.beginRe=r(l.begin),l.endSameAsBegin&&(l.end=l.begin),!l.end&&!l.endsWithParent&&(l.end=/\B|\b/),l.end&&(u.endRe=r(l.end)),u.terminatorEnd=nu(l.end)||"",l.endsWithParent&&c.terminatorEnd&&(u.terminatorEnd+=(l.end?"|":"")+c.terminatorEnd)),l.illegal&&(u.illegalRe=r(l.illegal)),l.contains||(l.contains=[]),l.contains=[].concat(...l.contains.map(function(d){return yj(d==="self"?l:d)})),l.contains.forEach(function(d){a(d,u)}),l.starts&&a(l.starts,c),u.matcher=s(u),u}if(n.compilerExtensions||(n.compilerExtensions=[]),n.contains&&n.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return n.classNameAliases=Io(n.classNameAliases||{}),a(n)}function NO(n){return n?n.endsWithParent||NO(n.starts):!1}function yj(n){return n.variants&&!n.cachedVariants&&(n.cachedVariants=n.variants.map(function(e){return Io(n,{variants:null},e)})),n.cachedVariants?n.cachedVariants:NO(n)?Io(n,{starts:n.starts?Io(n.starts):null}):Object.isFrozen(n)?Io(n):n}var bj="10.7.3";function _j(n){return Boolean(n||n==="")}function wj(n){const e={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!n.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,rl(this.code);let i={};return this.autoDetect?(i=n.highlightAuto(this.code),this.detectedLanguage=i.language):(i=n.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),i.value},autoDetect(){return!this.language||_j(this.autodetect)},ignoreIllegals(){return!0}},render(i){return i("pre",{},[i("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:e,VuePlugin:{install(i){i.component("highlightjs",e)}}}}const Ej={"after:highlightElement":({el:n,result:e,text:r})=>{const i=RO(n);if(!i.length)return;const o=document.createElement("div");o.innerHTML=e.value,e.value=Sj(i,RO(o),r)}};function mb(n){return n.nodeName.toLowerCase()}function RO(n){const e=[];return function r(i,o){for(let s=i.firstChild;s;s=s.nextSibling)s.nodeType===3?o+=s.nodeValue.length:s.nodeType===1&&(e.push({event:"start",offset:o,node:s}),o=r(s,o),mb(s).match(/br|hr|img|input/)||e.push({event:"stop",offset:o,node:s}));return o}(n,0),e}function Sj(n,e,r){let i=0,o="";const s=[];function a(){return!n.length||!e.length?n.length?n:e:n[0].offset!==e[0].offset?n[0].offset<e[0].offset?n:e:e[0].event==="start"?n:e}function l(f){function d(h){return" "+h.nodeName+'="'+rl(h.value)+'"'}o+="<"+mb(f)+[].map.call(f.attributes,d).join("")+">"}function c(f){o+="</"+mb(f)+">"}function u(f){(f.event==="start"?l:c)(f.node)}for(;n.length||e.length;){let f=a();if(o+=rl(r.substring(i,f[0].offset)),i=f[0].offset,f===n){s.reverse().forEach(c);do u(f.splice(0,1)[0]),f=a();while(f===n&&f.length&&f[0].offset===i);s.reverse().forEach(l)}else f[0].event==="start"?s.push(f[0].node):s.pop(),u(f.splice(0,1)[0])}return o+rl(r.substr(i))}const IO={},vb=n=>{console.error(n)},PO=(n,...e)=>{console.log(`WARN: ${n}`,...e)},yr=(n,e)=>{IO[`${n}/${e}`]||(console.log(`Deprecated as of ${n}. ${e}`),IO[`${n}/${e}`]=!0)},yb=rl,LO=Io,BO=Symbol("nomatch"),kj=function(n){const e=Object.create(null),r=Object.create(null),i=[];let o=!0;const s=/(^(<[^>]+>|\t|)+|\n)/gm,a="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let c={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:B7};function u(Z){return c.noHighlightRe.test(Z)}function f(Z){let te=Z.className+" ";te+=Z.parentNode?Z.parentNode.className:"";const Y=c.languageDetectRe.exec(te);if(Y){const oe=G(Y[1]);return oe||(PO(a.replace("{}",Y[1])),PO("Falling back to no-highlight mode for this block.",Z)),oe?Y[1]:"no-highlight"}return te.split(/\s+/).find(oe=>u(oe)||G(oe))}function d(Z,te,Y,oe){let re="",ue="";typeof te=="object"?(re=Z,Y=te.ignoreIllegals,ue=te.language,oe=void 0):(yr("10.7.0","highlight(lang, code, ...args) has been deprecated."),yr("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ue=Z,re=te);const fe={code:re,language:ue};ee("before:highlight",fe);const ke=fe.result?fe.result:h(fe.language,fe.code,Y,oe);return ke.code=fe.code,ee("after:highlight",ke),ke}function h(Z,te,Y,oe){function re(ie,be){const De=M.case_insensitive?be[0].toLowerCase():be[0];return Object.prototype.hasOwnProperty.call(ie.keywords,De)&&ie.keywords[De]}function ue(){if(!x.keywords){H.addText(z);return}let ie=0;x.keywordPatternRe.lastIndex=0;let be=x.keywordPatternRe.exec(z),De="";for(;be;){De+=z.substring(ie,be.index);const He=re(x,be);if(He){const[ne,Ee]=He;if(H.addText(De),De="",Q+=Ee,ne.startsWith("_"))De+=be[0];else{const xe=M.classNameAliases[ne]||ne;H.addKeyword(be[0],xe)}}else De+=be[0];ie=x.keywordPatternRe.lastIndex,be=x.keywordPatternRe.exec(z)}De+=z.substr(ie),H.addText(De)}function fe(){if(z==="")return;let ie=null;if(typeof x.subLanguage=="string"){if(!e[x.subLanguage]){H.addText(z);return}ie=h(x.subLanguage,z,!0,U[x.subLanguage]),U[x.subLanguage]=ie.top}else ie=g(z,x.subLanguage.length?x.subLanguage:null);x.relevance>0&&(Q+=ie.relevance),H.addSublanguage(ie.emitter,ie.language)}function ke(){x.subLanguage!=null?fe():ue(),z=""}function Ce(ie){return ie.className&&H.openNode(M.classNameAliases[ie.className]||ie.className),x=Object.create(ie,{parent:{value:x}}),x}function Se(ie,be,De){let He=H7(ie.endRe,De);if(He){if(ie["on:end"]){const ne=new CO(ie);ie["on:end"](be,ne),ne.isMatchIgnored&&(He=!1)}if(He){for(;ie.endsParent&&ie.parent;)ie=ie.parent;return ie}}if(ie.endsWithParent)return Se(ie.parent,be,De)}function O(ie){return x.matcher.regexIndex===0?(z+=ie[0],1):(me=!0,0)}function R(ie){const be=ie[0],De=ie.rule,He=new CO(De),ne=[De.__beforeBegin,De["on:begin"]];for(const Ee of ne)if(!!Ee&&(Ee(ie,He),He.isMatchIgnored))return O(be);return De&&De.endSameAsBegin&&(De.endRe=F7(be)),De.skip?z+=be:(De.excludeBegin&&(z+=be),ke(),!De.returnBegin&&!De.excludeBegin&&(z=be)),Ce(De),De.returnBegin?0:be.length}function A(ie){const be=ie[0],De=te.substr(ie.index),He=Se(x,ie,De);if(!He)return BO;const ne=x;ne.skip?z+=be:(ne.returnEnd||ne.excludeEnd||(z+=be),ke(),ne.excludeEnd&&(z=be));do x.className&&H.closeNode(),!x.skip&&!x.subLanguage&&(Q+=x.relevance),x=x.parent;while(x!==He.parent);return He.starts&&(He.endSameAsBegin&&(He.starts.endRe=He.endRe),Ce(He.starts)),ne.returnEnd?0:be.length}function P(){const ie=[];for(let be=x;be!==M;be=be.parent)be.className&&ie.unshift(be.className);ie.forEach(be=>H.openNode(be))}let F={};function q(ie,be){const De=be&&be[0];if(z+=ie,De==null)return ke(),0;if(F.type==="begin"&&be.type==="end"&&F.index===be.index&&De===""){if(z+=te.slice(be.index,be.index+1),!o){const He=new Error("0 width match regex");throw He.languageName=Z,He.badRule=F.rule,He}return 1}if(F=be,be.type==="begin")return R(be);if(be.type==="illegal"&&!Y){const He=new Error('Illegal lexeme "'+De+'" for mode "'+(x.className||"<unnamed>")+'"');throw He.mode=x,He}else if(be.type==="end"){const He=A(be);if(He!==BO)return He}if(be.type==="illegal"&&De==="")return 1;if(ve>1e5&&ve>be.index*3)throw new Error("potential infinite loop, way more iterations than matches");return z+=De,De.length}const M=G(Z);if(!M)throw vb(a.replace("{}",Z)),new Error('Unknown language: "'+Z+'"');const m=vj(M,{plugins:i});let C="",x=oe||m;const U={},H=new c.__emitter(c);P();let z="",Q=0,ae=0,ve=0,me=!1;try{for(x.matcher.considerAll();;){ve++,me?me=!1:x.matcher.considerAll(),x.matcher.lastIndex=ae;const ie=x.matcher.exec(te);if(!ie)break;const be=te.substring(ae,ie.index),De=q(be,ie);ae=ie.index+De}return q(te.substr(ae)),H.closeAllNodes(),H.finalize(),C=H.toHTML(),{relevance:Math.floor(Q),value:C,language:Z,illegal:!1,emitter:H,top:x}}catch(ie){if(ie.message&&ie.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:ie.message,context:te.slice(ae-100,ae+100),mode:ie.mode},sofar:C,relevance:0,value:yb(te),emitter:H};if(o)return{illegal:!1,relevance:0,value:yb(te),emitter:H,language:Z,top:x,errorRaised:ie};throw ie}}function p(Z){const te={relevance:0,emitter:new c.__emitter(c),value:yb(Z),illegal:!1,top:l};return te.emitter.addText(Z),te}function g(Z,te){te=te||c.languages||Object.keys(e);const Y=p(Z),oe=te.filter(G).filter(W).map(Ce=>h(Ce,Z,!1));oe.unshift(Y);const re=oe.sort((Ce,Se)=>{if(Ce.relevance!==Se.relevance)return Se.relevance-Ce.relevance;if(Ce.language&&Se.language){if(G(Ce.language).supersetOf===Se.language)return 1;if(G(Se.language).supersetOf===Ce.language)return-1}return 0}),[ue,fe]=re,ke=ue;return ke.second_best=fe,ke}function v(Z){return c.tabReplace||c.useBR?Z.replace(s,te=>te===`
`?c.useBR?"<br>":te:c.tabReplace?te.replace(/\t/g,c.tabReplace):te):Z}function w(Z,te,Y){const oe=te?r[te]:Y;Z.classList.add("hljs"),oe&&Z.classList.add(oe)}const b={"before:highlightElement":({el:Z})=>{c.useBR&&(Z.innerHTML=Z.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,`
`))},"after:highlightElement":({result:Z})=>{c.useBR&&(Z.value=Z.value.replace(/\n/g,"<br>"))}},S=/^(<[^>]+>|\t)+/gm,E={"after:highlightElement":({result:Z})=>{c.tabReplace&&(Z.value=Z.value.replace(S,te=>te.replace(/\t/g,c.tabReplace)))}};function y(Z){let te=null;const Y=f(Z);if(u(Y))return;ee("before:highlightElement",{el:Z,language:Y}),te=Z;const oe=te.textContent,re=Y?d(oe,{language:Y,ignoreIllegals:!0}):g(oe);ee("after:highlightElement",{el:Z,result:re,text:oe}),Z.innerHTML=re.value,w(Z,Y,re.language),Z.result={language:re.language,re:re.relevance,relavance:re.relevance},re.second_best&&(Z.second_best={language:re.second_best.language,re:re.second_best.relevance,relavance:re.second_best.relevance})}function k(Z){Z.useBR&&(yr("10.3.0","'useBR' will be removed entirely in v11.0"),yr("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),c=LO(c,Z)}const D=()=>{if(D.called)return;D.called=!0,yr("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(y)};function T(){yr("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),N=!0}let N=!1;function $(){if(document.readyState==="loading"){N=!0;return}document.querySelectorAll("pre code").forEach(y)}function I(){N&&$()}typeof window!="undefined"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",I,!1);function L(Z,te){let Y=null;try{Y=te(n)}catch(oe){if(vb("Language definition for '{}' could not be registered.".replace("{}",Z)),o)vb(oe);else throw oe;Y=l}Y.name||(Y.name=Z),e[Z]=Y,Y.rawDefinition=te.bind(null,n),Y.aliases&&B(Y.aliases,{languageName:Z})}function j(Z){delete e[Z];for(const te of Object.keys(r))r[te]===Z&&delete r[te]}function K(){return Object.keys(e)}function V(Z){yr("10.4.0","requireLanguage will be removed entirely in v11."),yr("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const te=G(Z);if(te)return te;throw new Error("The '{}' language is required, but not loaded.".replace("{}",Z))}function G(Z){return Z=(Z||"").toLowerCase(),e[Z]||e[r[Z]]}function B(Z,{languageName:te}){typeof Z=="string"&&(Z=[Z]),Z.forEach(Y=>{r[Y.toLowerCase()]=te})}function W(Z){const te=G(Z);return te&&!te.disableAutodetect}function X(Z){Z["before:highlightBlock"]&&!Z["before:highlightElement"]&&(Z["before:highlightElement"]=te=>{Z["before:highlightBlock"](Object.assign({block:te.el},te))}),Z["after:highlightBlock"]&&!Z["after:highlightElement"]&&(Z["after:highlightElement"]=te=>{Z["after:highlightBlock"](Object.assign({block:te.el},te))})}function J(Z){X(Z),i.push(Z)}function ee(Z,te){const Y=Z;i.forEach(function(oe){oe[Y]&&oe[Y](te)})}function de(Z){return yr("10.2.0","fixMarkup will be removed entirely in v11.0"),yr("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),v(Z)}function ge(Z){return yr("10.7.0","highlightBlock will be removed entirely in v12.0"),yr("10.7.0","Please use highlightElement now."),y(Z)}Object.assign(n,{highlight:d,highlightAuto:g,highlightAll:$,fixMarkup:de,highlightElement:y,highlightBlock:ge,configure:k,initHighlighting:D,initHighlightingOnLoad:T,registerLanguage:L,unregisterLanguage:j,listLanguages:K,getLanguage:G,registerAliases:B,requireLanguage:V,autoDetection:W,inherit:LO,addPlugin:J,vuePlugin:wj(n).VuePlugin}),n.debugMode=function(){o=!1},n.safeMode=function(){o=!0},n.versionString=bj;for(const Z in mh)typeof mh[Z]=="object"&&kO(mh[Z]);return Object.assign(n,mh),n.addPlugin(b),n.addPlugin(Ej),n.addPlugin(E),n};var Cj=kj({}),xj=Cj,FO={exports:{}};(function(n){(function(){var e;e=n.exports=o,e.format=o,e.vsprintf=i,typeof console!="undefined"&&typeof console.log=="function"&&(e.printf=r);function r(){console.log(o.apply(null,arguments))}function i(s,a){return o.apply(null,[s].concat(a))}function o(s){for(var a=1,l=[].slice.call(arguments),c=0,u=s.length,f="",d,h=!1,p,g,v=!1,w,b=function(){return l[a++]},S=function(){for(var E="";/\d/.test(s[c]);)E+=s[c++],d=s[c];return E.length>0?parseInt(E):null};c<u;++c)if(d=s[c],h)switch(h=!1,d=="."?(v=!1,d=s[++c]):d=="0"&&s[c+1]=="."?(v=!0,c+=2,d=s[c]):v=!0,w=S(),d){case"b":f+=parseInt(b(),10).toString(2);break;case"c":p=b(),typeof p=="string"||p instanceof String?f+=p:f+=String.fromCharCode(parseInt(p,10));break;case"d":f+=parseInt(b(),10);break;case"f":g=String(parseFloat(b()).toFixed(w||6)),f+=v?g:g.replace(/^0/,"");break;case"j":f+=JSON.stringify(b());break;case"o":f+="0"+parseInt(b(),10).toString(8);break;case"s":f+=b();break;case"x":f+="0x"+parseInt(b(),10).toString(16);break;case"X":f+="0x"+parseInt(b(),10).toString(16).toUpperCase();break;default:f+=d;break}else d==="%"?h=!0:f+=d;return f}})()})(FO);var Aj=FO.exports,Po=Lo(Error),Oj=Po;Po.eval=Lo(EvalError);Po.range=Lo(RangeError);Po.reference=Lo(ReferenceError);Po.syntax=Lo(SyntaxError);Po.type=Lo(TypeError);Po.uri=Lo(URIError);Po.create=Lo;function Lo(n){return e.displayName=n.displayName||n.name,e;function e(r){return r&&(r=Aj.apply(null,arguments)),new n(r)}}var di=xj,vh=Oj;nl.highlight=$O;nl.highlightAuto=Tj;nl.registerLanguage=Mj;nl.listLanguages=Nj;nl.registerAlias=Rj;zi.prototype.addText=Lj;zi.prototype.addKeyword=Ij;zi.prototype.addSublanguage=Pj;zi.prototype.openNode=Bj;zi.prototype.closeNode=Fj;zi.prototype.closeAllNodes=zO;zi.prototype.finalize=zO;zi.prototype.toHTML=$j;var Dj="hljs-";function $O(n,e,r){var i=di.configure({}),o=r||{},s=o.prefix,a;if(typeof n!="string")throw vh("Expected `string` for name, got `%s`",n);if(!di.getLanguage(n))throw vh("Unknown language: `%s` is not registered",n);if(typeof e!="string")throw vh("Expected `string` for value, got `%s`",e);if(s==null&&(s=Dj),di.configure({__emitter:zi,classPrefix:s}),a=di.highlight(e,{language:n,ignoreIllegals:!0}),di.configure(i||{}),a.errorRaised)throw a.errorRaised;return{relevance:a.relevance,language:a.language,value:a.emitter.rootNode.children}}function Tj(n,e){var r=e||{},i=r.subset||di.listLanguages();r.prefix;var o=i.length,s=-1,a,l,c,u;if(typeof n!="string")throw vh("Expected `string` for value, got `%s`",n);for(l={relevance:0,language:null,value:[]},a={relevance:0,language:null,value:[]};++s<o;)u=i[s],!!di.getLanguage(u)&&(c=$O(u,n,e),c.language=u,c.relevance>l.relevance&&(l=c),c.relevance>a.relevance&&(l=a,a=c));return l.language&&(a.secondBest=l),a}function Mj(n,e){di.registerLanguage(n,e)}function Nj(){return di.listLanguages()}function Rj(n,e){var r=n,i;e&&(r={},r[n]=e);for(i in r)di.registerAliases(r[i],{languageName:i})}function zi(n){this.options=n,this.rootNode={children:[]},this.stack=[this.rootNode]}function Ij(n,e){this.openNode(e),this.addText(n),this.closeNode()}function Pj(n,e){var r=this.stack,i=r[r.length-1],o=n.rootNode.children,s=e?{type:"element",tagName:"span",properties:{className:[e]},children:o}:o;i.children=i.children.concat(s)}function Lj(n){var e=this.stack,r,i;n!==""&&(r=e[e.length-1],i=r.children[r.children.length-1],i&&i.type==="text"?i.value+=n:r.children.push({type:"text",value:n}))}function Bj(n){var e=this.stack,r=this.options.classPrefix+n,i=e[e.length-1],o={type:"element",tagName:"span",properties:{className:[r]},children:[]};i.children.push(o),e.push(o)}function Fj(){this.stack.pop()}function $j(){return""}function zO(){}function UO(n,e=[]){return n.map(r=>{const i=[...e,...r.properties?r.properties.className:[]];return r.children?UO(r.children,i):{text:r.value,classes:i}}).flat()}function HO(n){return n.value||n.children||[]}function VO({doc:n,name:e,lowlight:r,defaultLanguage:i}){const o=[];return Zv(n,s=>s.type.name===e).forEach(s=>{let a=s.pos+1;const l=s.node.attrs.language||i;console.log({language:l,defaultLanguage:i});const c=r.listLanguages(),u=l&&c.includes(l)?HO(r.highlight(l,s.node.textContent)):HO(r.highlightAuto(s.node.textContent));UO(u).forEach(f=>{const d=a+f.text.length;if(f.classes.length){const h=wt.inline(a,d,{class:f.classes.join(" ")});o.push(h)}a=d})}),et.create(n,o)}function zj({name:n,lowlight:e,defaultLanguage:r}){return new bt({key:new It("lowlight"),state:{init:(i,{doc:o})=>VO({doc:o,name:n,lowlight:e,defaultLanguage:r}),apply:(i,o,s,a)=>{const l=s.selection.$head.parent.type.name,c=a.selection.$head.parent.type.name,u=Zv(s.doc,d=>d.type.name===n),f=Zv(a.doc,d=>d.type.name===n);return i.docChanged&&([l,c].includes(n)||f.length!==u.length||i.steps.some(d=>d.from!==void 0&&d.to!==void 0&&u.some(h=>h.pos>=d.from&&h.pos+h.node.nodeSize<=d.to)))?VO({doc:i.doc,name:n,lowlight:e,defaultLanguage:r}):o.map(i.mapping,i.doc)}},props:{decorations(i){return this.getState(i)}}})}const $ne=R7.extend({addOptions(){var n;return Bt(ce({},(n=this.parent)===null||n===void 0?void 0:n.call(this)),{lowlight:nl,defaultLanguage:null})},addProseMirrorPlugins(){var n;return[...((n=this.parent)===null||n===void 0?void 0:n.call(this))||[],zj({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),Uj=/(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))/,zne=Vt.create({name:"image",addOptions(){return{inline:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:"img[src]"}]},renderHTML({HTMLAttributes:n}){return["img",Et(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[cx({find:Uj,type:this.type,getAttributes:n=>{const[,,e,r,i]=n;return{src:r,alt:e,title:i}}})]}});function Hj(n){const e=n.regex,r=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",o="[a-zA-Z_]\\w*::",s="<[^<>]+>",a="(?!struct)("+i+"|"+e.optional(o)+"[a-zA-Z_]\\w*"+e.optional(s)+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+c+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},f={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},r,n.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(o)+n.IDENT_RE,relevance:0},p=e.optional(o)+n.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],w=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],y={type:v,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:w},k={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,n.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},D=[k,d,l,r,n.C_BLOCK_COMMENT_MODE,f,u],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:D.concat([{begin:/\(/,end:/\)/,keywords:y,contains:D.concat(["self"]),relevance:0}]),relevance:0},N={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:y,relevance:0},{begin:p,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,f]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[r,n.C_BLOCK_COMMENT_MODE,u,f,l,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",r,n.C_BLOCK_COMMENT_MODE,u,f,l]}]},l,r,n.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:y,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,N,k,D,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<",end:">",keywords:y,contains:["self",l]},{begin:n.IDENT_RE+"::",keywords:y},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Vj(n){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},r=Hj(n),i=r.keywords;return i.type=[...i.type,...e.type],i.literal=[...i.literal,...e.literal],i.built_in=[...i.built_in,...e.built_in],i._hints=e._hints,r.name="Arduino",r.aliases=["ino"],r.supersetOf="cpp",r}function jj(n){const e=n.regex,r={},i={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},i]});const o={className:"subst",begin:/\$\(/,end:/\)/,contains:[n.BACKSLASH_ESCAPE]},s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[n.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,r,o]};o.contains.push(a);const l={className:"",begin:/\\"/},c={className:"string",begin:/'/,end:/'/},u={begin:/\$\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},n.NUMBER_MODE,r]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],d=n.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),h={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[n.inherit(n.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},p=["if","then","else","elif","fi","for","while","in","do","done","case","esac","function"],g=["true","false"],v={match:/(\/[a-z._-]+)+/},w=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],S=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],E=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z._-]+\b/,keyword:p,literal:g,built_in:[...w,...b,"set","shopt",...S,...E]},contains:[d,n.SHEBANG(),h,u,n.HASH_COMMENT_MODE,s,v,a,l,c,r]}}function qj(n){const e=n.regex,r=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",o="[a-zA-Z_]\\w*::",s="<[^<>]+>",a="("+i+"|"+e.optional(o)+"[a-zA-Z_]\\w*"+e.optional(s)+")",l={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+c+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},f={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},r,n.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(o)+n.IDENT_RE,relevance:0},p=e.optional(o)+n.IDENT_RE+"\\s*\\(",w={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},b=[d,l,r,n.C_BLOCK_COMMENT_MODE,f,u],S={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:w,contains:b.concat([{begin:/\(/,end:/\)/,keywords:w,contains:b.concat(["self"]),relevance:0}]),relevance:0},E={begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:w,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:w,relevance:0},{begin:p,returnBegin:!0,contains:[n.inherit(h,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:[r,n.C_BLOCK_COMMENT_MODE,u,f,l,{begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:["self",r,n.C_BLOCK_COMMENT_MODE,u,f,l]}]},l,r,n.C_BLOCK_COMMENT_MODE,d]};return{name:"C",aliases:["h"],keywords:w,disableAutodetect:!0,illegal:"</",contains:[].concat(S,E,b,[d,{begin:n.IDENT_RE+"::",keywords:w},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},n.TITLE_MODE]}]),exports:{preprocessor:d,strings:u,keywords:w}}}function Wj(n){const e=n.regex,r=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",o="[a-zA-Z_]\\w*::",s="<[^<>]+>",a="(?!struct)("+i+"|"+e.optional(o)+"[a-zA-Z_]\\w*"+e.optional(s)+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+c+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},f={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},r,n.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(o)+n.IDENT_RE,relevance:0},p=e.optional(o)+n.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],w=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],y={type:v,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:w},k={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,n.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},D=[k,d,l,r,n.C_BLOCK_COMMENT_MODE,f,u],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:D.concat([{begin:/\(/,end:/\)/,keywords:y,contains:D.concat(["self"]),relevance:0}]),relevance:0},N={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:y,relevance:0},{begin:p,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,f]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[r,n.C_BLOCK_COMMENT_MODE,u,f,l,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",r,n.C_BLOCK_COMMENT_MODE,u,f,l]}]},l,r,n.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:y,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,N,k,D,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<",end:">",keywords:y,contains:["self",l]},{begin:n.IDENT_RE+"::",keywords:y},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Kj(n){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],r=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],i=["default","false","null","true"],o=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:o.concat(s),built_in:e,literal:i},l=n.inherit(n.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},f=n.inherit(u,{illegal:/\n/}),d={className:"subst",begin:/\{/,end:/\}/,keywords:a},h=n.inherit(d,{illegal:/\n/}),p={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},n.BACKSLASH_ESCAPE,h]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},d]},v=n.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]});d.contains=[g,p,u,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,c,n.C_BLOCK_COMMENT_MODE],h.contains=[v,p,f,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,c,n.inherit(n.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const w={variants:[g,p,u,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},b={begin:"<",end:">",contains:[{beginKeywords:"in out"},l]},S=n.IDENT_RE+"(<"+n.IDENT_RE+"(\\s*,\\s*"+n.IDENT_RE+")*>)?(\\[\\])?",E={begin:"@"+n.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[n.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},w,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},l,b,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,b,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+S+"\\s+)+"+n.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:r.join(" "),relevance:0},{begin:n.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[n.TITLE_MODE,b],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[w,c,n.C_BLOCK_COMMENT_MODE]},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},E]}}const Gj=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),Yj=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Jj=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Xj=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Zj=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Qj=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-height","max-width","min-height","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function eq(n){const e=n.regex,r=Gj(n),i={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},o="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",l=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,i,r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Xj.join("|")+")"},{begin:":(:)?("+Zj.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Qj.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:Jj.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Yj.join("|")+")\\b"}]}}function tq(n){const e=n.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function nq(n){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"string",variants:[n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:n.C_NUMBER_RE+"[i]",relevance:1},n.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[n.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function rq(n){const e=n.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:n.NUMBER_RE}]},i=n.COMMENT();i.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const o={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},l={begin:/\[/,end:/\]/,contains:[i,s,o,a,r,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,f=/'[^']*'/,d=e.either(c,u,f),h=e.concat(d,"(\\s*\\.\\s*",d,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[i,{className:"section",begin:/\[+/,end:/\]+/},{begin:h,className:"attr",starts:{end:/$/,contains:[i,l,s,o,a,r]}}]}}var il="[0-9](_*[0-9])*",yh=`\\.(${il})`,bh="[0-9a-fA-F](_*[0-9a-fA-F])*",jO={className:"number",variants:[{begin:`(\\b(${il})((${yh})|\\.)?|(${yh}))[eE][+-]?(${il})[fFdD]?\\b`},{begin:`\\b(${il})((${yh})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${yh})[fFdD]?\\b`},{begin:`\\b(${il})[fFdD]\\b`},{begin:`\\b0[xX]((${bh})\\.?|(${bh})?\\.(${bh}))[pP][+-]?(${il})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${bh})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function qO(n,e,r){return r===-1?"":n.replace(e,i=>qO(n,e,r-1))}function iq(n){n.regex;const e="[\xC0-\u02B8a-zA-Z_$][\xC0-\u02B8a-zA-Z_$0-9]*",r=e+qO("(?:<"+e+"~~~(?:\\s*,\\s*"+e+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+e,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[n.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[n.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[n.BACKSLASH_ESCAPE]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,e],className:{1:"keyword",3:"title.class"}},{begin:[e,/\s+/,e,/\s+/,/=/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,e],className:{1:"keyword",3:"title.class"},contains:[u,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",n.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,jO,n.C_BLOCK_COMMENT_MODE]},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},jO,c]}}const WO="[A-Za-z$_][0-9A-Za-z$_]*",oq=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],sq=["true","false","null","undefined","NaN","Infinity"],KO=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],GO=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],YO=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],aq=["arguments","this","super","console","window","document","localStorage","module","global"],lq=[].concat(YO,KO,GO);function cq(n){const e=n.regex,r=(W,{after:X})=>{const J="</"+W[0].slice(1);return W.input.indexOf(J,X)!==-1},i=WO,o={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,X)=>{const J=W[0].length+W.index,ee=W.input[J];if(ee==="<"||ee===","){X.ignoreMatch();return}ee===">"&&(r(W,{after:J})||X.ignoreMatch());let de;if((de=W.input.substr(J).match(/^\s+extends\s+/))&&de.index===0){X.ignoreMatch();return}}},l={$pattern:WO,keyword:oq,literal:sq,built_in:lq,"variable.language":aq},c="[0-9](_?[0-9])*",u=`\\.(${c})`,f="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${f})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${f})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},g={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"css"}},v={className:"string",begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE,h]},w=n.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),b={className:"comment",variants:[w,n.C_BLOCK_COMMENT_MODE,n.C_LINE_COMMENT_MODE]},S=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,p,g,v,d];h.contains=S.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(S)});const E=[].concat(b,h.contains),y=E.concat([{begin:/\(/,end:/\)/,keywords:l,contains:["self"].concat(E)}]),k={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:y},D={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,e.concat(i,"(",e.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]+|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+/),className:"title.class",keywords:{_:[...KO,...GO]}},N={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},$={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},I={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function L(W){return e.concat("(?!",W.join("|"),")")}const j={match:e.concat(/\b/,L([...YO,"super"]),i,e.lookahead(/\(/)),className:"title.function",relevance:0},K={begin:e.concat(/\./,e.lookahead(e.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},V={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},G="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+n.UNDERSCORE_IDENT_RE+")\\s*=>",B={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,e.lookahead(G)],className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:y,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[n.SHEBANG({label:"shebang",binary:"node",relevance:5}),N,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,p,g,v,b,d,T,{className:"attr",begin:i+e.lookahead(":"),relevance:0},B,{begin:"("+n.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,n.REGEXP_MODE,{className:"function",begin:G,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:n.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:y}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:o.begin,end:o.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},$,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+n.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,n.inherit(n.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},K,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},j,I,D,V,{match:/\$[(.]/}]}}function uq(n){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},i={beginKeywords:["true","false","null"].join(" ")};return{name:"JSON",contains:[e,r,n.QUOTE_STRING_MODE,i,n.C_NUMBER_MODE,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var ol="[0-9](_*[0-9])*",_h=`\\.(${ol})`,wh="[0-9a-fA-F](_*[0-9a-fA-F])*",fq={className:"number",variants:[{begin:`(\\b(${ol})((${_h})|\\.)?|(${_h}))[eE][+-]?(${ol})[fFdD]?\\b`},{begin:`\\b(${ol})((${_h})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${_h})[fFdD]?\\b`},{begin:`\\b(${ol})[fFdD]\\b`},{begin:`\\b0[xX]((${wh})\\.?|(${wh})?\\.(${wh}))[pP][+-]?(${ol})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${wh})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function dq(n){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},i={className:"symbol",begin:n.UNDERSCORE_IDENT_RE+"@"},o={className:"subst",begin:/\$\{/,end:/\}/,contains:[n.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+n.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,o]},{begin:"'",end:"'",illegal:/\n/,contains:[n.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[n.BACKSLASH_ESCAPE,s,o]}]};o.contains.push(a);const l={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+n.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+n.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[n.inherit(a,{className:"string"})]}]},u=fq,f=n.COMMENT("/\\*","\\*/",{contains:[n.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:n.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},h=d;return h.variants[1].contains=[d],d.variants[1].contains=[h],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[n.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),n.C_LINE_COMMENT_MODE,f,r,i,l,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:n.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[n.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,n.C_LINE_COMMENT_MODE,f],relevance:0},n.C_LINE_COMMENT_MODE,f,l,c,a,n.C_NUMBER_MODE]},f]},{className:"class",beginKeywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},n.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,]|$/,excludeBegin:!0,returnEnd:!0},l,c]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const hq=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),pq=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],gq=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],JO=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],XO=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],mq=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-height","max-width","min-height","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),vq=JO.concat(XO);function yq(n){const e=hq(n),r=vq,i="and or not only",o="[\\w-]+",s="("+o+"|@\\{"+o+"\\})",a=[],l=[],c=function(E){return{className:"string",begin:"~?"+E+".*?"+E}},u=function(E,y,k){return{className:E,begin:y,relevance:k}},f={$pattern:/[a-z-]+/,keyword:i,attribute:gq.join(" ")},d={begin:"\\(",end:"\\)",contains:l,keywords:f,relevance:0};l.push(n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,c("'"),c('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,d,u("variable","@@?"+o,10),u("variable","@\\{"+o+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:o+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT);const h=l.concat({begin:/\{/,end:/\}/,contains:a}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(l)},g={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+mq.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:l}}]},v={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:f,returnEnd:!0,contains:l,relevance:0}},w={className:"variable",variants:[{begin:"@"+o+"\\s*:",relevance:15},{begin:"@"+o}],starts:{end:"[;}]",returnEnd:!0,contains:h}},b={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,p,u("keyword","all\\b"),u("variable","@\\{"+o+"\\}"),{begin:"\\b("+pq.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+JO.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+XO.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:h},{begin:"!important"},e.FUNCTION_DISPATCH]},S={begin:o+`:(:)?(${r.join("|")})`,returnBegin:!0,contains:[b]};return a.push(n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,v,w,S,g,b),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function bq(n){const e="\\[=*\\[",r="\\]=*\\]",i={begin:e,end:r,contains:["self"]},o=[n.COMMENT("--(?!"+e+")","$"),n.COMMENT("--"+e,r,{contains:[i],relevance:10})];return{name:"Lua",keywords:{$pattern:n.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:o.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[n.inherit(n.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:o}].concat(o)},n.C_NUMBER_MODE,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,{className:"string",begin:e,end:r,contains:[i],relevance:5}])}}function _q(n){const e={className:"variable",variants:[{begin:"\\$\\("+n.UNDERSCORE_IDENT_RE+"\\)",contains:[n.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},r={className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,e]},i={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e]},o={begin:"^"+n.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[n.HASH_COMMENT_MODE,e,r,i,o,s,a]}}function wq(n){const e=n.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},i={begin:"^[-\\*]{3,}",end:"$"},o={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}/,end:/_{2}/},{begin:/\*{2}/,end:/\*{2}/}]},f={className:"emphasis",contains:[],variants:[{begin:/\*(?!\*)/,end:/\*/},{begin:/_(?!_)/,end:/_/,relevance:0}]};u.contains.push(f),f.contains.push(u);let d=[r,c];return u.contains=u.contains.concat(d),f.contains=f.contains.concat(d),d=d.concat(u,f),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:d},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:d}]}]},r,s,u,f,{className:"quote",begin:"^>\\s+",contains:d,end:"$"},o,i,c,a]}}function Eq(n){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,a={$pattern:r,keyword:["int","float","while","char","export","sizeof","typedef","const","struct","for","union","unsigned","long","volatile","static","bool","mutable","if","do","return","goto","void","enum","else","break","extern","asm","case","short","default","double","register","explicit","signed","typename","this","switch","continue","wchar_t","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","super","unichar","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["BOOL","dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"]},l={$pattern:r,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[e,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,n.C_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(n.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[n.UNDERSCORE_TITLE_MODE]},{begin:"\\."+n.UNDERSCORE_IDENT_RE,relevance:0}]}}function Sq(n){const e=n.regex,r=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],i=/[dualxmsipngr]{0,12}/,o={$pattern:/[\w.]+/,keyword:r.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:o},a={begin:/->\{/,end:/\}/},l={variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},c=[n.BACKSLASH_ESCAPE,s,l],u=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(p,g,v="\\1")=>{const w=v==="\\1"?v:e.concat(v,g);return e.concat(e.concat("(?:",p,")"),g,/(?:\\.|[^\\\/])*?/,w,/(?:\\.|[^\\\/])*?/,v,i)},d=(p,g,v)=>e.concat(e.concat("(?:",p,")"),g,/(?:\\.|[^\\\/])*?/,v,i),h=[l,n.HASH_COMMENT_MODE,n.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:c,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[n.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+n.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[n.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",e.either(...u,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:d("(?:m|qr)?",/\//,/\//)},{begin:d("m|qr",e.either(...u,{capture:!0}),/\1/)},{begin:d("m|qr",/\(/,/\)/)},{begin:d("m|qr",/\[/,/\]/)},{begin:d("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[n.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=h,a.contains=h,{name:"Perl",aliases:["pl","pm"],keywords:o,contains:h}}function kq(n){const e={className:"variable",begin:"\\$+[a-zA-Z_\x7F-\xFF][a-zA-Z0-9_\x7F-\xFF]*(?![A-Za-z0-9])(?![$])"},r={className:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?[=]?/},{begin:/\?>/}]},i={className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},o=n.inherit(n.APOS_STRING_MODE,{illegal:null}),s=n.inherit(n.QUOTE_STRING_MODE,{illegal:null,contains:n.QUOTE_STRING_MODE.contains.concat(i)}),a=n.END_SAME_AS_BEGIN({begin:/<<<[ \t]*(\w+)\n/,end:/[ \t]*(\w+)\b/,contains:n.QUOTE_STRING_MODE.contains.concat(i)}),l={className:"string",contains:[n.BACKSLASH_ESCAPE,r],variants:[n.inherit(o,{begin:"b'",end:"'"}),n.inherit(s,{begin:'b"',end:'"'}),s,o,a]},c={className:"number",variants:[{begin:"\\b0b[01]+(?:_[01]+)*\\b"},{begin:"\\b0o[0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0x[\\da-f]+(?:_[\\da-f]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:e[+-]?\\d+)?"}],relevance:0},u={keyword:"__CLASS__ __DIR__ __FILE__ __FUNCTION__ __LINE__ __METHOD__ __NAMESPACE__ __TRAIT__ die echo exit include include_once print require require_once array abstract and as binary bool boolean break callable case catch class clone const continue declare default do double else elseif empty enddeclare endfor endforeach endif endswitch endwhile enum eval extends final finally float for foreach from global goto if implements instanceof insteadof int integer interface isset iterable list match|0 mixed new object or private protected public real return string switch throw trait try unset use var void while xor yield",literal:"false null true",built_in:"Error|0 AppendIterator ArgumentCountError ArithmeticError ArrayIterator ArrayObject AssertionError BadFunctionCallException BadMethodCallException CachingIterator CallbackFilterIterator CompileError Countable DirectoryIterator DivisionByZeroError DomainException EmptyIterator ErrorException Exception FilesystemIterator FilterIterator GlobIterator InfiniteIterator InvalidArgumentException IteratorIterator LengthException LimitIterator LogicException MultipleIterator NoRewindIterator OutOfBoundsException OutOfRangeException OuterIterator OverflowException ParentIterator ParseError RangeException RecursiveArrayIterator RecursiveCachingIterator RecursiveCallbackFilterIterator RecursiveDirectoryIterator RecursiveFilterIterator RecursiveIterator RecursiveIteratorIterator RecursiveRegexIterator RecursiveTreeIterator RegexIterator RuntimeException SeekableIterator SplDoublyLinkedList SplFileInfo SplFileObject SplFixedArray SplHeap SplMaxHeap SplMinHeap SplObjectStorage SplObserver SplObserver SplPriorityQueue SplQueue SplStack SplSubject SplSubject SplTempFileObject TypeError UnderflowException UnexpectedValueException UnhandledMatchError ArrayAccess Closure Generator Iterator IteratorAggregate Serializable Stringable Throwable Traversable WeakReference WeakMap Directory __PHP_Incomplete_Class parent php_user_filter self static stdClass"};return{case_insensitive:!0,keywords:u,contains:[n.HASH_COMMENT_MODE,n.COMMENT("//","$",{contains:[r]}),n.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),n.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler"}),r,{className:"keyword",begin:/\$this\b/},e,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},n.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{className:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:u,contains:["self",e,n.C_BLOCK_COMMENT_MODE,l,c]}]},{className:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},n.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[n.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",relevance:0,end:";",contains:[n.UNDERSCORE_TITLE_MODE]},l,c]}}function Cq(n){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},n.inherit(n.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),n.inherit(n.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function xq(n){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function Aq(n){const e=n.regex,r=/[\p{XID_Start}_]\p{XID_Continue}*/u,l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:["and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},f={begin:/\{\{/,relevance:0},d={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,c,f,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,c,f,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[n.BACKSLASH_ESCAPE,f,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,f,u]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},h="[0-9](_?[0-9])*",p=`(\\b(${h}))?\\.(${h})|\\b(${h})\\.`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${h})|(${p}))[eE][+-]?(${h})[jJ]?\\b`},{begin:`(${p})[jJ]?`},{begin:"\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?\\b"},{begin:"\\b0[bB](_?[01])+[lL]?\\b"},{begin:"\\b0[oO](_?[0-7])+[lL]?\\b"},{begin:"\\b0[xX](_?[0-9a-fA-F])+[lL]?\\b"},{begin:`\\b(${h})[jJ]\\b`}]},v={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},w={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,g,d,n.HASH_COMMENT_MODE]}]};return u.contains=[d,g,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|->|\?)|=>/,contains:[c,g,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},d,v,n.HASH_COMMENT_MODE,{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[w]},{variants:[{match:[/class/,/\s+/,r,/\s*/,/\(\s*/,r,/\s*\)/]},{match:[/class/,/\s+/,r]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,w,d]}]}}function Oq(n){return{aliases:["pycon"],contains:[{className:"meta",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function Dq(n){const e=n.regex,r=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,i=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),o=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:r,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[n.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:r},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),n.HASH_COMMENT_MODE,{scope:"string",contains:[n.BACKSLASH_ESCAPE],variants:[n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[o,i]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,i]},{scope:{1:"punctuation",2:"number"},match:[s,i]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,i]}]},{scope:{3:"operator"},match:[r,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:o},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function Tq(n){const e=n.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",i={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor __FILE__",built_in:"proc lambda",literal:"true false nil"},o={className:"doctag",begin:"@[A-Za-z]+"},s={begin:"#<",end:">"},a=[n.COMMENT("#","$",{contains:[o]}),n.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),n.COMMENT("^__END__","\\n$")],l={className:"subst",begin:/#\{/,end:/\}/,keywords:i},c={className:"string",contains:[n.BACKSLASH_ESCAPE,l],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[n.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[n.BACKSLASH_ESCAPE,l]})]}]},u="[1-9](_?[0-9])*|0",f="[0-9](_?[0-9])*",d={className:"number",relevance:0,variants:[{begin:`\\b(${u})(\\.(${f}))?([eE][+-]?(${f})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},h={className:"params",begin:"\\(",end:"\\)",endsParent:!0,keywords:i},p=[c,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[n.inherit(n.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|!)?"}),{begin:"<\\s*",contains:[{begin:"("+n.IDENT_RE+"::)?"+n.IDENT_RE,relevance:0}]}].concat(a)},{className:"function",begin:e.concat(/def\s+/,e.lookahead(r+"\\s*(\\(|;|$)")),relevance:0,keywords:"def",end:"$|;",contains:[n.inherit(n.TITLE_MODE,{begin:r}),h].concat(a)},{begin:n.IDENT_RE+"::"},{className:"symbol",begin:n.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[c,{begin:r}],relevance:0},d,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,relevance:0,keywords:i},{begin:"("+n.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[n.BACKSLASH_ESCAPE,l],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(s,a),relevance:0}].concat(s,a);l.contains=p,h.contains=p;const g="[>?]>",v="[\\w#]+\\(\\w+\\):\\d+:\\d+>",w="(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>",b=[{begin:/^\s*=>/,starts:{end:"$",contains:p}},{className:"meta",begin:"^("+g+"|"+v+"|"+w+")(?=[ ])",starts:{end:"$",contains:p}}];return a.unshift(s),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:i,illegal:/\/\*/,contains:[n.SHEBANG({binary:"ruby"})].concat(b).concat(a).concat(p)}}function Mq(n){const e=n.regex,r={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let\b)/,n.IDENT_RE,e.lookahead(/\s*\(/))},i="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],s=["true","false","Some","None","Ok","Err"],a=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","panic!","file!","format!","format_args!","include_bin!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],l=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:n.IDENT_RE+"!?",type:l,keyword:o,literal:s,built_in:a},illegal:"</",contains:[n.C_LINE_COMMENT_MODE,n.COMMENT("/\\*","\\*/",{contains:["self"]}),n.inherit(n.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+i},{begin:"\\b0o([0-7_]+)"+i},{begin:"\\b0x([A-Fa-f0-9_]+)"+i},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+i}],relevance:0},{begin:[/fn/,/\s+/,n.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,n.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,n.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,n.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,n.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:n.IDENT_RE+"::",keywords:{keyword:"Self",built_in:a}},{className:"punctuation",begin:"->"},r]}}const Nq=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),Rq=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Iq=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Pq=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Lq=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Bq=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-height","max-width","min-height","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function Fq(n){const e=Nq(n),r=Lq,i=Pq,o="@[a-z-]+",s="and or not only",l={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b"};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Rq.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+i.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+r.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Bq.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,contains:[e.BLOCK_COMMENT,l,e.HEXCOLOR,e.CSS_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,e.IMPORTANT]},{begin:"@(page|font-face)",keywords:{$pattern:o,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:Iq.join(" ")},contains:[{begin:o,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function $q(n){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function zq(n){const e=n.regex,r=n.COMMENT("--","$"),i={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},o={begin:/"/,end:/"/,contains:[{begin:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],f=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],h=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=f,g=[...u,...c].filter(E=>!f.includes(E)),v={className:"variable",begin:/@[a-z0-9]+/},w={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={begin:e.concat(/\b/,e.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function S(E,{exceptions:y,when:k}={}){const D=k;return y=y||[],E.map(T=>T.match(/\|\d+$/)||y.includes(T)?T:D(T)?`${T}|0`:T)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:S(g,{when:E=>E.length<3}),literal:s,type:l,built_in:d},contains:[{begin:e.either(...h),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:g.concat(h),literal:s,type:l}},{className:"type",begin:e.either(...a)},b,v,i,o,n.C_NUMBER_MODE,n.C_BLOCK_COMMENT_MODE,r,w]}}function ZO(n){return n?typeof n=="string"?n:n.source:null}function Eh(n){return pt("(?=",n,")")}function pt(...n){return n.map(r=>ZO(r)).join("")}function Uq(n){const e=n[n.length-1];return typeof e=="object"&&e.constructor===Object?(n.splice(n.length-1,1),e):{}}function Nn(...n){const e=Uq(n);return"("+(e.capture?"":"?:")+n.map(i=>ZO(i)).join("|")+")"}const bb=n=>pt(/\b/,n,/\w$/.test(n)?/\b/:/\B/),Hq=["Protocol","Type"].map(bb),QO=["init","self"].map(bb),Vq=["Any","Self"],_b=["actor","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],eD=["false","nil","true"],jq=["assignment","associativity","higherThan","left","lowerThan","none","right"],qq=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],tD=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],nD=Nn(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),rD=Nn(nD,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),wb=pt(nD,rD,"*"),iD=Nn(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Sh=Nn(iD,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Ui=pt(iD,Sh,"*"),Eb=pt(/[A-Z]/,Sh,"*"),Wq=["autoclosure",pt(/convention\(/,Nn("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",pt(/objc\(/,Ui,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],Kq=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function Gq(n){const e={match:/\s+/,relevance:0},r=n.COMMENT("/\\*","\\*/",{contains:["self"]}),i=[n.C_LINE_COMMENT_MODE,r],o={match:[/\./,Nn(...Hq,...QO)],className:{2:"keyword"}},s={match:pt(/\./,Nn(..._b)),relevance:0},a=_b.filter(fe=>typeof fe=="string").concat(["_|0"]),l=_b.filter(fe=>typeof fe!="string").concat(Vq).map(bb),c={variants:[{className:"keyword",match:Nn(...l,...QO)}]},u={$pattern:Nn(/\b\w+/,/#\w+/),keyword:a.concat(qq),literal:eD},f=[o,s,c],d={match:pt(/\./,Nn(...tD)),relevance:0},h={className:"built_in",match:pt(/\b/,Nn(...tD),/(?=\()/)},p=[d,h],g={match:/->/,relevance:0},v={className:"operator",relevance:0,variants:[{match:wb},{match:`\\.(\\.|${rD})+`}]},w=[g,v],b="([0-9]_*)+",S="([0-9a-fA-F]_*)+",E={className:"number",relevance:0,variants:[{match:`\\b(${b})(\\.(${b}))?([eE][+-]?(${b}))?\\b`},{match:`\\b0x(${S})(\\.(${S}))?([pP][+-]?(${b}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},y=(fe="")=>({className:"subst",variants:[{match:pt(/\\/,fe,/[0\\tnr"']/)},{match:pt(/\\/,fe,/u\{[0-9a-fA-F]{1,8}\}/)}]}),k=(fe="")=>({className:"subst",match:pt(/\\/,fe,/[\t ]*(?:[\r\n]|\r\n)/)}),D=(fe="")=>({className:"subst",label:"interpol",begin:pt(/\\/,fe,/\(/),end:/\)/}),T=(fe="")=>({begin:pt(fe,/"""/),end:pt(/"""/,fe),contains:[y(fe),k(fe),D(fe)]}),N=(fe="")=>({begin:pt(fe,/"/),end:pt(/"/,fe),contains:[y(fe),D(fe)]}),$={className:"string",variants:[T(),T("#"),T("##"),T("###"),N(),N("#"),N("##"),N("###")]},I={match:pt(/`/,Ui,/`/)},L={className:"variable",match:/\$\d+/},j={className:"variable",match:`\\$${Sh}+`},K=[I,L,j],V={match:/(@|#)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Kq,contains:[...w,E,$]}]}},G={className:"keyword",match:pt(/@/,Nn(...Wq))},B={className:"meta",match:pt(/@/,Ui)},W=[V,G,B],X={match:Eh(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:pt(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Sh,"+")},{className:"type",match:Eb,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:pt(/\s+&\s+/,Eh(Eb)),relevance:0}]},J={begin:/</,end:/>/,keywords:u,contains:[...i,...f,...W,g,X]};X.contains.push(J);const ee={match:pt(Ui,/\s*:/),keywords:"_|0",relevance:0},de={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",ee,...i,...f,...p,...w,E,$,...K,...W,X]},ge={begin:/</,end:/>/,contains:[...i,X]},Z={begin:Nn(Eh(pt(Ui,/\s*:/)),Eh(pt(Ui,/\s+/,Ui,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Ui}]},te={begin:/\(/,end:/\)/,keywords:u,contains:[Z,...i,...f,...w,E,$,...W,X,de],endsParent:!0,illegal:/["']/},Y={match:[/func/,/\s+/,Nn(I.match,Ui,wb)],className:{1:"keyword",3:"title.function"},contains:[ge,te,e],illegal:[/\[/,/%/]},oe={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ge,te,e],illegal:/\[|%/},re={match:[/operator/,/\s+/,wb],className:{1:"keyword",3:"title"}},ue={begin:[/precedencegroup/,/\s+/,Eb],className:{1:"keyword",3:"title"},contains:[X],keywords:[...jq,...eD],end:/}/};for(const fe of $.variants){const ke=fe.contains.find(Se=>Se.label==="interpol");ke.keywords=u;const Ce=[...f,...p,...w,E,$,...K];ke.contains=[...Ce,{begin:/\(/,end:/\)/,contains:["self",...Ce]}]}return{name:"Swift",keywords:u,contains:[...i,Y,oe,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:u,contains:[n.inherit(n.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...f]},re,ue,{beginKeywords:"import",end:/$/,contains:[...i],relevance:0},...f,...p,...w,E,$,...K,...W,X,de]}}const kh="[A-Za-z$_][0-9A-Za-z$_]*",oD=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],sD=["true","false","null","undefined","NaN","Infinity"],aD=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],lD=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],cD=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],uD=["arguments","this","super","console","window","document","localStorage","module","global"],fD=[].concat(cD,aD,lD);function Yq(n){const e=n.regex,r=(W,{after:X})=>{const J="</"+W[0].slice(1);return W.input.indexOf(J,X)!==-1},i=kh,o={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,X)=>{const J=W[0].length+W.index,ee=W.input[J];if(ee==="<"||ee===","){X.ignoreMatch();return}ee===">"&&(r(W,{after:J})||X.ignoreMatch());let de;if((de=W.input.substr(J).match(/^\s+extends\s+/))&&de.index===0){X.ignoreMatch();return}}},l={$pattern:kh,keyword:oD,literal:sD,built_in:fD,"variable.language":uD},c="[0-9](_?[0-9])*",u=`\\.(${c})`,f="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${f})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${f})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},g={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"css"}},v={className:"string",begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE,h]},w=n.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),b={className:"comment",variants:[w,n.C_BLOCK_COMMENT_MODE,n.C_LINE_COMMENT_MODE]},S=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,p,g,v,d];h.contains=S.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(S)});const E=[].concat(b,h.contains),y=E.concat([{begin:/\(/,end:/\)/,keywords:l,contains:["self"].concat(E)}]),k={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:y},D={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,e.concat(i,"(",e.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]+|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+/),className:"title.class",keywords:{_:[...aD,...lD]}},N={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},$={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},I={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function L(W){return e.concat("(?!",W.join("|"),")")}const j={match:e.concat(/\b/,L([...cD,"super"]),i,e.lookahead(/\(/)),className:"title.function",relevance:0},K={begin:e.concat(/\./,e.lookahead(e.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},V={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},G="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+n.UNDERSCORE_IDENT_RE+")\\s*=>",B={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,e.lookahead(G)],className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:y,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[n.SHEBANG({label:"shebang",binary:"node",relevance:5}),N,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,p,g,v,b,d,T,{className:"attr",begin:i+e.lookahead(":"),relevance:0},B,{begin:"("+n.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,n.REGEXP_MODE,{className:"function",begin:G,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:n.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:y}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:o.begin,end:o.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},$,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+n.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,n.inherit(n.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},K,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},j,I,D,V,{match:/\$[(.]/}]}}function Jq(n){const e=Yq(n),r=kh,i=["any","void","number","boolean","string","object","never","enum"],o={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[e.exports.CLASS_REFERENCE]},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[e.exports.CLASS_REFERENCE]},a={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","namespace","typedef","interface","public","private","protected","implements","declare","abstract","readonly"],c={$pattern:kh,keyword:oD.concat(l),literal:sD,built_in:fD.concat(i),"variable.language":uD},u={className:"meta",begin:"@"+r},f=(h,p,g)=>{const v=h.contains.findIndex(w=>w.label===p);if(v===-1)throw new Error("can not find mode to replace");h.contains.splice(v,1,g)};Object.assign(e.keywords,c),e.exports.PARAMS_CONTAINS.push(u),e.contains=e.contains.concat([u,o,s]),f(e,"shebang",n.SHEBANG()),f(e,"use_strict",a);const d=e.contains.find(h=>h.label==="func.def");return d.relevance=0,Object.assign(e,{name:"TypeScript",aliases:["ts","tsx"]}),e}function Xq(n){const e=n.regex,r={className:"string",begin:/"(""|[^/n])"C\b/},i={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},o=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,l=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,o),/ *#/)},{begin:e.concat(/# */,l,/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,e.either(s,o),/ +/,e.either(a,l),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},f={className:"label",begin:/^\w+:/},d=n.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),h=n.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[r,i,c,u,f,d,h,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[h]}]}}function Zq(n){const e=n.regex,r=e.concat(/[A-Z_]/,e.optional(/[A-Z0-9_.-]*:/),/[A-Z0-9_.-]*/),i=/[A-Za-z0-9._:-]+/,o={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=n.inherit(s,{begin:/\(/,end:/\)/}),l=n.inherit(n.APOS_STRING_MODE,{className:"string"}),c=n.inherit(n.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:i,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[o]},{begin:/'/,end:/'/,contains:[o]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,c,l,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,c,l]}]}]},n.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},o,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(r,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:u}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Qq(n){const e="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",i={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},o={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[n.BACKSLASH_ESCAPE,o]},a=n.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),l="[0-9]{4}(-[0-9][0-9]){0,2}",c="([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?",u="(\\.[0-9]*)?",f="([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?",d={className:"number",begin:"\\b"+l+c+u+f+"\\b"},h={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},p={begin:/\{/,end:/\}/,contains:[h],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[h],illegal:"\\n",relevance:0},v=[i,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+n.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+n.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},n.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},d,{className:"number",begin:n.C_NUMBER_RE+"\\b",relevance:0},p,g,s],w=[...v];return w.pop(),w.push(a),h.contains=w,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:v}}var Sb={exports:{}};function kb(n){return n instanceof Map?n.clear=n.delete=n.set=function(){throw new Error("map is read-only")}:n instanceof Set&&(n.add=n.clear=n.delete=function(){throw new Error("set is read-only")}),Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(e){var r=n[e];typeof r=="object"&&!Object.isFrozen(r)&&kb(r)}),n}Sb.exports=kb;Sb.exports.default=kb;var eW=Sb.exports;class dD{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function hD(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Bo(n,...e){const r=Object.create(null);for(const i in n)r[i]=n[i];return e.forEach(function(i){for(const o in i)r[o]=i[o]}),r}const tW="</span>",pD=n=>!!n.kind,nW=(n,{prefix:e})=>{if(n.includes(".")){const r=n.split(".");return[`${e}${r.shift()}`,...r.map((i,o)=>`${i}${"_".repeat(o+1)}`)].join(" ")}return`${e}${n}`};class rW{constructor(e,r){this.buffer="",this.classPrefix=r.classPrefix,e.walk(this)}addText(e){this.buffer+=hD(e)}openNode(e){if(!pD(e))return;let r=e.kind;e.sublanguage?r=`language-${r}`:r=nW(r,{prefix:this.classPrefix}),this.span(r)}closeNode(e){!pD(e)||(this.buffer+=tW)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class Cb{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const r={kind:e,children:[]};this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,r){return typeof r=="string"?e.addText(r):r.children&&(e.openNode(r),r.children.forEach(i=>this._walk(e,i)),e.closeNode(r)),e}static _collapse(e){typeof e!="string"&&(!e.children||(e.children.every(r=>typeof r=="string")?e.children=[e.children.join("")]:e.children.forEach(r=>{Cb._collapse(r)})))}}class iW extends Cb{constructor(e){super();this.options=e}addKeyword(e,r){e!==""&&(this.openNode(r),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,r){const i=e.root;i.kind=r,i.sublanguage=!0,this.add(i)}toHTML(){return new rW(this,this.options).value()}finalize(){return!0}}function iu(n){return n?typeof n=="string"?n:n.source:null}function gD(n){return Fs("(?=",n,")")}function oW(n){return Fs("(?:",n,")*")}function sW(n){return Fs("(?:",n,")?")}function Fs(...n){return n.map(r=>iu(r)).join("")}function aW(n){const e=n[n.length-1];return typeof e=="object"&&e.constructor===Object?(n.splice(n.length-1,1),e):{}}function xb(...n){const e=aW(n);return"("+(e.capture?"":"?:")+n.map(i=>iu(i)).join("|")+")"}function mD(n){return new RegExp(n.toString()+"|").exec("").length-1}function lW(n,e){const r=n&&n.exec(e);return r&&r.index===0}const cW=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Ab(n,{joinWith:e}){let r=0;return n.map(i=>{r+=1;const o=r;let s=iu(i),a="";for(;s.length>0;){const l=cW.exec(s);if(!l){a+=s;break}a+=s.substring(0,l.index),s=s.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?a+="\\"+String(Number(l[1])+o):(a+=l[0],l[0]==="("&&r++)}return a}).map(i=>`(${i})`).join(e)}const uW=/\b\B/,vD="[a-zA-Z]\\w*",Ob="[a-zA-Z_]\\w*",yD="\\b\\d+(\\.\\d+)?",bD="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",_D="\\b(0b[01]+)",fW="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",dW=(n={})=>{const e=/^#![ ]*\//;return n.binary&&(n.begin=Fs(e,/.*\b/,n.binary,/\b.*/)),Bo({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(r,i)=>{r.index!==0&&i.ignoreMatch()}},n)},ou={begin:"\\\\[\\s\\S]",relevance:0},hW={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ou]},pW={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ou]},gW={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Ch=function(n,e,r={}){const i=Bo({scope:"comment",begin:n,end:e,contains:[]},r);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=xb("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:Fs(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},mW=Ch("//","$"),vW=Ch("/\\*","\\*/"),yW=Ch("#","$"),bW={scope:"number",begin:yD,relevance:0},_W={scope:"number",begin:bD,relevance:0},wW={scope:"number",begin:_D,relevance:0},EW={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ou,{begin:/\[/,end:/\]/,relevance:0,contains:[ou]}]}]},SW={scope:"title",begin:vD,relevance:0},kW={scope:"title",begin:Ob,relevance:0},CW={begin:"\\.\\s*"+Ob,relevance:0},xW=function(n){return Object.assign(n,{"on:begin":(e,r)=>{r.data._beginMatch=e[1]},"on:end":(e,r)=>{r.data._beginMatch!==e[1]&&r.ignoreMatch()}})};var xh=Object.freeze({__proto__:null,MATCH_NOTHING_RE:uW,IDENT_RE:vD,UNDERSCORE_IDENT_RE:Ob,NUMBER_RE:yD,C_NUMBER_RE:bD,BINARY_NUMBER_RE:_D,RE_STARTERS_RE:fW,SHEBANG:dW,BACKSLASH_ESCAPE:ou,APOS_STRING_MODE:hW,QUOTE_STRING_MODE:pW,PHRASAL_WORDS_MODE:gW,COMMENT:Ch,C_LINE_COMMENT_MODE:mW,C_BLOCK_COMMENT_MODE:vW,HASH_COMMENT_MODE:yW,NUMBER_MODE:bW,C_NUMBER_MODE:_W,BINARY_NUMBER_MODE:wW,REGEXP_MODE:EW,TITLE_MODE:SW,UNDERSCORE_TITLE_MODE:kW,METHOD_GUARD:CW,END_SAME_AS_BEGIN:xW});function AW(n,e){n.input[n.index-1]==="."&&e.ignoreMatch()}function OW(n,e){n.className!==void 0&&(n.scope=n.className,delete n.className)}function DW(n,e){!e||!n.beginKeywords||(n.begin="\\b("+n.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",n.__beforeBegin=AW,n.keywords=n.keywords||n.beginKeywords,delete n.beginKeywords,n.relevance===void 0&&(n.relevance=0))}function TW(n,e){!Array.isArray(n.illegal)||(n.illegal=xb(...n.illegal))}function MW(n,e){if(!!n.match){if(n.begin||n.end)throw new Error("begin & end are not supported with match");n.begin=n.match,delete n.match}}function NW(n,e){n.relevance===void 0&&(n.relevance=1)}const RW=(n,e)=>{if(!n.beforeMatch)return;if(n.starts)throw new Error("beforeMatch cannot be used with starts");const r=Object.assign({},n);Object.keys(n).forEach(i=>{delete n[i]}),n.keywords=r.keywords,n.begin=Fs(r.beforeMatch,gD(r.begin)),n.starts={relevance:0,contains:[Object.assign(r,{endsParent:!0})]},n.relevance=0,delete r.beforeMatch},IW=["of","and","for","in","not","or","if","then","parent","list","value"],PW="keyword";function wD(n,e,r=PW){const i=Object.create(null);return typeof n=="string"?o(r,n.split(" ")):Array.isArray(n)?o(r,n):Object.keys(n).forEach(function(s){Object.assign(i,wD(n[s],e,s))}),i;function o(s,a){e&&(a=a.map(l=>l.toLowerCase())),a.forEach(function(l){const c=l.split("|");i[c[0]]=[s,LW(c[0],c[1])]})}}function LW(n,e){return e?Number(e):BW(n)?0:1}function BW(n){return IW.includes(n.toLowerCase())}const ED={},$s=n=>{console.error(n)},SD=(n,...e)=>{console.log(`WARN: ${n}`,...e)},sl=(n,e)=>{ED[`${n}/${e}`]||(console.log(`Deprecated as of ${n}. ${e}`),ED[`${n}/${e}`]=!0)},Ah=new Error;function kD(n,e,{key:r}){let i=0;const o=n[r],s={},a={};for(let l=1;l<=e.length;l++)a[l+i]=o[l],s[l+i]=!0,i+=mD(e[l-1]);n[r]=a,n[r]._emit=s,n[r]._multi=!0}function FW(n){if(!!Array.isArray(n.begin)){if(n.skip||n.excludeBegin||n.returnBegin)throw $s("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ah;if(typeof n.beginScope!="object"||n.beginScope===null)throw $s("beginScope must be object"),Ah;kD(n,n.begin,{key:"beginScope"}),n.begin=Ab(n.begin,{joinWith:""})}}function $W(n){if(!!Array.isArray(n.end)){if(n.skip||n.excludeEnd||n.returnEnd)throw $s("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ah;if(typeof n.endScope!="object"||n.endScope===null)throw $s("endScope must be object"),Ah;kD(n,n.end,{key:"endScope"}),n.end=Ab(n.end,{joinWith:""})}}function zW(n){n.scope&&typeof n.scope=="object"&&n.scope!==null&&(n.beginScope=n.scope,delete n.scope)}function UW(n){zW(n),typeof n.beginScope=="string"&&(n.beginScope={_wrap:n.beginScope}),typeof n.endScope=="string"&&(n.endScope={_wrap:n.endScope}),FW(n),$W(n)}function HW(n){function e(a,l){return new RegExp(iu(a),"m"+(n.case_insensitive?"i":"")+(n.unicodeRegex?"u":"")+(l?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,l]),this.matchAt+=mD(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(c=>c[1]);this.matcherRe=e(Ab(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(l);if(!c)return null;const u=c.findIndex((d,h)=>h>0&&d!==void 0),f=this.matchIndexes[u];return c.splice(0,u),Object.assign(c,f)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const c=new r;return this.rules.slice(l).forEach(([u,f])=>c.addRule(u,f)),c.compile(),this.multiRegexes[l]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,c){this.rules.push([l,c]),c.type==="begin"&&this.count++}exec(l){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let u=c.exec(l);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const f=this.getMatcher(0);f.lastIndex=this.lastIndex+1,u=f.exec(l)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function o(a){const l=new i;return a.contains.forEach(c=>l.addRule(c.begin,{rule:c,type:"begin"})),a.terminatorEnd&&l.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&l.addRule(a.illegal,{type:"illegal"}),l}function s(a,l){const c=a;if(a.isCompiled)return c;[OW,MW,UW,RW].forEach(f=>f(a,l)),n.compilerExtensions.forEach(f=>f(a,l)),a.__beforeBegin=null,[DW,TW,NW].forEach(f=>f(a,l)),a.isCompiled=!0;let u=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),u=a.keywords.$pattern,delete a.keywords.$pattern),u=u||/\w+/,a.keywords&&(a.keywords=wD(a.keywords,n.case_insensitive)),c.keywordPatternRe=e(u,!0),l&&(a.begin||(a.begin=/\B|\b/),c.beginRe=e(c.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(c.endRe=e(c.end)),c.terminatorEnd=iu(c.end)||"",a.endsWithParent&&l.terminatorEnd&&(c.terminatorEnd+=(a.end?"|":"")+l.terminatorEnd)),a.illegal&&(c.illegalRe=e(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(f){return VW(f==="self"?a:f)})),a.contains.forEach(function(f){s(f,c)}),a.starts&&s(a.starts,l),c.matcher=o(c),c}if(n.compilerExtensions||(n.compilerExtensions=[]),n.contains&&n.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return n.classNameAliases=Bo(n.classNameAliases||{}),s(n)}function CD(n){return n?n.endsWithParent||CD(n.starts):!1}function VW(n){return n.variants&&!n.cachedVariants&&(n.cachedVariants=n.variants.map(function(e){return Bo(n,{variants:null},e)})),n.cachedVariants?n.cachedVariants:CD(n)?Bo(n,{starts:n.starts?Bo(n.starts):null}):Object.isFrozen(n)?Bo(n):n}var jW="11.3.1";class qW extends Error{constructor(e,r){super(e);this.name="HTMLInjectionError",this.html=r}}const Db=hD,xD=Bo,AD=Symbol("nomatch"),WW=7,KW=function(n){const e=Object.create(null),r=Object.create(null),i=[];let o=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:iW};function c(B){return l.noHighlightRe.test(B)}function u(B){let W=B.className+" ";W+=B.parentNode?B.parentNode.className:"";const X=l.languageDetectRe.exec(W);if(X){const J=$(X[1]);return J||(SD(s.replace("{}",X[1])),SD("Falling back to no-highlight mode for this block.",B)),J?X[1]:"no-highlight"}return W.split(/\s+/).find(J=>c(J)||$(J))}function f(B,W,X){let J="",ee="";typeof W=="object"?(J=B,X=W.ignoreIllegals,ee=W.language):(sl("10.7.0","highlight(lang, code, ...args) has been deprecated."),sl("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ee=B,J=W),X===void 0&&(X=!0);const de={code:J,language:ee};V("before:highlight",de);const ge=de.result?de.result:d(de.language,de.code,X);return ge.code=de.code,V("after:highlight",ge),ge}function d(B,W,X,J){const ee=Object.create(null);function de(z,Q){return z.keywords[Q]}function ge(){if(!F.keywords){M.addText(m);return}let z=0;F.keywordPatternRe.lastIndex=0;let Q=F.keywordPatternRe.exec(m),ae="";for(;Q;){ae+=m.substring(z,Q.index);const ve=R.case_insensitive?Q[0].toLowerCase():Q[0],me=de(F,ve);if(me){const[ie,be]=me;if(M.addText(ae),ae="",ee[ve]=(ee[ve]||0)+1,ee[ve]<=WW&&(C+=be),ie.startsWith("_"))ae+=Q[0];else{const De=R.classNameAliases[ie]||ie;M.addKeyword(Q[0],De)}}else ae+=Q[0];z=F.keywordPatternRe.lastIndex,Q=F.keywordPatternRe.exec(m)}ae+=m.substr(z),M.addText(ae)}function Z(){if(m==="")return;let z=null;if(typeof F.subLanguage=="string"){if(!e[F.subLanguage]){M.addText(m);return}z=d(F.subLanguage,m,!0,q[F.subLanguage]),q[F.subLanguage]=z._top}else z=p(m,F.subLanguage.length?F.subLanguage:null);F.relevance>0&&(C+=z.relevance),M.addSublanguage(z._emitter,z.language)}function te(){F.subLanguage!=null?Z():ge(),m=""}function Y(z,Q){let ae=1;for(;Q[ae]!==void 0;){if(!z._emit[ae]){ae++;continue}const ve=R.classNameAliases[z[ae]]||z[ae],me=Q[ae];ve?M.addKeyword(me,ve):(m=me,ge(),m=""),ae++}}function oe(z,Q){return z.scope&&typeof z.scope=="string"&&M.openNode(R.classNameAliases[z.scope]||z.scope),z.beginScope&&(z.beginScope._wrap?(M.addKeyword(m,R.classNameAliases[z.beginScope._wrap]||z.beginScope._wrap),m=""):z.beginScope._multi&&(Y(z.beginScope,Q),m="")),F=Object.create(z,{parent:{value:F}}),F}function re(z,Q,ae){let ve=lW(z.endRe,ae);if(ve){if(z["on:end"]){const me=new dD(z);z["on:end"](Q,me),me.isMatchIgnored&&(ve=!1)}if(ve){for(;z.endsParent&&z.parent;)z=z.parent;return z}}if(z.endsWithParent)return re(z.parent,Q,ae)}function ue(z){return F.matcher.regexIndex===0?(m+=z[0],1):(H=!0,0)}function fe(z){const Q=z[0],ae=z.rule,ve=new dD(ae),me=[ae.__beforeBegin,ae["on:begin"]];for(const ie of me)if(!!ie&&(ie(z,ve),ve.isMatchIgnored))return ue(Q);return ae.skip?m+=Q:(ae.excludeBegin&&(m+=Q),te(),!ae.returnBegin&&!ae.excludeBegin&&(m=Q)),oe(ae,z),ae.returnBegin?0:Q.length}function ke(z){const Q=z[0],ae=W.substr(z.index),ve=re(F,z,ae);if(!ve)return AD;const me=F;F.endScope&&F.endScope._wrap?(te(),M.addKeyword(Q,F.endScope._wrap)):F.endScope&&F.endScope._multi?(te(),Y(F.endScope,z)):me.skip?m+=Q:(me.returnEnd||me.excludeEnd||(m+=Q),te(),me.excludeEnd&&(m=Q));do F.scope&&M.closeNode(),!F.skip&&!F.subLanguage&&(C+=F.relevance),F=F.parent;while(F!==ve.parent);return ve.starts&&oe(ve.starts,z),me.returnEnd?0:Q.length}function Ce(){const z=[];for(let Q=F;Q!==R;Q=Q.parent)Q.scope&&z.unshift(Q.scope);z.forEach(Q=>M.openNode(Q))}let Se={};function O(z,Q){const ae=Q&&Q[0];if(m+=z,ae==null)return te(),0;if(Se.type==="begin"&&Q.type==="end"&&Se.index===Q.index&&ae===""){if(m+=W.slice(Q.index,Q.index+1),!o){const ve=new Error(`0 width match regex (${B})`);throw ve.languageName=B,ve.badRule=Se.rule,ve}return 1}if(Se=Q,Q.type==="begin")return fe(Q);if(Q.type==="illegal"&&!X){const ve=new Error('Illegal lexeme "'+ae+'" for mode "'+(F.scope||"<unnamed>")+'"');throw ve.mode=F,ve}else if(Q.type==="end"){const ve=ke(Q);if(ve!==AD)return ve}if(Q.type==="illegal"&&ae==="")return 1;if(U>1e5&&U>Q.index*3)throw new Error("potential infinite loop, way more iterations than matches");return m+=ae,ae.length}const R=$(B);if(!R)throw $s(s.replace("{}",B)),new Error('Unknown language: "'+B+'"');const A=HW(R);let P="",F=J||A;const q={},M=new l.__emitter(l);Ce();let m="",C=0,x=0,U=0,H=!1;try{for(F.matcher.considerAll();;){U++,H?H=!1:F.matcher.considerAll(),F.matcher.lastIndex=x;const z=F.matcher.exec(W);if(!z)break;const Q=W.substring(x,z.index),ae=O(Q,z);x=z.index+ae}return O(W.substr(x)),M.closeAllNodes(),M.finalize(),P=M.toHTML(),{language:B,value:P,relevance:C,illegal:!1,_emitter:M,_top:F}}catch(z){if(z.message&&z.message.includes("Illegal"))return{language:B,value:Db(W),illegal:!0,relevance:0,_illegalBy:{message:z.message,index:x,context:W.slice(x-100,x+100),mode:z.mode,resultSoFar:P},_emitter:M};if(o)return{language:B,value:Db(W),illegal:!1,relevance:0,errorRaised:z,_emitter:M,_top:F};throw z}}function h(B){const W={value:Db(B),illegal:!1,relevance:0,_top:a,_emitter:new l.__emitter(l)};return W._emitter.addText(B),W}function p(B,W){W=W||l.languages||Object.keys(e);const X=h(B),J=W.filter($).filter(L).map(te=>d(te,B,!1));J.unshift(X);const ee=J.sort((te,Y)=>{if(te.relevance!==Y.relevance)return Y.relevance-te.relevance;if(te.language&&Y.language){if($(te.language).supersetOf===Y.language)return 1;if($(Y.language).supersetOf===te.language)return-1}return 0}),[de,ge]=ee,Z=de;return Z.secondBest=ge,Z}function g(B,W,X){const J=W&&r[W]||X;B.classList.add("hljs"),B.classList.add(`language-${J}`)}function v(B){let W=null;const X=u(B);if(c(X))return;if(V("before:highlightElement",{el:B,language:X}),B.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/issues/2886"),console.warn(B)),l.throwUnescapedHTML))throw new qW("One of your code blocks includes unescaped HTML.",B.innerHTML);W=B;const J=W.textContent,ee=X?f(J,{language:X,ignoreIllegals:!0}):p(J);B.innerHTML=ee.value,g(B,X,ee.language),B.result={language:ee.language,re:ee.relevance,relevance:ee.relevance},ee.secondBest&&(B.secondBest={language:ee.secondBest.language,relevance:ee.secondBest.relevance}),V("after:highlightElement",{el:B,result:ee,text:J})}function w(B){l=xD(l,B)}const b=()=>{y(),sl("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function S(){y(),sl("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let E=!1;function y(){if(document.readyState==="loading"){E=!0;return}document.querySelectorAll(l.cssSelector).forEach(v)}function k(){E&&y()}typeof window!="undefined"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",k,!1);function D(B,W){let X=null;try{X=W(n)}catch(J){if($s("Language definition for '{}' could not be registered.".replace("{}",B)),o)$s(J);else throw J;X=a}X.name||(X.name=B),e[B]=X,X.rawDefinition=W.bind(null,n),X.aliases&&I(X.aliases,{languageName:B})}function T(B){delete e[B];for(const W of Object.keys(r))r[W]===B&&delete r[W]}function N(){return Object.keys(e)}function $(B){return B=(B||"").toLowerCase(),e[B]||e[r[B]]}function I(B,{languageName:W}){typeof B=="string"&&(B=[B]),B.forEach(X=>{r[X.toLowerCase()]=W})}function L(B){const W=$(B);return W&&!W.disableAutodetect}function j(B){B["before:highlightBlock"]&&!B["before:highlightElement"]&&(B["before:highlightElement"]=W=>{B["before:highlightBlock"](Object.assign({block:W.el},W))}),B["after:highlightBlock"]&&!B["after:highlightElement"]&&(B["after:highlightElement"]=W=>{B["after:highlightBlock"](Object.assign({block:W.el},W))})}function K(B){j(B),i.push(B)}function V(B,W){const X=B;i.forEach(function(J){J[X]&&J[X](W)})}function G(B){return sl("10.7.0","highlightBlock will be removed entirely in v12.0"),sl("10.7.0","Please use highlightElement now."),v(B)}Object.assign(n,{highlight:f,highlightAuto:p,highlightAll:y,highlightElement:v,highlightBlock:G,configure:w,initHighlighting:b,initHighlightingOnLoad:S,registerLanguage:D,unregisterLanguage:T,listLanguages:N,getLanguage:$,registerAliases:I,autoDetection:L,inherit:xD,addPlugin:K}),n.debugMode=function(){o=!1},n.safeMode=function(){o=!0},n.versionString=jW,n.regex={concat:Fs,lookahead:gD,either:xb,optional:sW,anyNumberOfTimes:oW};for(const B in xh)typeof xh[B]=="object"&&eW(xh[B]);return Object.assign(n,xh),n};var su=KW({}),GW=su;su.HighlightJS=su;su.default=su;var Fr=GW,OD={exports:{}};(function(n){(function(){var e;e=n.exports=o,e.format=o,e.vsprintf=i,typeof console!="undefined"&&typeof console.log=="function"&&(e.printf=r);function r(){console.log(o.apply(null,arguments))}function i(s,a){return o.apply(null,[s].concat(a))}function o(s){for(var a=1,l=[].slice.call(arguments),c=0,u=s.length,f="",d,h=!1,p,g,v=!1,w,b=function(){return l[a++]},S=function(){for(var E="";/\d/.test(s[c]);)E+=s[c++],d=s[c];return E.length>0?parseInt(E):null};c<u;++c)if(d=s[c],h)switch(h=!1,d=="."?(v=!1,d=s[++c]):d=="0"&&s[c+1]=="."?(v=!0,c+=2,d=s[c]):v=!0,w=S(),d){case"b":f+=parseInt(b(),10).toString(2);break;case"c":p=b(),typeof p=="string"||p instanceof String?f+=p:f+=String.fromCharCode(parseInt(p,10));break;case"d":f+=parseInt(b(),10);break;case"f":g=String(parseFloat(b()).toFixed(w||6)),f+=v?g:g.replace(/^0/,"");break;case"j":f+=JSON.stringify(b());break;case"o":f+="0"+parseInt(b(),10).toString(8);break;case"s":f+=b();break;case"x":f+="0x"+parseInt(b(),10).toString(16);break;case"X":f+="0x"+parseInt(b(),10).toString(16).toUpperCase();break;default:f+=d;break}else d==="%"?h=!0:f+=d;return f}})()})(OD);var YW=OD.exports;const Oh=Object.assign(zs(Error),{eval:zs(EvalError),range:zs(RangeError),reference:zs(ReferenceError),syntax:zs(SyntaxError),type:zs(TypeError),uri:zs(URIError)});function zs(n){return e.displayName=n.displayName||n.name,e;function e(r,...i){const o=r&&YW(r,...i);return new n(o)}}const JW={}.hasOwnProperty,XW="hljs-";function DD(n,e,r={}){let i=r.prefix;if(typeof n!="string")throw Oh("Expected `string` for name, got `%s`",n);if(!Fr.getLanguage(n))throw Oh("Unknown language: `%s` is not registered",n);if(typeof e!="string")throw Oh("Expected `string` for value, got `%s`",e);i==null&&(i=XW),Fr.configure({__emitter:rK,classPrefix:i});const o=Fr.highlight(e,{language:n,ignoreIllegals:!0});if(Fr.configure({}),o.errorRaised)throw o.errorRaised;return o._emitter.root.data.language=o.language,o._emitter.root.data.relevance=o.relevance,o._emitter.root}function ZW(n,e={}){const r=e.subset||Fr.listLanguages();e.prefix;let i=-1,o={type:"root",data:{language:null,relevance:0},children:[]};if(typeof n!="string")throw Oh("Expected `string` for value, got `%s`",n);for(;++i<r.length;){const s=r[i];if(!Fr.getLanguage(s))continue;const a=DD(s,n,e);a.data.relevance>o.data.relevance&&(o=a)}return o}function QW(n,e){Fr.registerLanguage(n,e)}const eK=function(n,e){if(typeof n=="string")Fr.registerAliases(e,{languageName:n});else{let r;for(r in n)JW.call(n,r)&&Fr.registerAliases(n[r],{languageName:r})}};function tK(n){return Boolean(Fr.getLanguage(n))}function nK(){return Fr.listLanguages()}class rK{constructor(e){this.options=e,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(e){if(e==="")return;const r=this.stack[this.stack.length-1],i=r.children[r.children.length-1];i&&i.type==="text"?i.value+=e:r.children.push({type:"text",value:e})}addKeyword(e,r){this.openNode(r),this.addText(e),this.closeNode()}addSublanguage(e,r){const i=this.stack[this.stack.length-1],o=e.root.children;r?i.children.push({type:"element",tagName:"span",properties:{className:[r]},children:o}):i.children.push(...o)}openNode(e){const r=e.split(".").map(s=>this.options.classPrefix+s),i=this.stack[this.stack.length-1],o={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(o),this.stack.push(o)}closeNode(){this.stack.pop()}closeAllNodes(){}finalize(){}toHTML(){return""}}const Ze={highlight:DD,highlightAuto:ZW,registerLanguage:QW,registered:tK,listLanguages:nK,registerAlias:eK};Ze.registerLanguage("arduino",Vj);Ze.registerLanguage("bash",jj);Ze.registerLanguage("c",qj);Ze.registerLanguage("cpp",Wj);Ze.registerLanguage("csharp",Kj);Ze.registerLanguage("css",eq);Ze.registerLanguage("diff",tq);Ze.registerLanguage("go",nq);Ze.registerLanguage("ini",rq);Ze.registerLanguage("java",iq);Ze.registerLanguage("javascript",cq);Ze.registerLanguage("json",uq);Ze.registerLanguage("kotlin",dq);Ze.registerLanguage("less",yq);Ze.registerLanguage("lua",bq);Ze.registerLanguage("makefile",_q);Ze.registerLanguage("markdown",wq);Ze.registerLanguage("objectivec",Eq);Ze.registerLanguage("perl",Sq);Ze.registerLanguage("php",kq);Ze.registerLanguage("php-template",Cq);Ze.registerLanguage("plaintext",xq);Ze.registerLanguage("python",Aq);Ze.registerLanguage("python-repl",Oq);Ze.registerLanguage("r",Dq);Ze.registerLanguage("ruby",Tq);Ze.registerLanguage("rust",Mq);Ze.registerLanguage("scss",Fq);Ze.registerLanguage("shell",$q);Ze.registerLanguage("sql",zq);Ze.registerLanguage("swift",Gq);Ze.registerLanguage("typescript",Jq);Ze.registerLanguage("vbnet",Xq);Ze.registerLanguage("xml",Zq);Ze.registerLanguage("yaml",Qq);function un(){return un=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},un.apply(this,arguments)}function Fo(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function iK(n,e){if(!!n){if(typeof n=="string")return TD(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TD(n,e)}}function TD(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function hi(n,e){var r;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(r=iK(n))||e&&n&&typeof n.length=="number"){r&&(n=r);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return r=n[Symbol.iterator](),r.next.bind(r)}function $o(n,e){if(n in e){for(var r=e[n],i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];return typeof r=="function"?r.apply(void 0,o):r}var a=new Error('Tried to handle "'+n+'" but there is no handler defined. Only defined handlers are: '+Object.keys(e).map(function(l){return'"'+l+'"'}).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(a,$o),a}var zo;(function(n){n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static"})(zo||(zo={}));var Qn;(function(n){n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden"})(Qn||(Qn={}));function pi(n){var e=n.visible,r=e===void 0?!0:e,i=n.features,o=i===void 0?zo.None:i,s=Fo(n,["visible","features"]);if(r||o&zo.Static&&s.props.static)return Dh(s);if(o&zo.RenderStrategy){var a,l,c=((a=s.props.unmount)!=null?a:!0)?Qn.Unmount:Qn.Hidden;return $o(c,(l={},l[Qn.Unmount]=function(){return null},l[Qn.Hidden]=function(){return Dh(un({},s,{props:un({},s.props,{hidden:!0,style:{display:"none"}})}))},l))}return Dh(s)}function Dh(n){var e=n.props,r=n.attrs,i=n.slots,o=n.slot,s=n.name,a=oK(e,["unmount","static"]),l=a.as,c=Fo(a,["as"]),u=i.default==null?void 0:i.default(o);if(l==="template"){if(Object.keys(c).length>0||Object.keys(r).length>0){var f=u!=null?u:[],d=f[0],h=f.slice(1);if(!sK(d)||h.length>0)throw new Error(['Passing props on "template"!',"","The current component <"+s+' /> is rendering a "template".',"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(r)).map(function(p){return"  - "+p}).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(function(p){return"  - "+p}).join(`
`)].join(`
`));return ea(d,c)}return Array.isArray(u)&&u.length===1?u[0]:u}return rt(l,c,u)}function oK(n,e){e===void 0&&(e=[]);for(var r=Object.assign({},n),i=hi(e),o;!(o=i()).done;){var s=o.value;s in r&&delete r[s]}return r}function sK(n){return n==null?!1:typeof n.type=="string"||typeof n.type=="object"||typeof n.type=="function"}var MD=Symbol("StackContext"),al;(function(n){n[n.AddElement=0]="AddElement",n[n.RemoveElement=1]="RemoveElement"})(al||(al={}));function ND(){return Dt(MD,function(){})}function aK(n){var e=ND();$n(function(r){var i=n==null?void 0:n.value;!i||(e(al.AddElement,i),r(function(){return e(al.RemoveElement,i)}))})}function RD(n){var e=ND();function r(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];n==null||n.apply(void 0,o),e.apply(void 0,o)}mn(MD,r)}var ID=Symbol("ForcePortalRootContext");function lK(){return Dt(ID,!1)}var PD=Ne({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup:function(e,r){var i=r.slots,o=r.attrs;return mn(ID,e.force),function(){var s=Fo(e,["force"]);return pi({props:s,slot:{},slots:i,attrs:o,name:"ForcePortalRoot"})}}});function LD(){var n=document.getElementById("headlessui-portal-root");if(n)return n;var e=document.createElement("div");return e.setAttribute("id","headlessui-portal-root"),document.body.appendChild(e)}var cK=Ne({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup:function(e,r){var i=r.slots,o=r.attrs,s=lK(),a=Dt(BD,null),l=le(s===!0||a===null?LD():a.resolveTarget());$n(function(){s||a!==null&&(l.value=a.resolveTarget())});var c=le(null);return aK(c),Xo(function(){var u=document.getElementById("headlessui-portal-root");if(!!u&&l.value===u&&l.value.children.length<=0){var f;(f=l.value.parentElement)==null||f.removeChild(l.value)}}),RD(),function(){if(l.value===null)return null;var u={ref:c};return rt(P_,{to:l.value},pi({props:un({},e,u),slot:{},attrs:o,slots:i,name:"Portal"}))}}}),BD=Symbol("PortalGroupContext"),uK=Ne({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup:function(e,r){var i=r.attrs,o=r.slots,s=qe({resolveTarget:function(){return e.target}});return mn(BD,s),function(){var a=Fo(e,["target"]);return pi({props:a,slot:{},attrs:i,slots:o,name:"PortalGroup"})}}}),ll;(function(n){n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab"})(ll||(ll={}));var fK=0;function dK(){return++fK}function au(){return dK()}function Th(n,e,r){typeof window!="undefined"&&$n(function(i){window.addEventListener(n,e,r),i(function(){window.removeEventListener(n,e,r)})})}function Tb(n,e){for(var r=hi(n),i;!(i=r()).done;){var o=i.value;if(o.contains(e))return!0}return!1}var hK=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(function(n){return n+":not([tabindex='-1'])"}).join(","),fn;(function(n){n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll"})(fn||(fn={}));var Uo;(function(n){n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow"})(Uo||(Uo={}));var Mh;(function(n){n[n.Previous=-1]="Previous",n[n.Next=1]="Next"})(Mh||(Mh={}));function pK(n){return n===void 0&&(n=document.body),n==null?[]:Array.from(n.querySelectorAll(hK))}var FD;(function(n){n[n.Strict=0]="Strict",n[n.Loose=1]="Loose"})(FD||(FD={}));function lu(n){n==null||n.focus({preventScroll:!0})}function $D(n,e){var r=Array.isArray(n)?n:pK(n),i=document.activeElement,o=function(){if(e&(fn.First|fn.Next))return Mh.Next;if(e&(fn.Previous|fn.Last))return Mh.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),s=function(){if(e&fn.First)return 0;if(e&fn.Previous)return Math.max(0,r.indexOf(i))-1;if(e&fn.Next)return Math.max(0,r.indexOf(i))+1;if(e&fn.Last)return r.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),a=e&fn.NoScroll?{preventScroll:!0}:{},l=0,c=r.length,u=void 0;do{var f;if(l>=c||l+c<=0)return Uo.Error;var d=s+l;if(e&fn.WrapAround)d=(d+c)%c;else{if(d<0)return Uo.Underflow;if(d>=c)return Uo.Overflow}u=r[d],(f=u)==null||f.focus(a),l+=o}while(u!==document.activeElement);return u.hasAttribute("tabindex")||u.setAttribute("tabindex","0"),Uo.Success}function gK(n,e,r){e===void 0&&(e=le(!0)),r===void 0&&(r=le({}));var i=le(typeof window!="undefined"?document.activeElement:null),o=le(null);function s(){if(!!e.value&&n.value.size===1){var l=r.value.initialFocus,c=document.activeElement;if(l){if(l===c)return}else if(Tb(n.value,c))return;if(i.value=c,l)lu(l);else{for(var u=!1,f=hi(n.value),d;!(d=f()).done;){var h=d.value,p=$D(h,fn.First);if(p===Uo.Success){u=!0;break}}u||console.warn("There are no focusable elements inside the <FocusTrap />")}o.value=document.activeElement}}function a(){lu(i.value),i.value=null,o.value=null}$n(s),Pp(function(){e.value?s():a()}),Xo(a),Th("keydown",function(l){if(!!e.value&&l.key===ll.Tab&&!!document.activeElement&&n.value.size===1){l.preventDefault();for(var c=hi(n.value),u;!(u=c()).done;){var f=u.value,d=$D(f,(l.shiftKey?fn.Previous:fn.Next)|fn.WrapAround);if(d===Uo.Success){o.value=document.activeElement;break}}}}),Th("focus",function(l){if(!!e.value&&n.value.size===1){var c=o.value;if(!!c){var u=l.target;u&&u instanceof HTMLElement?Tb(n.value,u)?(o.value=u,lu(u)):(l.preventDefault(),l.stopPropagation(),lu(c)):lu(o.value)}}},!0)}var zD="body > *",cl=new Set,Ho=new Map;function UD(n){n.setAttribute("aria-hidden","true"),n.inert=!0}function HD(n){var e=Ho.get(n);!e||(e["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",e["aria-hidden"]),n.inert=e.inert)}function mK(n,e){e===void 0&&(e=le(!0)),$n(function(r){if(!!e.value&&!!n.value){var i=n.value;cl.add(i);for(var o=hi(Ho.keys()),s;!(s=o()).done;){var a=s.value;a.contains(i)&&(HD(a),Ho.delete(a))}document.querySelectorAll(zD).forEach(function(l){if(l instanceof HTMLElement){for(var c=hi(cl),u;!(u=c()).done;){var f=u.value;if(l.contains(f))return}cl.size===1&&(Ho.set(l,{"aria-hidden":l.getAttribute("aria-hidden"),inert:l.inert}),UD(l))}}),r(function(){if(cl.delete(i),cl.size>0)document.querySelectorAll(zD).forEach(function(f){if(f instanceof HTMLElement&&!Ho.has(f)){for(var d=hi(cl),h;!(h=d()).done;){var p=h.value;if(f.contains(p))return}Ho.set(f,{"aria-hidden":f.getAttribute("aria-hidden"),inert:f.inert}),UD(f)}});else for(var l=hi(Ho.keys()),c;!(c=l()).done;){var u=c.value;HD(u),Ho.delete(u)}})}})}var vK=Symbol("DescriptionContext");function VD(n){var e=n===void 0?{}:n,r=e.slot,i=r===void 0?le({}):r,o=e.name,s=o===void 0?"Description":o,a=e.props,l=a===void 0?{}:a,c=le([]);function u(f){return c.value.push(f),function(){var d=c.value.indexOf(f);d!==-1&&c.value.splice(d,1)}}return mn(vK,{register:u,slot:i,name:s,props:l}),Je(function(){return c.value.length>0?c.value.join(" "):void 0})}function ul(n){var e;return n==null||n.value==null?null:(e=n.value.$el)!=null?e:n.value}var jD=Symbol("Context"),Hi;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed"})(Hi||(Hi={}));function yK(){return Mb()!==null}function Mb(){return Dt(jD,null)}function bK(n){mn(jD,n)}var Rn;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed"})(Rn||(Rn={}));var qD=Symbol("DialogContext");function Nb(n){var e=Dt(qD,null);if(e===null){var r=new Error("<"+n+" /> is missing a parent <Dialog /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(r,Nb),r}return e}var Nh="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Une=Ne({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Nh},initialFocus:{type:Object,default:null}},emits:{close:function(e){return!0}},render:function(){var e=this,r=un({},this.$attrs,{ref:"el",id:this.id,role:"dialog","aria-modal":this.dialogState===Rn.Open?!0:void 0,"aria-labelledby":this.titleId,"aria-describedby":this.describedby,onClick:this.handleClick}),i=this.$props,o=Fo(i,["open","initialFocus"]),s={open:this.dialogState===Rn.Open};return rt(PD,{force:!0},function(){return rt(cK,function(){return rt(uK,{target:e.dialogRef},function(){return rt(PD,{force:!1},function(){return pi({props:un({},o,r),slot:s,attrs:e.$attrs,slots:e.$slots,visible:e.visible,features:zo.RenderStrategy|zo.Static,name:"Dialog"})})})})})},setup:function(e,r){var i=r.emit,o=le(new Set),s=Mb(),a=Je(function(){if(e.open===Nh&&s!==null){var b;return $o(s.value,(b={},b[Hi.Open]=!0,b[Hi.Closed]=!1,b))}return e.open}),l=e.open!==Nh||s!==null;if(!l)throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof a.value!="boolean")throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: "+(a.value===Nh?void 0:e.open));var c=Je(function(){return e.open?Rn.Open:Rn.Closed}),u=Je(function(){return s!==null?s.value===Hi.Open:c.value===Rn.Open}),f=le(null),d=le(c.value===Rn.Open);Pp(function(){d.value=c.value===Rn.Open});var h="headlessui-dialog-"+au(),p=Je(function(){return{initialFocus:e.initialFocus}});gK(o,d,p),mK(f,d),RD(function(b,S){var E;return $o(b,(E={},E[al.AddElement]=function(){o.value.add(S)},E[al.RemoveElement]=function(){o.value.delete(S)},E))});var g=VD({name:"DialogDescription",slot:Je(function(){return{open:a.value}})}),v=le(null),w={titleId:v,dialogState:c,setTitleId:function(S){v.value!==S&&(v.value=S)},close:function(){i("close",!1)}};return mn(qD,w),Th("mousedown",function(b){var S=b.target;c.value===Rn.Open&&o.value.size===1&&(Tb(o.value,S)||(w.close(),Nl(function(){return S==null?void 0:S.focus()})))}),Th("keydown",function(b){b.key===ll.Escape&&c.value===Rn.Open&&(o.value.size>1||(b.preventDefault(),b.stopPropagation(),w.close()))}),$n(function(b){if(c.value===Rn.Open){var S=document.documentElement.style.overflow,E=document.documentElement.style.paddingRight,y=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=y+"px",b(function(){document.documentElement.style.overflow=S,document.documentElement.style.paddingRight=E})}}),$n(function(b){if(c.value===Rn.Open){var S=ul(f);if(!!S){var E=new IntersectionObserver(function(y){for(var k=hi(y),D;!(D=k()).done;){var T=D.value;T.boundingClientRect.x===0&&T.boundingClientRect.y===0&&T.boundingClientRect.width===0&&T.boundingClientRect.height===0&&w.close()}});E.observe(S),b(function(){return E.disconnect()})}}}),{id:h,el:f,dialogRef:f,containers:o,dialogState:c,titleId:v,describedby:g,visible:u,open:a,handleClick:function(S){S.stopPropagation()}}}}),Hne=Ne({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},render:function(){var e=Nb("DialogOverlay"),r={ref:"el",id:this.id,"aria-hidden":!0,onClick:this.handleClick},i=this.$props;return pi({props:un({},i,r),slot:{open:e.dialogState.value===Rn.Open},attrs:this.$attrs,slots:this.$slots,name:"DialogOverlay"})},setup:function(){var e=Nb("DialogOverlay"),r="headlessui-dialog-overlay-"+au();return{id:r,handleClick:function(o){o.target===o.currentTarget&&(o.preventDefault(),o.stopPropagation(),e.close())}}}});function WD(n,e){if(n)return n;var r=e!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function _K(n,e){var r=le(WD(n.value.type,n.value.as));return Er(function(){r.value=WD(n.value.type,n.value.as)}),$n(function(){var i;r.value||!ul(e)||ul(e)instanceof HTMLButtonElement&&!((i=ul(e))==null?void 0:i.hasAttribute("type"))&&(r.value="button")}),r}var KD=Symbol("LabelContext");function GD(){var n=Dt(KD,null);if(n===null){var e=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,GD),e}return n}function wK(n){var e=n===void 0?{}:n,r=e.slot,i=r===void 0?{}:r,o=e.name,s=o===void 0?"Label":o,a=e.props,l=a===void 0?{}:a,c=le([]);function u(f){return c.value.push(f),function(){var d=c.value.indexOf(f);d!==-1&&c.value.splice(d,1)}}return mn(KD,{register:u,slot:i,name:s,props:l}),Je(function(){return c.value.length>0?c.value.join(" "):void 0})}var EK=Ne({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},render:function(){var e=this.context,r=e.name,i=r===void 0?"Label":r,o=e.slot,s=o===void 0?{}:o,a=e.props,l=a===void 0?{}:a,c=this.$props,u=c.passive,f=Fo(c,["passive"]),d=un({},Object.entries(l).reduce(function(p,g){var v,w=g[0],b=g[1];return Object.assign(p,(v={},v[w]=$t(b),v))},{}),{id:this.id}),h=un({},f,d);return u&&delete h.onClick,pi({props:h,slot:s,attrs:this.$attrs,slots:this.$slots,name:i})},setup:function(){var e=GD(),r="headlessui-label-"+au();return Er(function(){return Xo(e.register(r))}),{id:r,context:e}}}),YD=Symbol("GroupContext"),Vne=Ne({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup:function(e,r){var i=r.slots,o=r.attrs,s=le(null),a=wK({name:"SwitchLabel",props:{onClick:function(){!s.value||(s.value.click(),s.value.focus({preventScroll:!0}))}}}),l=VD({name:"SwitchDescription"}),c={switchRef:s,labelledby:a,describedby:l};return mn(YD,c),function(){return pi({props:e,slot:{},slots:i,attrs:o,name:"SwitchGroup"})}}}),jne=Ne({name:"Switch",emits:{"update:modelValue":function(e){return!0}},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:!1}},render:function(){var e={checked:this.$props.modelValue},r={id:this.id,ref:"el",role:"switch",type:this.type,tabIndex:0,"aria-checked":this.$props.modelValue,"aria-labelledby":this.labelledby,"aria-describedby":this.describedby,onClick:this.handleClick,onKeyup:this.handleKeyUp,onKeypress:this.handleKeyPress};return pi({props:un({},this.$props,r),slot:e,attrs:this.$attrs,slots:this.$slots,name:"Switch"})},setup:function(e,r){var i=r.emit,o=r.attrs,s=Dt(YD,null),a="headlessui-switch-"+au();function l(){i("update:modelValue",!e.modelValue)}var c=le(null),u=s===null?c:s.switchRef;return{id:a,el:u,type:_K(Je(function(){return{as:e.as,type:o.type}}),u),labelledby:s==null?void 0:s.labelledby,describedby:s==null?void 0:s.describedby,handleClick:function(d){d.preventDefault(),l()},handleKeyUp:function(d){d.key!==ll.Tab&&d.preventDefault(),d.key===ll.Space&&l()},handleKeyPress:function(d){d.preventDefault()}}}}),qne=EK;function SK(n){var e={called:!1};return function(){if(!e.called)return e.called=!0,n.apply(void 0,arguments)}}function JD(){var n=[],e={requestAnimationFrame:function(r){function i(){return r.apply(this,arguments)}return i.toString=function(){return r.toString()},i}(function(){var r=requestAnimationFrame.apply(void 0,arguments);e.add(function(){return cancelAnimationFrame(r)})}),nextFrame:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];e.requestAnimationFrame(function(){e.requestAnimationFrame.apply(e,o)})},setTimeout:function(r){function i(){return r.apply(this,arguments)}return i.toString=function(){return r.toString()},i}(function(){var r=setTimeout.apply(void 0,arguments);e.add(function(){return clearTimeout(r)})}),add:function(i){n.push(i)},dispose:function(){for(var i=hi(n.splice(0)),o;!(o=i()).done;){var s=o.value;s()}}};return e}function Rb(n){for(var e,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];n&&i.length>0&&(e=n.classList).add.apply(e,i)}function Rh(n){for(var e,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];n&&i.length>0&&(e=n.classList).remove.apply(e,i)}var Vo;(function(n){n.Finished="finished",n.Cancelled="cancelled"})(Vo||(Vo={}));function kK(n,e){var r=JD();if(!n)return r.dispose;var i=getComputedStyle(n),o=i.transitionDuration,s=i.transitionDelay,a=[o,s].map(function(u){var f=u.split(",").filter(Boolean).map(function(p){return p.includes("ms")?parseFloat(p):parseFloat(p)*1e3}).sort(function(p,g){return g-p}),d=f[0],h=d===void 0?0:d;return h}),l=a[0],c=a[1];return l!==0?r.setTimeout(function(){return e(Vo.Finished)},l+c):e(Vo.Finished),r.add(function(){return e(Vo.Cancelled)}),r.dispose}function XD(n,e,r,i,o,s){var a=JD(),l=s!==void 0?SK(s):function(){};return Rh.apply(void 0,[n].concat(o)),Rb.apply(void 0,[n].concat(e,r)),a.nextFrame(function(){Rh.apply(void 0,[n].concat(r)),Rb.apply(void 0,[n].concat(i)),a.add(kK(n,function(c){return Rh.apply(void 0,[n].concat(i,e)),Rb.apply(void 0,[n].concat(o)),l(c)}))}),a.add(function(){return Rh.apply(void 0,[n].concat(e,r,i,o))}),a.add(function(){return l(Vo.Cancelled)}),a.dispose}function Us(n){return n===void 0&&(n=""),n.split(" ").filter(function(e){return e.trim().length>1})}var Ib=Symbol("TransitionContext"),vt;(function(n){n.Visible="visible",n.Hidden="hidden"})(vt||(vt={}));function CK(){return Dt(Ib,null)!==null}function xK(){var n=Dt(Ib,null);if(n===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return n}function AK(){var n=Dt(Pb,null);if(n===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return n}var Pb=Symbol("NestingContext");function Ih(n){return"children"in n?Ih(n.children):n.value.filter(function(e){var r=e.state;return r===vt.Visible}).length>0}function ZD(n){var e=le([]),r=le(!1);Er(function(){return r.value=!0}),Xo(function(){return r.value=!1});function i(s,a){var l;a===void 0&&(a=Qn.Hidden);var c=e.value.findIndex(function(u){var f=u.id;return f===s});c!==-1&&($o(a,(l={},l[Qn.Unmount]=function(){e.value.splice(c,1)},l[Qn.Hidden]=function(){e.value[c].state=vt.Hidden},l)),!Ih(e)&&r.value&&(n==null||n()))}function o(s){var a=e.value.find(function(l){var c=l.id;return c===s});return a?a.state!==vt.Visible&&(a.state=vt.Visible):e.value.push({id:s,state:vt.Visible}),function(){return i(s,Qn.Unmount)}}return{children:e,register:o,unregister:i}}var QD=zo.RenderStrategy,OK=Ne({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:function(){return!0},afterEnter:function(){return!0},beforeLeave:function(){return!0},afterLeave:function(){return!0}},render:function(){var e=this;if(this.renderAsRoot)return rt(DK,un({},this.$props,{onBeforeEnter:function(){return e.$emit("beforeEnter")},onAfterEnter:function(){return e.$emit("afterEnter")},onBeforeLeave:function(){return e.$emit("beforeLeave")},onAfterLeave:function(){return e.$emit("afterLeave")}}),this.$slots);var r=this.$props,i=Fo(r,["appear","show","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),o={ref:"el"},s=i;return pi({props:un({},s,o),slot:{},slots:this.$slots,attrs:this.$attrs,features:QD,visible:this.state===vt.Visible,name:"TransitionChild"})},setup:function(e,r){var i=r.emit;if(!CK()&&yK())return{renderAsRoot:!0};var o=le(null),s=le(vt.Visible),a=Je(function(){return e.unmount?Qn.Unmount:Qn.Hidden}),l=xK(),c=l.show,u=l.appear,f=AK(),d=f.register,h=f.unregister,p={value:!0},g=au(),v={value:!1},w=ZD(function(){v.value||(s.value=vt.Hidden,h(g),i("afterLeave"))});Er(function(){var $=d(g);Xo($)}),$n(function(){var $;if(a.value===Qn.Hidden&&!!g){if(c&&s.value!==vt.Visible){s.value=vt.Visible;return}$o(s.value,($={},$[vt.Hidden]=function(){return h(g)},$[vt.Visible]=function(){return d(g)},$))}});var b=Us(e.enter),S=Us(e.enterFrom),E=Us(e.enterTo),y=Us(e.entered),k=Us(e.leave),D=Us(e.leaveFrom),T=Us(e.leaveTo);Er(function(){$n(function(){if(s.value===vt.Visible){var $=ul(o),I=$ instanceof Comment&&$.data==="";if(I)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function N($){var I=p.value&&!u.value,L=ul(o);!L||!(L instanceof HTMLElement)||I||(v.value=!0,c.value&&i("beforeEnter"),c.value||i("beforeLeave"),$(c.value?XD(L,b,S,E,y,function(j){v.value=!1,j===Vo.Finished&&i("afterEnter")}):XD(L,k,D,T,y,function(j){v.value=!1,j===Vo.Finished&&(Ih(w)||(s.value=vt.Hidden,h(g),i("afterLeave")))})))}return Er(function(){Cn([c,u],function($,I,L){N(L),p.value=!1},{immediate:!0})}),mn(Pb,w),bK(Je(function(){var $;return $o(s.value,($={},$[vt.Visible]=Hi.Open,$[vt.Hidden]=Hi.Closed,$))})),{el:o,renderAsRoot:!1,state:s}}}),DK=Ne({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:function(){return!0},afterEnter:function(){return!0},beforeLeave:function(){return!0},afterLeave:function(){return!0}},render:function(){var e=this,r=this.$props,i=r.unmount,o=Fo(r,["show","appear","unmount"]),s={unmount:i};return pi({props:un({},s,{as:"template"}),slot:{},slots:un({},this.$slots,{default:function(){return[rt(OK,un({onBeforeEnter:function(){return e.$emit("beforeEnter")},onAfterEnter:function(){return e.$emit("afterEnter")},onBeforeLeave:function(){return e.$emit("beforeLeave")},onAfterLeave:function(){return e.$emit("afterLeave")}},e.$attrs,s,o),e.$slots.default)]}}),attrs:{},features:QD,visible:this.state===vt.Visible,name:"Transition"})},setup:function(e){var r=Mb(),i=Je(function(){if(e.show===null&&r!==null){var c;return $o(r.value,(c={},c[Hi.Open]=!0,c[Hi.Closed]=!1,c))}return e.show});$n(function(){if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});var o=le(i.value?vt.Visible:vt.Hidden),s=ZD(function(){o.value=vt.Hidden}),a={value:!0},l={show:i,appear:Je(function(){return e.appear||!a.value})};return Er(function(){$n(function(){a.value=!1,i.value?o.value=vt.Visible:Ih(s)||(o.value=vt.Hidden)})}),mn(Pb,s),mn(Ib,l),{state:o,show:i}}});Ne({name:"OnClickOutside",props:["as"],emits:["trigger"],setup(n,{slots:e,emit:r}){const i=le();return D2(i,o=>{r("trigger",o)}),()=>{if(e.default)return rt(n.as||"div",{ref:i},e.default())}}});const TK=ss?window:void 0;Ne({name:"UseActiveElement",setup(n,{slots:e}){const r=qe({element:T2()});return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseBattery",setup(n,{slots:e}){const r=qe(M2(n));return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseBrowserLocation",setup(n,{slots:e}){const r=qe(N2());return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseDark",props:["selector","attribute","valueDark","valueLight","onChanged","storageKey","storage"],setup(n,{slots:e}){const r=I2(n),i=qe({isDark:r,toggleDark:O2(r)});return()=>{if(e.default)return e.default(i)}}});Ne({name:"UseDeviceMotion",setup(n,{slots:e}){const r=qe(P2());return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseDeviceOrientation",setup(n,{slots:e}){const r=qe(L2());return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseDevicePixelRatio",setup(n,{slots:e}){const r=qe({pixelRatio:F2()});return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseDevicesList",props:["onUpdated","requestPermissions"],setup(n,{slots:e}){const r=qe(z2(n));return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseDocumentVisibility",setup(n,{slots:e}){const r=qe({visibility:U2()});return()=>{if(e.default)return e.default(r)}}});var MK=Object.defineProperty,NK=Object.defineProperties,RK=Object.getOwnPropertyDescriptors,eT=Object.getOwnPropertySymbols,IK=Object.prototype.hasOwnProperty,PK=Object.prototype.propertyIsEnumerable,tT=(n,e,r)=>e in n?MK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,LK=(n,e)=>{for(var r in e||(e={}))IK.call(e,r)&&tT(n,r,e[r]);if(eT)for(var r of eT(e))PK.call(e,r)&&tT(n,r,e[r]);return n},BK=(n,e)=>NK(n,RK(e));Ne({name:"UseDraggable",props:["storageKey","initialValue","exact","preventDefault","pointerTypes","as"],setup(n,{slots:e}){const r=le(),i=n.storageKey?rE(n.storageKey,$t(n.initialValue)||{x:0,y:0},ss?n.storageType==="session"?sessionStorage:localStorage:void 0):n.initialValue||{x:0,y:0},o=qe(Y2(r,BK(LK({},n),{initialValue:i})));return()=>{if(e.default)return rt(n.as||"div",{ref:r,style:`touch-action:none;${o.style}`},e.default(o))}}});Ne({name:"UseElementBounding",props:["box","as"],setup(n,{slots:e}){const r=le(),i=qe(Q2(r,{box:n.box,window:n.window}));return()=>{if(e.default)return rt(n.as||"div",{ref:r},e.default(i))}}});Ne({name:"UseElementSize",props:["width","height","box"],setup(n,{slots:e}){const r=le(),i=qe(cE(r,{width:n.width,height:n.height},{box:n.box}));return()=>{if(e.default)return rt(n.as||"div",{ref:r},e.default(i))}}});Ne({name:"UseElementVisibility",props:["as"],setup(n,{slots:e}){const r=le(),i=qe({isVisible:eL(r)});return()=>{if(e.default)return rt(n.as||"div",{ref:r},e.default(i))}}});Ne({name:"UseFullscreen",props:["as"],setup(n,{slots:e}){const r=le(),i=qe(tL(r));return()=>{if(e.default)return rt(n.as||"div",{ref:r},e.default(i))}}});Ne({name:"UseGeolocation",props:["enableHighAccuracy","maximumAge","timeout","navigator"],setup(n,{slots:e}){const r=qe(nL(n));return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseIdle",props:["timeout","events","listenForVisibilityChange","initialState"],setup(n,{slots:e}){const r=qe(oL(n.timeout,n));return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseMouse",props:["touch","resetOnTouchEnds","initialValue"],setup(n,{slots:e}){const r=qe(dE(n));return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseMouseElement",props:["handleOutside","as"],setup(n,{slots:e}){const r=le(),i=qe(sL(r,n));return()=>{if(e.default)return rt(n.as||"div",{ref:r},e.default(i))}}});var FK=Object.defineProperty,$K=Object.defineProperties,zK=Object.getOwnPropertyDescriptors,nT=Object.getOwnPropertySymbols,UK=Object.prototype.hasOwnProperty,HK=Object.prototype.propertyIsEnumerable,rT=(n,e,r)=>e in n?FK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,VK=(n,e)=>{for(var r in e||(e={}))UK.call(e,r)&&rT(n,r,e[r]);if(nT)for(var r of nT(e))HK.call(e,r)&&rT(n,r,e[r]);return n},jK=(n,e)=>$K(n,zK(e));Ne({name:"UseMousePressed",props:["touch","initialValue","as"],setup(n,{slots:e}){const r=le(),i=qe(aL(jK(VK({},n),{target:r})));return()=>{if(e.default)return rt(n.as||"div",{ref:r},e.default(i))}}});Ne({name:"UseNetwork",setup(n,{slots:e}){const r=qe(hE());return()=>{if(e.default)return e.default(r)}}});var qK=Object.defineProperty,WK=Object.defineProperties,KK=Object.getOwnPropertyDescriptors,iT=Object.getOwnPropertySymbols,GK=Object.prototype.hasOwnProperty,YK=Object.prototype.propertyIsEnumerable,oT=(n,e,r)=>e in n?qK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,JK=(n,e)=>{for(var r in e||(e={}))GK.call(e,r)&&oT(n,r,e[r]);if(iT)for(var r of iT(e))YK.call(e,r)&&oT(n,r,e[r]);return n},XK=(n,e)=>WK(n,KK(e));Ne({name:"UseNow",props:["interval"],setup(n,{slots:e}){const r=qe(mE(XK(JK({},n),{controls:!0})));return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseOnline",setup(n,{slots:e}){const r=qe({isOnline:dL()});return()=>{if(e.default)return e.default(r)}}});Ne({name:"UsePageLeave",setup(n,{slots:e}){const r=qe({isLeft:hL()});return()=>{if(e.default)return e.default(r)}}});var ZK=Object.defineProperty,QK=Object.defineProperties,eG=Object.getOwnPropertyDescriptors,sT=Object.getOwnPropertySymbols,tG=Object.prototype.hasOwnProperty,nG=Object.prototype.propertyIsEnumerable,aT=(n,e,r)=>e in n?ZK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,rG=(n,e)=>{for(var r in e||(e={}))tG.call(e,r)&&aT(n,r,e[r]);if(sT)for(var r of sT(e))nG.call(e,r)&&aT(n,r,e[r]);return n},iG=(n,e)=>QK(n,eG(e));Ne({name:"UsePointer",props:["pointerTypes","initialValue","target"],setup(n,{slots:e}){const r=le(null),i=qe(EL(iG(rG({},n),{target:n.target==="self"?r:TK})));return()=>{if(e.default)return e.default(i,{ref:r})}}});Ne({name:"UsePreferredColorScheme",setup(n,{slots:e}){const r=qe({colorScheme:SL()});return()=>{if(e.default)return e.default(r)}}});Ne({name:"UsePreferredDark",setup(n,{slots:e}){const r=qe({prefersDark:iE()});return()=>{if(e.default)return e.default(r)}}});Ne({name:"UsePreferredLanguages",setup(n,{slots:e}){const r=qe({languages:kL()});return()=>{if(e.default)return e.default(r)}}});var oG=Object.defineProperty,sG=Object.defineProperties,aG=Object.getOwnPropertyDescriptors,lT=Object.getOwnPropertySymbols,lG=Object.prototype.hasOwnProperty,cG=Object.prototype.propertyIsEnumerable,cT=(n,e,r)=>e in n?oG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,uG=(n,e)=>{for(var r in e||(e={}))lG.call(e,r)&&cT(n,r,e[r]);if(lT)for(var r of lT(e))cG.call(e,r)&&cT(n,r,e[r]);return n},fG=(n,e)=>sG(n,aG(e));const Wne=Ne({name:"UseTimeAgo",props:["time","updateInterval","max","fullDateFormatter","messages"],setup(n,{slots:e}){const{time:r}=p_(n),i=qe(TL(r,fG(uG({},n),{controls:!0})));return()=>{if(e.default)return e.default(i)}}});var dG=Object.defineProperty,hG=Object.defineProperties,pG=Object.getOwnPropertyDescriptors,uT=Object.getOwnPropertySymbols,gG=Object.prototype.hasOwnProperty,mG=Object.prototype.propertyIsEnumerable,fT=(n,e,r)=>e in n?dG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,vG=(n,e)=>{for(var r in e||(e={}))gG.call(e,r)&&fT(n,r,e[r]);if(uT)for(var r of uT(e))mG.call(e,r)&&fT(n,r,e[r]);return n},yG=(n,e)=>hG(n,pG(e));Ne({name:"UseTimestamp",props:["immediate","interval","offset"],setup(n,{slots:e}){const r=qe(PL(yG(vG({},n),{controls:!0})));return()=>{if(e.default)return e.default(r)}}});var bG=Object.defineProperty,dT=Object.getOwnPropertySymbols,_G=Object.prototype.hasOwnProperty,wG=Object.prototype.propertyIsEnumerable,hT=(n,e,r)=>e in n?bG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,pT=(n,e)=>{for(var r in e||(e={}))_G.call(e,r)&&hT(n,r,e[r]);if(dT)for(var r of dT(e))wG.call(e,r)&&hT(n,r,e[r]);return n};Ne({name:"UseVirtualList",props:["list","options","height"],setup(n,{slots:e}){const{list:r,containerProps:i,wrapperProps:o}=LL(n.list,n.options);return i.style.height=n.height||"300px",()=>rt("div",pT({},i),[rt("div",pT({},o.value),r.value.map(s=>rt("div",{style:{overFlow:"hidden",height:s.height}},e.default?e.default(s):"Please set content!")))])}});Ne({name:"UseWindowFocus",setup(n,{slots:e}){const r=qe({focused:BL()});return()=>{if(e.default)return e.default(r)}}});Ne({name:"UseWindowSize",props:["initialWidth","initialHeight"],setup(n,{slots:e}){const r=qe(FL(n));return()=>{if(e.default)return e.default(r)}}});var Lb="http://www.w3.org/1999/xhtml",gT={svg:"http://www.w3.org/2000/svg",xhtml:Lb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ph(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),gT.hasOwnProperty(e)?{space:gT[e],local:n}:n}function EG(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Lb&&e.documentElement.namespaceURI===Lb?e.createElement(n):e.createElementNS(r,n)}}function SG(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function mT(n){var e=Ph(n);return(e.local?SG:EG)(e)}function kG(){}function Bb(n){return n==null?kG:function(){return this.querySelector(n)}}function CG(n){typeof n!="function"&&(n=Bb(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var s=e[o],a=s.length,l=i[o]=new Array(a),c,u,f=0;f<a;++f)(c=s[f])&&(u=n.call(c,c.__data__,f,s))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new er(i,this._parents)}function xG(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function AG(){return[]}function vT(n){return n==null?AG:function(){return this.querySelectorAll(n)}}function OG(n){return function(){return xG(n.apply(this,arguments))}}function DG(n){typeof n=="function"?n=OG(n):n=vT(n);for(var e=this._groups,r=e.length,i=[],o=[],s=0;s<r;++s)for(var a=e[s],l=a.length,c,u=0;u<l;++u)(c=a[u])&&(i.push(n.call(c,c.__data__,u,a)),o.push(c));return new er(i,o)}function yT(n){return function(){return this.matches(n)}}function bT(n){return function(e){return e.matches(n)}}var TG=Array.prototype.find;function MG(n){return function(){return TG.call(this.children,n)}}function NG(){return this.firstElementChild}function RG(n){return this.select(n==null?NG:MG(typeof n=="function"?n:bT(n)))}var IG=Array.prototype.filter;function PG(){return Array.from(this.children)}function LG(n){return function(){return IG.call(this.children,n)}}function BG(n){return this.selectAll(n==null?PG:LG(typeof n=="function"?n:bT(n)))}function FG(n){typeof n!="function"&&(n=yT(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var s=e[o],a=s.length,l=i[o]=[],c,u=0;u<a;++u)(c=s[u])&&n.call(c,c.__data__,u,s)&&l.push(c);return new er(i,this._parents)}function _T(n){return new Array(n.length)}function $G(){return new er(this._enter||this._groups.map(_T),this._parents)}function Lh(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Lh.prototype={constructor:Lh,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function zG(n){return function(){return n}}function UG(n,e,r,i,o,s){for(var a=0,l,c=e.length,u=s.length;a<u;++a)(l=e[a])?(l.__data__=s[a],i[a]=l):r[a]=new Lh(n,s[a]);for(;a<c;++a)(l=e[a])&&(o[a]=l)}function HG(n,e,r,i,o,s,a){var l,c,u=new Map,f=e.length,d=s.length,h=new Array(f),p;for(l=0;l<f;++l)(c=e[l])&&(h[l]=p=a.call(c,c.__data__,l,e)+"",u.has(p)?o[l]=c:u.set(p,c));for(l=0;l<d;++l)p=a.call(n,s[l],l,s)+"",(c=u.get(p))?(i[l]=c,c.__data__=s[l],u.delete(p)):r[l]=new Lh(n,s[l]);for(l=0;l<f;++l)(c=e[l])&&u.get(h[l])===c&&(o[l]=c)}function VG(n){return n.__data__}function jG(n,e){if(!arguments.length)return Array.from(this,VG);var r=e?HG:UG,i=this._parents,o=this._groups;typeof n!="function"&&(n=zG(n));for(var s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var f=i[u],d=o[u],h=d.length,p=qG(n.call(f,f&&f.__data__,u,i)),g=p.length,v=l[u]=new Array(g),w=a[u]=new Array(g),b=c[u]=new Array(h);r(f,d,v,w,b,p,e);for(var S=0,E=0,y,k;S<g;++S)if(y=v[S]){for(S>=E&&(E=S+1);!(k=w[E])&&++E<g;);y._next=k||null}}return a=new er(a,i),a._enter=l,a._exit=c,a}function qG(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function WG(){return new er(this._exit||this._groups.map(_T),this._parents)}function KG(n,e,r){var i=this.enter(),o=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?s.remove():r(s),i&&o?i.merge(o).order():o}function GG(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,o=r.length,s=i.length,a=Math.min(o,s),l=new Array(o),c=0;c<a;++c)for(var u=r[c],f=i[c],d=u.length,h=l[c]=new Array(d),p,g=0;g<d;++g)(p=u[g]||f[g])&&(h[g]=p);for(;c<o;++c)l[c]=r[c];return new er(l,this._parents)}function YG(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],o=i.length-1,s=i[o],a;--o>=0;)(a=i[o])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function JG(n){n||(n=XG);function e(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s){for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(c[f]=u);c.sort(e)}return new er(o,this._parents).order()}function XG(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function ZG(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function QG(){return Array.from(this)}function eY(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length;o<s;++o){var a=i[o];if(a)return a}return null}function tY(){let n=0;for(const e of this)++n;return n}function nY(){return!this.node()}function rY(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o=e[r],s=0,a=o.length,l;s<a;++s)(l=o[s])&&n.call(l,l.__data__,s,o);return this}function iY(n){return function(){this.removeAttribute(n)}}function oY(n){return function(){this.removeAttributeNS(n.space,n.local)}}function sY(n,e){return function(){this.setAttribute(n,e)}}function aY(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function lY(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function cY(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function uY(n,e){var r=Ph(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?oY:iY:typeof e=="function"?r.local?cY:lY:r.local?aY:sY)(r,e))}function wT(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function fY(n){return function(){this.style.removeProperty(n)}}function dY(n,e,r){return function(){this.style.setProperty(n,e,r)}}function hY(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function pY(n,e,r){return arguments.length>1?this.each((e==null?fY:typeof e=="function"?hY:dY)(n,e,r==null?"":r)):fl(this.node(),n)}function fl(n,e){return n.style.getPropertyValue(e)||wT(n).getComputedStyle(n,null).getPropertyValue(e)}function gY(n){return function(){delete this[n]}}function mY(n,e){return function(){this[n]=e}}function vY(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function yY(n,e){return arguments.length>1?this.each((e==null?gY:typeof e=="function"?vY:mY)(n,e)):this.node()[n]}function ET(n){return n.trim().split(/^|\s+/)}function Fb(n){return n.classList||new ST(n)}function ST(n){this._node=n,this._names=ET(n.getAttribute("class")||"")}ST.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function kT(n,e){for(var r=Fb(n),i=-1,o=e.length;++i<o;)r.add(e[i])}function CT(n,e){for(var r=Fb(n),i=-1,o=e.length;++i<o;)r.remove(e[i])}function bY(n){return function(){kT(this,n)}}function _Y(n){return function(){CT(this,n)}}function wY(n,e){return function(){(e.apply(this,arguments)?kT:CT)(this,n)}}function EY(n,e){var r=ET(n+"");if(arguments.length<2){for(var i=Fb(this.node()),o=-1,s=r.length;++o<s;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?wY:e?bY:_Y)(r,e))}function SY(){this.textContent=""}function kY(n){return function(){this.textContent=n}}function CY(n){return function(){var e=n.apply(this,arguments);this.textContent=e==null?"":e}}function xY(n){return arguments.length?this.each(n==null?SY:(typeof n=="function"?CY:kY)(n)):this.node().textContent}function AY(){this.innerHTML=""}function OY(n){return function(){this.innerHTML=n}}function DY(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e==null?"":e}}function TY(n){return arguments.length?this.each(n==null?AY:(typeof n=="function"?DY:OY)(n)):this.node().innerHTML}function MY(){this.nextSibling&&this.parentNode.appendChild(this)}function NY(){return this.each(MY)}function RY(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function IY(){return this.each(RY)}function PY(n){var e=typeof n=="function"?n:mT(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function LY(){return null}function BY(n,e){var r=typeof n=="function"?n:mT(n),i=e==null?LY:typeof e=="function"?e:Bb(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function FY(){var n=this.parentNode;n&&n.removeChild(this)}function $Y(){return this.each(FY)}function zY(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function UY(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function HY(n){return this.select(n?UY:zY)}function VY(n){return arguments.length?this.property("__data__",n):this.node().__data__}function jY(n){return function(e){n.call(this,e,this.__data__)}}function qY(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function WY(n){return function(){var e=this.__on;if(!!e){for(var r=0,i=-1,o=e.length,s;r<o;++r)s=e[r],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function KY(n,e,r){return function(){var i=this.__on,o,s=jY(e);if(i){for(var a=0,l=i.length;a<l;++a)if((o=i[a]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=r),o.value=e;return}}this.addEventListener(n.type,s,r),o={type:n.type,name:n.name,value:e,listener:s,options:r},i?i.push(o):this.__on=[o]}}function GY(n,e,r){var i=qY(n+""),o,s=i.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(o=0,f=l[c];o<s;++o)if((a=i[o]).type===f.type&&a.name===f.name)return f.value}return}for(l=e?KY:WY,o=0;o<s;++o)this.each(l(i[o],e,r));return this}function xT(n,e,r){var i=wT(n),o=i.CustomEvent;typeof o=="function"?o=new o(e,r):(o=i.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function YY(n,e){return function(){return xT(this,n,e)}}function JY(n,e){return function(){return xT(this,n,e.apply(this,arguments))}}function XY(n,e){return this.each((typeof e=="function"?JY:YY)(n,e))}function*ZY(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&(yield a)}var AT=[null];function er(n,e){this._groups=n,this._parents=e}function cu(){return new er([[document.documentElement]],AT)}function QY(){return this}er.prototype=cu.prototype={constructor:er,select:CG,selectAll:DG,selectChild:RG,selectChildren:BG,filter:FG,data:jG,enter:$G,exit:WG,join:KG,merge:GG,selection:QY,order:YG,sort:JG,call:ZG,nodes:QG,node:eY,size:tY,empty:nY,each:rY,attr:uY,style:pY,property:yY,classed:EY,text:xY,html:TY,raise:NY,lower:IY,append:PY,insert:BY,remove:$Y,clone:HY,datum:VY,on:GY,dispatch:XY,[Symbol.iterator]:ZY};function $r(n){return typeof n=="string"?new er([[document.querySelector(n)]],[document.documentElement]):new er([[n]],AT)}function eJ(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Vi(n,e){if(n=eJ(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}}return[n.pageX,n.pageY]}var tJ={value:()=>{}};function uu(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Bh(r)}function Bh(n){this._=n}function nJ(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Bh.prototype=uu.prototype={constructor:Bh,on:function(n,e){var r=this._,i=nJ(n+"",r),o,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((o=(n=i[s]).type)&&(o=rJ(r[o],n.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(o=(n=i[s]).type)r[o]=OT(r[o],n.name,e);else if(e==null)for(o in r)r[o]=OT(r[o],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new Bh(n)},call:function(n,e){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,s;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,o=s.length;i<o;++i)s[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],o=0,s=i.length;o<s;++o)i[o].value.apply(e,r)}};function rJ(n,e){for(var r=0,i=n.length,o;r<i;++r)if((o=n[r]).name===e)return o.value}function OT(n,e,r){for(var i=0,o=n.length;i<o;++i)if(n[i].name===e){n[i]=tJ,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}const iJ={passive:!1},fu={capture:!0,passive:!1};function $b(n){n.stopImmediatePropagation()}function dl(n){n.preventDefault(),n.stopImmediatePropagation()}function DT(n){var e=n.document.documentElement,r=$r(n).on("dragstart.drag",dl,fu);"onselectstart"in e?r.on("selectstart.drag",dl,fu):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function TT(n,e){var r=n.document.documentElement,i=$r(n).on("dragstart.drag",null);e&&(i.on("click.drag",dl,fu),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Fh=n=>()=>n;function zb(n,{sourceEvent:e,subject:r,target:i,identifier:o,active:s,x:a,y:l,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}zb.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function oJ(n){return!n.ctrlKey&&!n.button}function sJ(){return this.parentNode}function aJ(n,e){return e==null?{x:n.x,y:n.y}:e}function lJ(){return navigator.maxTouchPoints||"ontouchstart"in this}function cJ(){var n=oJ,e=sJ,r=aJ,i=lJ,o={},s=uu("start","drag","end"),a=0,l,c,u,f,d=0;function h(y){y.on("mousedown.drag",p).filter(i).on("touchstart.drag",w).on("touchmove.drag",b,iJ).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(y,k){if(!(f||!n.call(this,y,k))){var D=E(this,e.call(this,y,k),y,k,"mouse");!D||($r(y.view).on("mousemove.drag",g,fu).on("mouseup.drag",v,fu),DT(y.view),$b(y),u=!1,l=y.clientX,c=y.clientY,D("start",y))}}function g(y){if(dl(y),!u){var k=y.clientX-l,D=y.clientY-c;u=k*k+D*D>d}o.mouse("drag",y)}function v(y){$r(y.view).on("mousemove.drag mouseup.drag",null),TT(y.view,u),dl(y),o.mouse("end",y)}function w(y,k){if(!!n.call(this,y,k)){var D=y.changedTouches,T=e.call(this,y,k),N=D.length,$,I;for($=0;$<N;++$)(I=E(this,T,y,k,D[$].identifier,D[$]))&&($b(y),I("start",y,D[$]))}}function b(y){var k=y.changedTouches,D=k.length,T,N;for(T=0;T<D;++T)(N=o[k[T].identifier])&&(dl(y),N("drag",y,k[T]))}function S(y){var k=y.changedTouches,D=k.length,T,N;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),T=0;T<D;++T)(N=o[k[T].identifier])&&($b(y),N("end",y,k[T]))}function E(y,k,D,T,N,$){var I=s.copy(),L=Vi($||D,k),j,K,V;if((V=r.call(y,new zb("beforestart",{sourceEvent:D,target:h,identifier:N,active:a,x:L[0],y:L[1],dx:0,dy:0,dispatch:I}),T))!=null)return j=V.x-L[0]||0,K=V.y-L[1]||0,function G(B,W,X){var J=L,ee;switch(B){case"start":o[N]=G,ee=a++;break;case"end":delete o[N],--a;case"drag":L=Vi(X||W,k),ee=a;break}I.call(B,y,new zb(B,{sourceEvent:W,subject:V,target:h,identifier:N,active:ee,x:L[0]+j,y:L[1]+K,dx:L[0]-J[0],dy:L[1]-J[1],dispatch:I}),T)}}return h.filter=function(y){return arguments.length?(n=typeof y=="function"?y:Fh(!!y),h):n},h.container=function(y){return arguments.length?(e=typeof y=="function"?y:Fh(y),h):e},h.subject=function(y){return arguments.length?(r=typeof y=="function"?y:Fh(y),h):r},h.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:Fh(!!y),h):i},h.on=function(){var y=s.on.apply(s,arguments);return y===s?h:y},h.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,h):Math.sqrt(d)},h}function Ub(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function MT(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function du(){}var hu=.7,$h=1/hu,hl="\\s*([+-]?\\d+)\\s*",pu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",gi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uJ=/^#([0-9a-f]{3,8})$/,fJ=new RegExp("^rgb\\("+[hl,hl,hl]+"\\)$"),dJ=new RegExp("^rgb\\("+[gi,gi,gi]+"\\)$"),hJ=new RegExp("^rgba\\("+[hl,hl,hl,pu]+"\\)$"),pJ=new RegExp("^rgba\\("+[gi,gi,gi,pu]+"\\)$"),gJ=new RegExp("^hsl\\("+[pu,gi,gi]+"\\)$"),mJ=new RegExp("^hsla\\("+[pu,gi,gi,pu]+"\\)$"),NT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ub(du,Hs,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:RT,formatHex:RT,formatHsl:vJ,formatRgb:IT,toString:IT});function RT(){return this.rgb().formatHex()}function vJ(){return $T(this).formatHsl()}function IT(){return this.rgb().formatRgb()}function Hs(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=uJ.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?PT(e):r===3?new tr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?zh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?zh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fJ.exec(n))?new tr(e[1],e[2],e[3],1):(e=dJ.exec(n))?new tr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hJ.exec(n))?zh(e[1],e[2],e[3],e[4]):(e=pJ.exec(n))?zh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gJ.exec(n))?FT(e[1],e[2]/100,e[3]/100,1):(e=mJ.exec(n))?FT(e[1],e[2]/100,e[3]/100,e[4]):NT.hasOwnProperty(n)?PT(NT[n]):n==="transparent"?new tr(NaN,NaN,NaN,0):null}function PT(n){return new tr(n>>16&255,n>>8&255,n&255,1)}function zh(n,e,r,i){return i<=0&&(n=e=r=NaN),new tr(n,e,r,i)}function yJ(n){return n instanceof du||(n=Hs(n)),n?(n=n.rgb(),new tr(n.r,n.g,n.b,n.opacity)):new tr}function Hb(n,e,r,i){return arguments.length===1?yJ(n):new tr(n,e,r,i==null?1:i)}function tr(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}Ub(tr,Hb,MT(du,{brighter:function(n){return n=n==null?$h:Math.pow($h,n),new tr(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?hu:Math.pow(hu,n),new tr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LT,formatHex:LT,formatRgb:BT,toString:BT}));function LT(){return"#"+Vb(this.r)+Vb(this.g)+Vb(this.b)}function BT(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function Vb(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function FT(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new mi(n,e,r,i)}function $T(n){if(n instanceof mi)return new mi(n.h,n.s,n.l,n.opacity);if(n instanceof du||(n=Hs(n)),!n)return new mi;if(n instanceof mi)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,o=Math.min(e,r,i),s=Math.max(e,r,i),a=NaN,l=s-o,c=(s+o)/2;return l?(e===s?a=(r-i)/l+(r<i)*6:r===s?a=(i-e)/l+2:a=(e-r)/l+4,l/=c<.5?s+o:2-s-o,a*=60):l=c>0&&c<1?0:a,new mi(a,l,c,n.opacity)}function bJ(n,e,r,i){return arguments.length===1?$T(n):new mi(n,e,r,i==null?1:i)}function mi(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}Ub(mi,bJ,MT(du,{brighter:function(n){return n=n==null?$h:Math.pow($h,n),new mi(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?hu:Math.pow(hu,n),new mi(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new tr(jb(n>=240?n-240:n+120,o,i),jb(n,o,i),jb(n<120?n+240:n-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(n===1?")":", "+n+")")}}));function jb(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}var qb=n=>()=>n;function _J(n,e){return function(r){return n+r*e}}function wJ(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function EJ(n){return(n=+n)==1?zT:function(e,r){return r-e?wJ(e,r,n):qb(isNaN(e)?r:e)}}function zT(n,e){var r=e-n;return r?_J(n,r):qb(isNaN(n)?e:n)}var Uh=function n(e){var r=EJ(e);function i(o,s){var a=r((o=Hb(o)).r,(s=Hb(s)).r),l=r(o.g,s.g),c=r(o.b,s.b),u=zT(o.opacity,s.opacity);return function(f){return o.r=a(f),o.g=l(f),o.b=c(f),o.opacity=u(f),o+""}}return i.gamma=n,i}(1);function SJ(n,e){e||(e=[]);var r=n?Math.min(e.length,n.length):0,i=e.slice(),o;return function(s){for(o=0;o<r;++o)i[o]=n[o]*(1-s)+e[o]*s;return i}}function kJ(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function CJ(n,e){var r=e?e.length:0,i=n?Math.min(r,n.length):0,o=new Array(i),s=new Array(r),a;for(a=0;a<i;++a)o[a]=Gb(n[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(l){for(a=0;a<i;++a)s[a]=o[a](l);return s}}function xJ(n,e){var r=new Date;return n=+n,e=+e,function(i){return r.setTime(n*(1-i)+e*i),r}}function zr(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}function AJ(n,e){var r={},i={},o;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in n?r[o]=Gb(n[o],e[o]):i[o]=e[o];return function(s){for(o in r)i[o]=r[o](s);return i}}var Wb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kb=new RegExp(Wb.source,"g");function OJ(n){return function(){return n}}function DJ(n){return function(e){return n(e)+""}}function UT(n,e){var r=Wb.lastIndex=Kb.lastIndex=0,i,o,s,a=-1,l=[],c=[];for(n=n+"",e=e+"";(i=Wb.exec(n))&&(o=Kb.exec(e));)(s=o.index)>r&&(s=e.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(i=i[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,c.push({i:a,x:zr(i,o)})),r=Kb.lastIndex;return r<e.length&&(s=e.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?DJ(c[0].x):OJ(e):(e=c.length,function(u){for(var f=0,d;f<e;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Gb(n,e){var r=typeof e,i;return e==null||r==="boolean"?qb(e):(r==="number"?zr:r==="string"?(i=Hs(e))?(e=i,Uh):UT:e instanceof Hs?Uh:e instanceof Date?xJ:kJ(e)?SJ:Array.isArray(e)?CJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?AJ:zr)(n,e)}function TJ(n,e){return n=+n,e=+e,function(r){return Math.round(n*(1-r)+e*r)}}var HT=180/Math.PI,Yb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function VT(n,e,r,i,o,s){var a,l,c;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(c=n*r+e*i)&&(r-=n*c,i-=e*c),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,c/=l),n*i<e*r&&(n=-n,e=-e,c=-c,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(e,n)*HT,skewX:Math.atan(c)*HT,scaleX:a,scaleY:l}}var Hh;function MJ(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Yb:VT(e.a,e.b,e.c,e.d,e.e,e.f)}function NJ(n){return n==null||(Hh||(Hh=document.createElementNS("http://www.w3.org/2000/svg","g")),Hh.setAttribute("transform",n),!(n=Hh.transform.baseVal.consolidate()))?Yb:(n=n.matrix,VT(n.a,n.b,n.c,n.d,n.e,n.f))}function jT(n,e,r,i){function o(u){return u.length?u.pop()+" ":""}function s(u,f,d,h,p,g){if(u!==d||f!==h){var v=p.push("translate(",null,e,null,r);g.push({i:v-4,x:zr(u,d)},{i:v-2,x:zr(f,h)})}else(d||h)&&p.push("translate("+d+e+h+r)}function a(u,f,d,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:d.push(o(d)+"rotate(",null,i)-2,x:zr(u,f)})):f&&d.push(o(d)+"rotate("+f+i)}function l(u,f,d,h){u!==f?h.push({i:d.push(o(d)+"skewX(",null,i)-2,x:zr(u,f)}):f&&d.push(o(d)+"skewX("+f+i)}function c(u,f,d,h,p,g){if(u!==d||f!==h){var v=p.push(o(p)+"scale(",null,",",null,")");g.push({i:v-4,x:zr(u,d)},{i:v-2,x:zr(f,h)})}else(d!==1||h!==1)&&p.push(o(p)+"scale("+d+","+h+")")}return function(u,f){var d=[],h=[];return u=n(u),f=n(f),s(u.translateX,u.translateY,f.translateX,f.translateY,d,h),a(u.rotate,f.rotate,d,h),l(u.skewX,f.skewX,d,h),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,h),u=f=null,function(p){for(var g=-1,v=h.length,w;++g<v;)d[(w=h[g]).i]=w.x(p);return d.join("")}}}var RJ=jT(MJ,"px, ","px)","deg)"),IJ=jT(NJ,", ",")",")"),PJ=1e-12;function qT(n){return((n=Math.exp(n))+1/n)/2}function LJ(n){return((n=Math.exp(n))-1/n)/2}function BJ(n){return((n=Math.exp(2*n))-1)/(n+1)}var FJ=function n(e,r,i){function o(s,a){var l=s[0],c=s[1],u=s[2],f=a[0],d=a[1],h=a[2],p=f-l,g=d-c,v=p*p+g*g,w,b;if(v<PJ)b=Math.log(h/u)/e,w=function(T){return[l+T*p,c+T*g,u*Math.exp(e*T*b)]};else{var S=Math.sqrt(v),E=(h*h-u*u+i*v)/(2*u*r*S),y=(h*h-u*u-i*v)/(2*h*r*S),k=Math.log(Math.sqrt(E*E+1)-E),D=Math.log(Math.sqrt(y*y+1)-y);b=(D-k)/e,w=function(T){var N=T*b,$=qT(k),I=u/(r*S)*($*BJ(e*N+k)-LJ(k));return[l+I*p,c+I*g,u*$/qT(e*N+k)]}}return w.duration=b*1e3*e/Math.SQRT2,w}return o.rho=function(s){var a=Math.max(.001,+s),l=a*a,c=l*l;return n(a,l,c)},o}(Math.SQRT2,2,4),pl=0,gu=0,mu=0,WT=1e3,Vh,vu,jh=0,Vs=0,qh=0,yu=typeof performance=="object"&&performance.now?performance:Date,KT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Jb(){return Vs||(KT($J),Vs=yu.now()+qh)}function $J(){Vs=0}function Wh(){this._call=this._time=this._next=null}Wh.prototype=Xb.prototype={constructor:Wh,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?Jb():+r)+(e==null?0:+e),!this._next&&vu!==this&&(vu?vu._next=this:Vh=this,vu=this),this._call=n,this._time=r,Zb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zb())}};function Xb(n,e,r){var i=new Wh;return i.restart(n,e,r),i}function zJ(){Jb(),++pl;for(var n=Vh,e;n;)(e=Vs-n._time)>=0&&n._call.call(void 0,e),n=n._next;--pl}function GT(){Vs=(jh=yu.now())+qh,pl=gu=0;try{zJ()}finally{pl=0,HJ(),Vs=0}}function UJ(){var n=yu.now(),e=n-jh;e>WT&&(qh-=e,jh=n)}function HJ(){for(var n,e=Vh,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:Vh=r);vu=n,Zb(i)}function Zb(n){if(!pl){gu&&(gu=clearTimeout(gu));var e=n-Vs;e>24?(n<1/0&&(gu=setTimeout(GT,n-yu.now()-qh)),mu&&(mu=clearInterval(mu))):(mu||(jh=yu.now(),mu=setInterval(UJ,WT)),pl=1,KT(GT))}}function YT(n,e,r){var i=new Wh;return e=e==null?0:+e,i.restart(o=>{i.stop(),n(o+e)},e,r),i}var VJ=uu("start","end","cancel","interrupt"),jJ=[],JT=0,XT=1,Qb=2,Kh=3,ZT=4,e0=5,Gh=6;function Yh(n,e,r,i,o,s){var a=n.__transition;if(!a)n.__transition={};else if(r in a)return;qJ(n,r,{name:e,index:i,group:o,on:VJ,tween:jJ,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:JT})}function t0(n,e){var r=Ur(n,e);if(r.state>JT)throw new Error("too late; already scheduled");return r}function vi(n,e){var r=Ur(n,e);if(r.state>Kh)throw new Error("too late; already running");return r}function Ur(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function qJ(n,e,r){var i=n.__transition,o;i[e]=r,r.timer=Xb(s,0,r.time);function s(u){r.state=XT,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var f,d,h,p;if(r.state!==XT)return c();for(f in i)if(p=i[f],p.name===r.name){if(p.state===Kh)return YT(a);p.state===ZT?(p.state=Gh,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete i[f]):+f<e&&(p.state=Gh,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete i[f])}if(YT(function(){r.state===Kh&&(r.state=ZT,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=Qb,r.on.call("start",n,n.__data__,r.index,r.group),r.state===Qb){for(r.state=Kh,o=new Array(h=r.tween.length),f=0,d=-1;f<h;++f)(p=r.tween[f].value.call(n,n.__data__,r.index,r.group))&&(o[++d]=p);o.length=d+1}}function l(u){for(var f=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=e0,1),d=-1,h=o.length;++d<h;)o[d].call(n,f);r.state===e0&&(r.on.call("end",n,n.__data__,r.index,r.group),c())}function c(){r.state=Gh,r.timer.stop(),delete i[e];for(var u in i)return;delete n.__transition}}function Jh(n,e){var r=n.__transition,i,o,s=!0,a;if(!!r){e=e==null?null:e+"";for(a in r){if((i=r[a]).name!==e){s=!1;continue}o=i.state>Qb&&i.state<e0,i.state=Gh,i.timer.stop(),i.on.call(o?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[a]}s&&delete n.__transition}}function WJ(n){return this.each(function(){Jh(this,n)})}function KJ(n,e){var r,i;return function(){var o=vi(this,n),s=o.tween;if(s!==r){i=r=s;for(var a=0,l=i.length;a<l;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}o.tween=i}}function GJ(n,e,r){var i,o;if(typeof r!="function")throw new Error;return function(){var s=vi(this,n),a=s.tween;if(a!==i){o=(i=a).slice();for(var l={name:e,value:r},c=0,u=o.length;c<u;++c)if(o[c].name===e){o[c]=l;break}c===u&&o.push(l)}s.tween=o}}function YJ(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=Ur(this.node(),r).tween,o=0,s=i.length,a;o<s;++o)if((a=i[o]).name===n)return a.value;return null}return this.each((e==null?KJ:GJ)(r,n,e))}function n0(n,e,r){var i=n._id;return n.each(function(){var o=vi(this,i);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return Ur(o,i).value[e]}}function QT(n,e){var r;return(typeof e=="number"?zr:e instanceof Hs?Uh:(r=Hs(e))?(e=r,Uh):UT)(n,e)}function JJ(n){return function(){this.removeAttribute(n)}}function XJ(n){return function(){this.removeAttributeNS(n.space,n.local)}}function ZJ(n,e,r){var i,o=r+"",s;return function(){var a=this.getAttribute(n);return a===o?null:a===i?s:s=e(i=a,r)}}function QJ(n,e,r){var i,o=r+"",s;return function(){var a=this.getAttributeNS(n.space,n.local);return a===o?null:a===i?s:s=e(i=a,r)}}function eX(n,e,r){var i,o,s;return function(){var a,l=r(this),c;return l==null?void this.removeAttribute(n):(a=this.getAttribute(n),c=l+"",a===c?null:a===i&&c===o?s:(o=c,s=e(i=a,l)))}}function tX(n,e,r){var i,o,s;return function(){var a,l=r(this),c;return l==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),c=l+"",a===c?null:a===i&&c===o?s:(o=c,s=e(i=a,l)))}}function nX(n,e){var r=Ph(n),i=r==="transform"?IJ:QT;return this.attrTween(n,typeof e=="function"?(r.local?tX:eX)(r,i,n0(this,"attr."+n,e)):e==null?(r.local?XJ:JJ)(r):(r.local?QJ:ZJ)(r,i,e))}function rX(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function iX(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function oX(n,e){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&iX(n,s)),r}return o._value=e,o}function sX(n,e){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&rX(n,s)),r}return o._value=e,o}function aX(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=Ph(n);return this.tween(r,(i.local?oX:sX)(i,e))}function lX(n,e){return function(){t0(this,n).delay=+e.apply(this,arguments)}}function cX(n,e){return e=+e,function(){t0(this,n).delay=e}}function uX(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?lX:cX)(e,n)):Ur(this.node(),e).delay}function fX(n,e){return function(){vi(this,n).duration=+e.apply(this,arguments)}}function dX(n,e){return e=+e,function(){vi(this,n).duration=e}}function hX(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?fX:dX)(e,n)):Ur(this.node(),e).duration}function pX(n,e){if(typeof e!="function")throw new Error;return function(){vi(this,n).ease=e}}function gX(n){var e=this._id;return arguments.length?this.each(pX(e,n)):Ur(this.node(),e).ease}function mX(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;vi(this,n).ease=r}}function vX(n){if(typeof n!="function")throw new Error;return this.each(mX(this._id,n))}function yX(n){typeof n!="function"&&(n=yT(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var s=e[o],a=s.length,l=i[o]=[],c,u=0;u<a;++u)(c=s[u])&&n.call(c,c.__data__,u,s)&&l.push(c);return new ji(i,this._parents,this._name,this._id)}function bX(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=e[l],u=r[l],f=c.length,d=a[l]=new Array(f),h,p=0;p<f;++p)(h=c[p]||u[p])&&(d[p]=h);for(;l<i;++l)a[l]=e[l];return new ji(a,this._parents,this._name,this._id)}function _X(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function wX(n,e,r){var i,o,s=_X(e)?t0:vi;return function(){var a=s(this,n),l=a.on;l!==i&&(o=(i=l).copy()).on(e,r),a.on=o}}function EX(n,e){var r=this._id;return arguments.length<2?Ur(this.node(),r).on.on(n):this.each(wX(r,n,e))}function SX(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function kX(){return this.on("end.remove",SX(this._id))}function CX(n){var e=this._name,r=this._id;typeof n!="function"&&(n=Bb(n));for(var i=this._groups,o=i.length,s=new Array(o),a=0;a<o;++a)for(var l=i[a],c=l.length,u=s[a]=new Array(c),f,d,h=0;h<c;++h)(f=l[h])&&(d=n.call(f,f.__data__,h,l))&&("__data__"in f&&(d.__data__=f.__data__),u[h]=d,Yh(u[h],e,r,h,u,Ur(f,r)));return new ji(s,this._parents,e,r)}function xX(n){var e=this._name,r=this._id;typeof n!="function"&&(n=vT(n));for(var i=this._groups,o=i.length,s=[],a=[],l=0;l<o;++l)for(var c=i[l],u=c.length,f,d=0;d<u;++d)if(f=c[d]){for(var h=n.call(f,f.__data__,d,c),p,g=Ur(f,r),v=0,w=h.length;v<w;++v)(p=h[v])&&Yh(p,e,r,v,h,g);s.push(h),a.push(f)}return new ji(s,a,e,r)}var AX=cu.prototype.constructor;function OX(){return new AX(this._groups,this._parents)}function DX(n,e){var r,i,o;return function(){var s=fl(this,n),a=(this.style.removeProperty(n),fl(this,n));return s===a?null:s===r&&a===i?o:o=e(r=s,i=a)}}function eM(n){return function(){this.style.removeProperty(n)}}function TX(n,e,r){var i,o=r+"",s;return function(){var a=fl(this,n);return a===o?null:a===i?s:s=e(i=a,r)}}function MX(n,e,r){var i,o,s;return function(){var a=fl(this,n),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(n),fl(this,n))),a===c?null:a===i&&c===o?s:(o=c,s=e(i=a,l))}}function NX(n,e){var r,i,o,s="style."+e,a="end."+s,l;return function(){var c=vi(this,n),u=c.on,f=c.value[s]==null?l||(l=eM(e)):void 0;(u!==r||o!==f)&&(i=(r=u).copy()).on(a,o=f),c.on=i}}function RX(n,e,r){var i=(n+="")==="transform"?RJ:QT;return e==null?this.styleTween(n,DX(n,i)).on("end.style."+n,eM(n)):typeof e=="function"?this.styleTween(n,MX(n,i,n0(this,"style."+n,e))).each(NX(this._id,n)):this.styleTween(n,TX(n,i,e),r).on("end.style."+n,null)}function IX(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function PX(n,e,r){var i,o;function s(){var a=e.apply(this,arguments);return a!==o&&(i=(o=a)&&IX(n,a,r)),i}return s._value=e,s}function LX(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,PX(n,e,r==null?"":r))}function BX(n){return function(){this.textContent=n}}function FX(n){return function(){var e=n(this);this.textContent=e==null?"":e}}function $X(n){return this.tween("text",typeof n=="function"?FX(n0(this,"text",n)):BX(n==null?"":n+""))}function zX(n){return function(e){this.textContent=n.call(this,e)}}function UX(n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&zX(o)),e}return i._value=n,i}function HX(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,UX(n))}function VX(){for(var n=this._name,e=this._id,r=tM(),i=this._groups,o=i.length,s=0;s<o;++s)for(var a=i[s],l=a.length,c,u=0;u<l;++u)if(c=a[u]){var f=Ur(c,e);Yh(c,n,r,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ji(i,this._parents,n,r)}function jX(){var n,e,r=this,i=r._id,o=r.size();return new Promise(function(s,a){var l={value:a},c={value:function(){--o==0&&s()}};r.each(function(){var u=vi(this,i),f=u.on;f!==n&&(e=(n=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),u.on=e}),o===0&&s()})}var qX=0;function ji(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function tM(){return++qX}var qi=cu.prototype;ji.prototype={constructor:ji,select:CX,selectAll:xX,selectChild:qi.selectChild,selectChildren:qi.selectChildren,filter:yX,merge:bX,selection:OX,transition:VX,call:qi.call,nodes:qi.nodes,node:qi.node,size:qi.size,empty:qi.empty,each:qi.each,on:EX,attr:nX,attrTween:aX,style:RX,styleTween:LX,text:$X,textTween:HX,remove:kX,tween:YJ,delay:uX,duration:hX,ease:gX,easeVarying:vX,end:jX,[Symbol.iterator]:qi[Symbol.iterator]};function WX(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var KX={time:null,delay:0,duration:250,ease:WX};function GX(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function YX(n){var e,r;n instanceof ji?(e=n._id,n=n._name):(e=tM(),(r=KX).time=Jb(),n=n==null?null:n+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var a=i[s],l=a.length,c,u=0;u<l;++u)(c=a[u])&&Yh(c,n,e,u,a,r||GX(c,e));return new ji(i,this._parents,n,e)}cu.prototype.interrupt=WJ;cu.prototype.transition=YX;var Xh=n=>()=>n;function JX(n,{sourceEvent:e,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Wi(n,e,r){this.k=n,this.x=e,this.y=r}Wi.prototype={constructor:Wi,scale:function(n){return n===1?this:new Wi(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Wi(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var r0=new Wi(1,0,0);yi.prototype=Wi.prototype;function yi(n){for(;!n.__zoom;)if(!(n=n.parentNode))return r0;return n.__zoom}function i0(n){n.stopImmediatePropagation()}function bu(n){n.preventDefault(),n.stopImmediatePropagation()}function XX(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function ZX(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function nM(){return this.__zoom||r0}function QX(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function eZ(){return navigator.maxTouchPoints||"ontouchstart"in this}function tZ(n,e,r){var i=n.invertX(e[0][0])-r[0][0],o=n.invertX(e[1][0])-r[1][0],s=n.invertY(e[0][1])-r[0][1],a=n.invertY(e[1][1])-r[1][1];return n.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function nZ(){var n=XX,e=ZX,r=tZ,i=QX,o=eZ,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,c=FJ,u=uu("start","zoom","end"),f,d,h,p=500,g=150,v=0,w=10;function b(V){V.property("__zoom",nM).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",I).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(V,G,B,W){var X=V.selection?V.selection():V;X.property("__zoom",nM),V!==X?k(V,G,B,W):X.interrupt().each(function(){D(this,arguments).event(W).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},b.scaleBy=function(V,G,B,W){b.scaleTo(V,function(){var X=this.__zoom.k,J=typeof G=="function"?G.apply(this,arguments):G;return X*J},B,W)},b.scaleTo=function(V,G,B,W){b.transform(V,function(){var X=e.apply(this,arguments),J=this.__zoom,ee=B==null?y(X):typeof B=="function"?B.apply(this,arguments):B,de=J.invert(ee),ge=typeof G=="function"?G.apply(this,arguments):G;return r(E(S(J,ge),ee,de),X,a)},B,W)},b.translateBy=function(V,G,B,W){b.transform(V,function(){return r(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof B=="function"?B.apply(this,arguments):B),e.apply(this,arguments),a)},null,W)},b.translateTo=function(V,G,B,W,X){b.transform(V,function(){var J=e.apply(this,arguments),ee=this.__zoom,de=W==null?y(J):typeof W=="function"?W.apply(this,arguments):W;return r(r0.translate(de[0],de[1]).scale(ee.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof B=="function"?-B.apply(this,arguments):-B),J,a)},W,X)};function S(V,G){return G=Math.max(s[0],Math.min(s[1],G)),G===V.k?V:new Wi(G,V.x,V.y)}function E(V,G,B){var W=G[0]-B[0]*V.k,X=G[1]-B[1]*V.k;return W===V.x&&X===V.y?V:new Wi(V.k,W,X)}function y(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function k(V,G,B,W){V.on("start.zoom",function(){D(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(W).end()}).tween("zoom",function(){var X=this,J=arguments,ee=D(X,J).event(W),de=e.apply(X,J),ge=B==null?y(de):typeof B=="function"?B.apply(X,J):B,Z=Math.max(de[1][0]-de[0][0],de[1][1]-de[0][1]),te=X.__zoom,Y=typeof G=="function"?G.apply(X,J):G,oe=c(te.invert(ge).concat(Z/te.k),Y.invert(ge).concat(Z/Y.k));return function(re){if(re===1)re=Y;else{var ue=oe(re),fe=Z/ue[2];re=new Wi(fe,ge[0]-ue[0]*fe,ge[1]-ue[1]*fe)}ee.zoom(null,re)}})}function D(V,G,B){return!B&&V.__zooming||new T(V,G)}function T(V,G){this.that=V,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(V,G),this.taps=0}T.prototype={event:function(V){return V&&(this.sourceEvent=V),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,G){return this.mouse&&V!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&V!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&V!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){var G=$r(this.that).datum();u.call(V,this.that,new JX(V,{sourceEvent:this.sourceEvent,target:b,type:V,transform:this.that.__zoom,dispatch:u}),G)}};function N(V,...G){if(!n.apply(this,arguments))return;var B=D(this,G).event(V),W=this.__zoom,X=Math.max(s[0],Math.min(s[1],W.k*Math.pow(2,i.apply(this,arguments)))),J=Vi(V);if(B.wheel)(B.mouse[0][0]!==J[0]||B.mouse[0][1]!==J[1])&&(B.mouse[1]=W.invert(B.mouse[0]=J)),clearTimeout(B.wheel);else{if(W.k===X)return;B.mouse=[J,W.invert(J)],Jh(this),B.start()}bu(V),B.wheel=setTimeout(ee,g),B.zoom("mouse",r(E(S(W,X),B.mouse[0],B.mouse[1]),B.extent,a));function ee(){B.wheel=null,B.end()}}function $(V,...G){if(h||!n.apply(this,arguments))return;var B=V.currentTarget,W=D(this,G,!0).event(V),X=$r(V.view).on("mousemove.zoom",ge,!0).on("mouseup.zoom",Z,!0),J=Vi(V,B),ee=V.clientX,de=V.clientY;DT(V.view),i0(V),W.mouse=[J,this.__zoom.invert(J)],Jh(this),W.start();function ge(te){if(bu(te),!W.moved){var Y=te.clientX-ee,oe=te.clientY-de;W.moved=Y*Y+oe*oe>v}W.event(te).zoom("mouse",r(E(W.that.__zoom,W.mouse[0]=Vi(te,B),W.mouse[1]),W.extent,a))}function Z(te){X.on("mousemove.zoom mouseup.zoom",null),TT(te.view,W.moved),bu(te),W.event(te).end()}}function I(V,...G){if(!!n.apply(this,arguments)){var B=this.__zoom,W=Vi(V.changedTouches?V.changedTouches[0]:V,this),X=B.invert(W),J=B.k*(V.shiftKey?.5:2),ee=r(E(S(B,J),W,X),e.apply(this,G),a);bu(V),l>0?$r(this).transition().duration(l).call(k,ee,W,V):$r(this).call(b.transform,ee,W,V)}}function L(V,...G){if(!!n.apply(this,arguments)){var B=V.touches,W=B.length,X=D(this,G,V.changedTouches.length===W).event(V),J,ee,de,ge;for(i0(V),ee=0;ee<W;++ee)de=B[ee],ge=Vi(de,this),ge=[ge,this.__zoom.invert(ge),de.identifier],X.touch0?!X.touch1&&X.touch0[2]!==ge[2]&&(X.touch1=ge,X.taps=0):(X.touch0=ge,J=!0,X.taps=1+!!f);f&&(f=clearTimeout(f)),J&&(X.taps<2&&(d=ge[0],f=setTimeout(function(){f=null},p)),Jh(this),X.start())}}function j(V,...G){if(!!this.__zooming){var B=D(this,G).event(V),W=V.changedTouches,X=W.length,J,ee,de,ge;for(bu(V),J=0;J<X;++J)ee=W[J],de=Vi(ee,this),B.touch0&&B.touch0[2]===ee.identifier?B.touch0[0]=de:B.touch1&&B.touch1[2]===ee.identifier&&(B.touch1[0]=de);if(ee=B.that.__zoom,B.touch1){var Z=B.touch0[0],te=B.touch0[1],Y=B.touch1[0],oe=B.touch1[1],re=(re=Y[0]-Z[0])*re+(re=Y[1]-Z[1])*re,ue=(ue=oe[0]-te[0])*ue+(ue=oe[1]-te[1])*ue;ee=S(ee,Math.sqrt(re/ue)),de=[(Z[0]+Y[0])/2,(Z[1]+Y[1])/2],ge=[(te[0]+oe[0])/2,(te[1]+oe[1])/2]}else if(B.touch0)de=B.touch0[0],ge=B.touch0[1];else return;B.zoom("touch",r(E(ee,de,ge),B.extent,a))}}function K(V,...G){if(!!this.__zooming){var B=D(this,G).event(V),W=V.changedTouches,X=W.length,J,ee;for(i0(V),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),J=0;J<X;++J)ee=W[J],B.touch0&&B.touch0[2]===ee.identifier?delete B.touch0:B.touch1&&B.touch1[2]===ee.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(ee=Vi(ee,this),Math.hypot(d[0]-ee[0],d[1]-ee[1])<w)){var de=$r(this).on("dblclick.zoom");de&&de.apply(this,arguments)}}}return b.wheelDelta=function(V){return arguments.length?(i=typeof V=="function"?V:Xh(+V),b):i},b.filter=function(V){return arguments.length?(n=typeof V=="function"?V:Xh(!!V),b):n},b.touchable=function(V){return arguments.length?(o=typeof V=="function"?V:Xh(!!V),b):o},b.extent=function(V){return arguments.length?(e=typeof V=="function"?V:Xh([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),b):e},b.scaleExtent=function(V){return arguments.length?(s[0]=+V[0],s[1]=+V[1],b):[s[0],s[1]]},b.translateExtent=function(V){return arguments.length?(a[0][0]=+V[0][0],a[1][0]=+V[1][0],a[0][1]=+V[0][1],a[1][1]=+V[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(V){return arguments.length?(r=V,b):r},b.duration=function(V){return arguments.length?(l=+V,b):l},b.interpolate=function(V){return arguments.length?(c=V,b):c},b.on=function(){var V=u.on.apply(u,arguments);return V===u?b:V},b.clickDistance=function(V){return arguments.length?(v=(V=+V)*V,b):Math.sqrt(v)},b.tapDistance=function(V){return arguments.length?(w=+V,b):w},b}function o0(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function rM(n){let e=n,r=n,i=n;n.length!==2&&(e=(l,c)=>n(l)-c,r=o0,i=(l,c)=>o0(n(l),c));function o(l,c,u=0,f=l.length){if(u<f){if(r(c,c)!==0)return f;do{const d=u+f>>>1;i(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(r(c,c)!==0)return f;do{const d=u+f>>>1;i(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function a(l,c,u=0,f=l.length){const d=o(l,c,u,f-1);return d>u&&e(l[d-1],c)>-e(l[d],c)?d-1:d}return{left:o,center:a,right:s}}function rZ(n){return n===null?NaN:+n}const iZ=rM(o0),oZ=iZ.right;rM(rZ).center;var sZ=oZ;class iM extends Map{constructor(e,r=cZ){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(oM(this,e))}has(e){return super.has(oM(this,e))}set(e,r){return super.set(aZ(this,e),r)}delete(e){return super.delete(lZ(this,e))}}function oM({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function aZ({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function lZ({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function cZ(n){return n!==null&&typeof n=="object"?n.valueOf():n}var s0=Math.sqrt(50),a0=Math.sqrt(10),l0=Math.sqrt(2);function uZ(n,e,r){var i,o=-1,s,a,l;if(e=+e,n=+n,r=+r,n===e&&r>0)return[n];if((i=e<n)&&(s=n,n=e,e=s),(l=sM(n,e,r))===0||!isFinite(l))return[];if(l>0){let c=Math.round(n/l),u=Math.round(e/l);for(c*l<n&&++c,u*l>e&&--u,a=new Array(s=u-c+1);++o<s;)a[o]=(c+o)*l}else{l=-l;let c=Math.round(n*l),u=Math.round(e*l);for(c/l<n&&++c,u/l>e&&--u,a=new Array(s=u-c+1);++o<s;)a[o]=(c+o)/l}return i&&a.reverse(),a}function sM(n,e,r){var i=(e-n)/Math.max(0,r),o=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,o);return o>=0?(s>=s0?10:s>=a0?5:s>=l0?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=s0?10:s>=a0?5:s>=l0?2:1)}function fZ(n,e,r){var i=Math.abs(e-n)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/o;return s>=s0?o*=10:s>=a0?o*=5:s>=l0&&(o*=2),e<n?-o:o}function aM(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function lM(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}var cM="Expected a function",uM=0/0,dZ="[object Symbol]",hZ=/^\s+|\s+$/g,pZ=/^[-+]0x[0-9a-f]+$/i,gZ=/^0b[01]+$/i,mZ=/^0o[0-7]+$/i,vZ=parseInt,yZ=typeof On=="object"&&On&&On.Object===Object&&On,bZ=typeof self=="object"&&self&&self.Object===Object&&self,_Z=yZ||bZ||Function("return this")(),wZ=Object.prototype,EZ=wZ.toString,SZ=Math.max,kZ=Math.min,c0=function(){return _Z.Date.now()};function CZ(n,e,r){var i,o,s,a,l,c,u=0,f=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(cM);e=fM(e)||0,Zh(r)&&(f=!!r.leading,d="maxWait"in r,s=d?SZ(fM(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h);function p(D){var T=i,N=o;return i=o=void 0,u=D,a=n.apply(N,T),a}function g(D){return u=D,l=setTimeout(b,e),f?p(D):a}function v(D){var T=D-c,N=D-u,$=e-T;return d?kZ($,s-N):$}function w(D){var T=D-c,N=D-u;return c===void 0||T>=e||T<0||d&&N>=s}function b(){var D=c0();if(w(D))return S(D);l=setTimeout(b,v(D))}function S(D){return l=void 0,h&&i?p(D):(i=o=void 0,a)}function E(){l!==void 0&&clearTimeout(l),u=0,i=c=o=l=void 0}function y(){return l===void 0?a:S(c0())}function k(){var D=c0(),T=w(D);if(i=arguments,o=this,c=D,T){if(l===void 0)return g(c);if(d)return l=setTimeout(b,e),p(c)}return l===void 0&&(l=setTimeout(b,e)),a}return k.cancel=E,k.flush=y,k}function xZ(n,e,r){var i=!0,o=!0;if(typeof n!="function")throw new TypeError(cM);return Zh(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),CZ(n,e,{leading:i,maxWait:e,trailing:o})}function Zh(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function AZ(n){return!!n&&typeof n=="object"}function OZ(n){return typeof n=="symbol"||AZ(n)&&EZ.call(n)==dZ}function fM(n){if(typeof n=="number")return n;if(OZ(n))return uM;if(Zh(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Zh(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(hZ,"");var r=gZ.test(n);return r||mZ.test(n)?vZ(n.slice(2),r?2:8):pZ.test(n)?uM:+n}var DZ=xZ,_u={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}},Back:{In:function(n){var e=1.70158;return n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},InOut:function(n){var e=1.70158*1.525;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}},Bounce:{In:function(n){return 1-_u.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?_u.Bounce.In(n*2)*.5:_u.Bounce.Out(n*2-1)*.5+.5}}},wu;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?wu=function(){var n=process.hrtime();return n[0]*1e3+n[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?wu=self.performance.now.bind(self.performance):Date.now!==void 0?wu=Date.now:wu=function(){return new Date().getTime()};var js=wu,dM=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,r){e===void 0&&(e=js()),r===void 0&&(r=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var s=this._tweens[i[o]],a=!r;s&&s.update(e,a)===!1&&!r&&delete this._tweens[i[o]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),gl={Linear:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),s=gl.Utils.Linear;return e<0?s(n[0],n[1],i):e>1?s(n[r],n[r-1],r-i):s(n[o],n[o+1>r?r:o+1],i-o)},Bezier:function(n,e){for(var r=0,i=n.length-1,o=Math.pow,s=gl.Utils.Bernstein,a=0;a<=i;a++)r+=o(1-e,i-a)*o(e,a)*n[a]*s(i,a);return r},CatmullRom:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),s=gl.Utils.CatmullRom;return n[0]===n[r]?(e<0&&(o=Math.floor(i=r*(1+e))),s(n[(o-1+r)%r],n[o],n[(o+1)%r],n[(o+2)%r],i-o)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-i)-n[0]):e>1?n[r]-(s(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):s(n[o?o-1:0],n[o],n[r<o+1?r:o+1],n[r<o+2?r:o+2],i-o)},Utils:{Linear:function(n,e,r){return(e-n)*r+n},Bernstein:function(n,e){var r=gl.Utils.Factorial;return r(n)/r(e)/r(n-e)},Factorial:function(){var n=[1];return function(e){var r=1;if(n[e])return n[e];for(var i=e;i>1;i--)r*=i;return n[e]=r,r}}(),CatmullRom:function(n,e,r,i,o){var s=(r-n)*.5,a=(i-e)*.5,l=o*o,c=o*l;return(2*e-2*r+s+a)*c+(-3*e+3*r-2*s-a)*l+s*o+e}}},u0=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),hM=new dM,TZ=function(){function n(e,r){r===void 0&&(r=hM),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=_u.Linear.None,this._interpolationFunction=gl.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=u0.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.to=function(e,r){return this._valuesEnd=Object.create(e),r!==void 0&&(this._duration=r),this},n.prototype.duration=function(e){return this._duration=e,this},n.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?js()+parseFloat(e):e:js(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},n.prototype._setupProperties=function(e,r,i,o){for(var s in i){var a=e[s],l=Array.isArray(a),c=l?"array":typeof a,u=!l&&Array.isArray(i[s]);if(!(c==="undefined"||c==="function")){if(u){var f=i[s];if(f.length===0)continue;f=f.map(this._handleRelativeValue.bind(this,a)),i[s]=[a].concat(f)}if((c==="object"||l)&&a&&!u){r[s]=l?[]:{};for(var d in a)r[s][d]=a[d];o[s]=l?[]:{},this._setupProperties(a,r[s],i[s],o[s])}else typeof r[s]=="undefined"&&(r[s]=a),l||(r[s]*=1),u?o[s]=i[s].slice().reverse():o[s]=r[s]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return e===void 0&&(e=js()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},n.prototype.resume=function(e){return e===void 0&&(e=js()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return this._group=e,this},n.prototype.delay=function(e){return this._delayTime=e,this},n.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return this._yoyo=e,this},n.prototype.easing=function(e){return this._easingFunction=e,this},n.prototype.interpolation=function(e){return this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){if(e===void 0&&(e=js()),r===void 0&&(r=!0),this._isPaused)return!0;var i,o,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;r&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),o=(e-this._startTime)/this._duration,o=this._duration===0||o>1?1:o;var a=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),o===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var l=0,c=this._chainedTweens.length;l<c;l++)this._chainedTweens[l].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,o){for(var s in i)if(r[s]!==void 0){var a=r[s]||0,l=i[s],c=Array.isArray(e[s]),u=Array.isArray(l),f=!c&&u;f?e[s]=this._interpolationFunction(l,o):typeof l=="object"&&l?this._updateProperties(e[s],a,l,o):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(e[s]=a+(l-a)*o))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n}(),MZ="18.6.4",NZ=u0.nextId,bi=hM,RZ=bi.getAll.bind(bi),IZ=bi.removeAll.bind(bi),PZ=bi.add.bind(bi),LZ=bi.remove.bind(bi),BZ=bi.update.bind(bi),Eu={Easing:_u,Group:dM,Interpolation:gl,now:js,Sequence:u0,nextId:NZ,Tween:TZ,VERSION:MZ,getAll:RZ,removeAll:IZ,add:PZ,remove:LZ,update:BZ};function f0(n,e,r){var i,o,s,a,l;e==null&&(e=100);function c(){var f=Date.now()-a;f<e&&f>=0?i=setTimeout(c,e-f):(i=null,r||(l=n.apply(s,o),s=o=null))}var u=function(){s=this,o=arguments,a=Date.now();var f=r&&!i;return i||(i=setTimeout(c,e)),f&&(l=n.apply(s,o),s=o=null),l};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(l=n.apply(s,o),s=o=null,clearTimeout(i),i=null)},u}f0.debounce=f0;var FZ=f0;function $Z(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zZ(n,e){return UZ(n)||HZ(n,e)||VZ(n,e)||jZ()}function UZ(n){if(Array.isArray(n))return n}function HZ(n,e){var r=n&&(typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"]);if(r!=null){var i=[],o=!0,s=!1,a,l;try{for(r=r.call(n);!(o=(a=r.next()).done)&&(i.push(a.value),!(e&&i.length===e));o=!0);}catch(c){s=!0,l=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(s)throw l}}return i}}function VZ(n,e){if(!!n){if(typeof n=="string")return pM(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pM(n,e)}}function pM(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function jZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qZ=function n(e,r){var i=r.default,o=i===void 0?null:i,s=r.triggerUpdate,a=s===void 0?!0:s,l=r.onChange,c=l===void 0?function(u,f){}:l;$Z(this,n),this.name=e,this.defaultVal=o,this.triggerUpdate=a,this.onChange=c};function gM(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,o=i===void 0?{}:i,s=n.methods,a=s===void 0?{}:s,l=n.aliases,c=l===void 0?{}:l,u=n.init,f=u===void 0?function(){}:u,d=n.update,h=d===void 0?function(){}:d,p=Object.keys(o).map(function(g){return new qZ(g,o[g])});return function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=Object.assign({},r instanceof Function?r(g):r,{initialised:!1}),w={};function b(y){return S(y,g),E(),b}var S=function(k,D){f.call(b,k,v,D),v.initialised=!0},E=FZ(function(){!v.initialised||(h.call(b,v,w),w={})},1);return p.forEach(function(y){b[y.name]=k(y);function k(D){var T=D.name,N=D.triggerUpdate,$=N===void 0?!1:N,I=D.onChange,L=I===void 0?function(V,G){}:I,j=D.defaultVal,K=j===void 0?null:j;return function(V){var G=v[T];if(!arguments.length)return G;var B=V===void 0?K:V;return v[T]=B,L.call(b,B,v,G),!w.hasOwnProperty(T)&&(w[T]=G),$&&E(),b}}}),Object.keys(a).forEach(function(y){b[y]=function(){for(var k,D=arguments.length,T=new Array(D),N=0;N<D;N++)T[N]=arguments[N];return(k=a[y]).call.apply(k,[b,v].concat(T))}}),Object.entries(c).forEach(function(y){var k=zZ(y,2),D=k[0],T=k[1];return b[D]=b[T]}),b.resetProps=function(){return p.forEach(function(y){b[y.name](y.defaultVal)}),b},b.resetProps(),v._rerender=E,b}}var gt=function(n){return n instanceof Function?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}},mM={exports:{}};(function(n){(function(e){var r=/^\s+/,i=/\s+$/,o=0,s=e.round,a=e.min,l=e.max,c=e.random;function u(O,R){if(O=O||"",R=R||{},O instanceof u)return O;if(!(this instanceof u))return new u(O,R);var A=f(O);this._originalInput=O,this._r=A.r,this._g=A.g,this._b=A.b,this._a=A.a,this._roundA=s(100*this._a)/100,this._format=R.format||A.format,this._gradientType=R.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=A.ok,this._tc_id=o++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var O=this.toRgb();return(O.r*299+O.g*587+O.b*114)/1e3},getLuminance:function(){var O=this.toRgb(),R,A,P,F,q,M;return R=O.r/255,A=O.g/255,P=O.b/255,R<=.03928?F=R/12.92:F=e.pow((R+.055)/1.055,2.4),A<=.03928?q=A/12.92:q=e.pow((A+.055)/1.055,2.4),P<=.03928?M=P/12.92:M=e.pow((P+.055)/1.055,2.4),.2126*F+.7152*q+.0722*M},setAlpha:function(O){return this._a=J(O),this._roundA=s(100*this._a)/100,this},toHsv:function(){var O=g(this._r,this._g,this._b);return{h:O.h*360,s:O.s,v:O.v,a:this._a}},toHsvString:function(){var O=g(this._r,this._g,this._b),R=s(O.h*360),A=s(O.s*100),P=s(O.v*100);return this._a==1?"hsv("+R+", "+A+"%, "+P+"%)":"hsva("+R+", "+A+"%, "+P+"%, "+this._roundA+")"},toHsl:function(){var O=h(this._r,this._g,this._b);return{h:O.h*360,s:O.s,l:O.l,a:this._a}},toHslString:function(){var O=h(this._r,this._g,this._b),R=s(O.h*360),A=s(O.s*100),P=s(O.l*100);return this._a==1?"hsl("+R+", "+A+"%, "+P+"%)":"hsla("+R+", "+A+"%, "+P+"%, "+this._roundA+")"},toHex:function(O){return w(this._r,this._g,this._b,O)},toHexString:function(O){return"#"+this.toHex(O)},toHex8:function(O){return b(this._r,this._g,this._b,this._a,O)},toHex8String:function(O){return"#"+this.toHex8(O)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(ee(this._r,255)*100)+"%",g:s(ee(this._g,255)*100)+"%",b:s(ee(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+s(ee(this._r,255)*100)+"%, "+s(ee(this._g,255)*100)+"%, "+s(ee(this._b,255)*100)+"%)":"rgba("+s(ee(this._r,255)*100)+"%, "+s(ee(this._g,255)*100)+"%, "+s(ee(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:W[w(this._r,this._g,this._b,!0)]||!1},toFilter:function(O){var R="#"+S(this._r,this._g,this._b,this._a),A=R,P=this._gradientType?"GradientType = 1, ":"";if(O){var F=u(O);A="#"+S(F._r,F._g,F._b,F._a)}return"progid:DXImageTransform.Microsoft.gradient("+P+"startColorstr="+R+",endColorstr="+A+")"},toString:function(O){var R=!!O;O=O||this._format;var A=!1,P=this._a<1&&this._a>=0,F=!R&&P&&(O==="hex"||O==="hex6"||O==="hex3"||O==="hex4"||O==="hex8"||O==="name");return F?O==="name"&&this._a===0?this.toName():this.toRgbString():(O==="rgb"&&(A=this.toRgbString()),O==="prgb"&&(A=this.toPercentageRgbString()),(O==="hex"||O==="hex6")&&(A=this.toHexString()),O==="hex3"&&(A=this.toHexString(!0)),O==="hex4"&&(A=this.toHex8String(!0)),O==="hex8"&&(A=this.toHex8String()),O==="name"&&(A=this.toName()),O==="hsl"&&(A=this.toHslString()),O==="hsv"&&(A=this.toHsvString()),A||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(O,R){var A=O.apply(null,[this].concat([].slice.call(R)));return this._r=A._r,this._g=A._g,this._b=A._b,this.setAlpha(A._a),this},lighten:function(){return this._applyModification(D,arguments)},brighten:function(){return this._applyModification(T,arguments)},darken:function(){return this._applyModification(N,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification($,arguments)},_applyCombination:function(O,R){return O.apply(null,[this].concat([].slice.call(R)))},analogous:function(){return this._applyCombination(V,arguments)},complement:function(){return this._applyCombination(I,arguments)},monochromatic:function(){return this._applyCombination(G,arguments)},splitcomplement:function(){return this._applyCombination(K,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},u.fromRatio=function(O,R){if(typeof O=="object"){var A={};for(var P in O)O.hasOwnProperty(P)&&(P==="a"?A[P]=O[P]:A[P]=oe(O[P]));O=A}return u(O,R)};function f(O){var R={r:0,g:0,b:0},A=1,P=null,F=null,q=null,M=!1,m=!1;return typeof O=="string"&&(O=Ce(O)),typeof O=="object"&&(ke(O.r)&&ke(O.g)&&ke(O.b)?(R=d(O.r,O.g,O.b),M=!0,m=String(O.r).substr(-1)==="%"?"prgb":"rgb"):ke(O.h)&&ke(O.s)&&ke(O.v)?(P=oe(O.s),F=oe(O.v),R=v(O.h,P,F),M=!0,m="hsv"):ke(O.h)&&ke(O.s)&&ke(O.l)&&(P=oe(O.s),q=oe(O.l),R=p(O.h,P,q),M=!0,m="hsl"),O.hasOwnProperty("a")&&(A=O.a)),A=J(A),{ok:M,format:O.format||m,r:a(255,l(R.r,0)),g:a(255,l(R.g,0)),b:a(255,l(R.b,0)),a:A}}function d(O,R,A){return{r:ee(O,255)*255,g:ee(R,255)*255,b:ee(A,255)*255}}function h(O,R,A){O=ee(O,255),R=ee(R,255),A=ee(A,255);var P=l(O,R,A),F=a(O,R,A),q,M,m=(P+F)/2;if(P==F)q=M=0;else{var C=P-F;switch(M=m>.5?C/(2-P-F):C/(P+F),P){case O:q=(R-A)/C+(R<A?6:0);break;case R:q=(A-O)/C+2;break;case A:q=(O-R)/C+4;break}q/=6}return{h:q,s:M,l:m}}function p(O,R,A){var P,F,q;O=ee(O,360),R=ee(R,100),A=ee(A,100);function M(x,U,H){return H<0&&(H+=1),H>1&&(H-=1),H<1/6?x+(U-x)*6*H:H<1/2?U:H<2/3?x+(U-x)*(2/3-H)*6:x}if(R===0)P=F=q=A;else{var m=A<.5?A*(1+R):A+R-A*R,C=2*A-m;P=M(C,m,O+1/3),F=M(C,m,O),q=M(C,m,O-1/3)}return{r:P*255,g:F*255,b:q*255}}function g(O,R,A){O=ee(O,255),R=ee(R,255),A=ee(A,255);var P=l(O,R,A),F=a(O,R,A),q,M,m=P,C=P-F;if(M=P===0?0:C/P,P==F)q=0;else{switch(P){case O:q=(R-A)/C+(R<A?6:0);break;case R:q=(A-O)/C+2;break;case A:q=(O-R)/C+4;break}q/=6}return{h:q,s:M,v:m}}function v(O,R,A){O=ee(O,360)*6,R=ee(R,100),A=ee(A,100);var P=e.floor(O),F=O-P,q=A*(1-R),M=A*(1-F*R),m=A*(1-(1-F)*R),C=P%6,x=[A,M,q,q,m,A][C],U=[m,A,A,M,q,q][C],H=[q,q,m,A,A,M][C];return{r:x*255,g:U*255,b:H*255}}function w(O,R,A,P){var F=[Y(s(O).toString(16)),Y(s(R).toString(16)),Y(s(A).toString(16))];return P&&F[0].charAt(0)==F[0].charAt(1)&&F[1].charAt(0)==F[1].charAt(1)&&F[2].charAt(0)==F[2].charAt(1)?F[0].charAt(0)+F[1].charAt(0)+F[2].charAt(0):F.join("")}function b(O,R,A,P,F){var q=[Y(s(O).toString(16)),Y(s(R).toString(16)),Y(s(A).toString(16)),Y(re(P))];return F&&q[0].charAt(0)==q[0].charAt(1)&&q[1].charAt(0)==q[1].charAt(1)&&q[2].charAt(0)==q[2].charAt(1)&&q[3].charAt(0)==q[3].charAt(1)?q[0].charAt(0)+q[1].charAt(0)+q[2].charAt(0)+q[3].charAt(0):q.join("")}function S(O,R,A,P){var F=[Y(re(P)),Y(s(O).toString(16)),Y(s(R).toString(16)),Y(s(A).toString(16))];return F.join("")}u.equals=function(O,R){return!O||!R?!1:u(O).toRgbString()==u(R).toRgbString()},u.random=function(){return u.fromRatio({r:c(),g:c(),b:c()})};function E(O,R){R=R===0?0:R||10;var A=u(O).toHsl();return A.s-=R/100,A.s=de(A.s),u(A)}function y(O,R){R=R===0?0:R||10;var A=u(O).toHsl();return A.s+=R/100,A.s=de(A.s),u(A)}function k(O){return u(O).desaturate(100)}function D(O,R){R=R===0?0:R||10;var A=u(O).toHsl();return A.l+=R/100,A.l=de(A.l),u(A)}function T(O,R){R=R===0?0:R||10;var A=u(O).toRgb();return A.r=l(0,a(255,A.r-s(255*-(R/100)))),A.g=l(0,a(255,A.g-s(255*-(R/100)))),A.b=l(0,a(255,A.b-s(255*-(R/100)))),u(A)}function N(O,R){R=R===0?0:R||10;var A=u(O).toHsl();return A.l-=R/100,A.l=de(A.l),u(A)}function $(O,R){var A=u(O).toHsl(),P=(A.h+R)%360;return A.h=P<0?360+P:P,u(A)}function I(O){var R=u(O).toHsl();return R.h=(R.h+180)%360,u(R)}function L(O){var R=u(O).toHsl(),A=R.h;return[u(O),u({h:(A+120)%360,s:R.s,l:R.l}),u({h:(A+240)%360,s:R.s,l:R.l})]}function j(O){var R=u(O).toHsl(),A=R.h;return[u(O),u({h:(A+90)%360,s:R.s,l:R.l}),u({h:(A+180)%360,s:R.s,l:R.l}),u({h:(A+270)%360,s:R.s,l:R.l})]}function K(O){var R=u(O).toHsl(),A=R.h;return[u(O),u({h:(A+72)%360,s:R.s,l:R.l}),u({h:(A+216)%360,s:R.s,l:R.l})]}function V(O,R,A){R=R||6,A=A||30;var P=u(O).toHsl(),F=360/A,q=[u(O)];for(P.h=(P.h-(F*R>>1)+720)%360;--R;)P.h=(P.h+F)%360,q.push(u(P));return q}function G(O,R){R=R||6;for(var A=u(O).toHsv(),P=A.h,F=A.s,q=A.v,M=[],m=1/R;R--;)M.push(u({h:P,s:F,v:q})),q=(q+m)%1;return M}u.mix=function(O,R,A){A=A===0?0:A||50;var P=u(O).toRgb(),F=u(R).toRgb(),q=A/100,M={r:(F.r-P.r)*q+P.r,g:(F.g-P.g)*q+P.g,b:(F.b-P.b)*q+P.b,a:(F.a-P.a)*q+P.a};return u(M)},u.readability=function(O,R){var A=u(O),P=u(R);return(e.max(A.getLuminance(),P.getLuminance())+.05)/(e.min(A.getLuminance(),P.getLuminance())+.05)},u.isReadable=function(O,R,A){var P=u.readability(O,R),F,q;switch(q=!1,F=Se(A),F.level+F.size){case"AAsmall":case"AAAlarge":q=P>=4.5;break;case"AAlarge":q=P>=3;break;case"AAAsmall":q=P>=7;break}return q},u.mostReadable=function(O,R,A){var P=null,F=0,q,M,m,C;A=A||{},M=A.includeFallbackColors,m=A.level,C=A.size;for(var x=0;x<R.length;x++)q=u.readability(O,R[x]),q>F&&(F=q,P=u(R[x]));return u.isReadable(O,P,{level:m,size:C})||!M?P:(A.includeFallbackColors=!1,u.mostReadable(O,["#fff","#000"],A))};var B=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=u.hexNames=X(B);function X(O){var R={};for(var A in O)O.hasOwnProperty(A)&&(R[O[A]]=A);return R}function J(O){return O=parseFloat(O),(isNaN(O)||O<0||O>1)&&(O=1),O}function ee(O,R){Z(O)&&(O="100%");var A=te(O);return O=a(R,l(0,parseFloat(O))),A&&(O=parseInt(O*R,10)/100),e.abs(O-R)<1e-6?1:O%R/parseFloat(R)}function de(O){return a(1,l(0,O))}function ge(O){return parseInt(O,16)}function Z(O){return typeof O=="string"&&O.indexOf(".")!=-1&&parseFloat(O)===1}function te(O){return typeof O=="string"&&O.indexOf("%")!=-1}function Y(O){return O.length==1?"0"+O:""+O}function oe(O){return O<=1&&(O=O*100+"%"),O}function re(O){return e.round(parseFloat(O)*255).toString(16)}function ue(O){return ge(O)/255}var fe=function(){var O="[-\\+]?\\d+%?",R="[-\\+]?\\d*\\.\\d+%?",A="(?:"+R+")|(?:"+O+")",P="[\\s|\\(]+("+A+")[,|\\s]+("+A+")[,|\\s]+("+A+")\\s*\\)?",F="[\\s|\\(]+("+A+")[,|\\s]+("+A+")[,|\\s]+("+A+")[,|\\s]+("+A+")\\s*\\)?";return{CSS_UNIT:new RegExp(A),rgb:new RegExp("rgb"+P),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+P),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+P),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ke(O){return!!fe.CSS_UNIT.exec(O)}function Ce(O){O=O.replace(r,"").replace(i,"").toLowerCase();var R=!1;if(B[O])O=B[O],R=!0;else if(O=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var A;return(A=fe.rgb.exec(O))?{r:A[1],g:A[2],b:A[3]}:(A=fe.rgba.exec(O))?{r:A[1],g:A[2],b:A[3],a:A[4]}:(A=fe.hsl.exec(O))?{h:A[1],s:A[2],l:A[3]}:(A=fe.hsla.exec(O))?{h:A[1],s:A[2],l:A[3],a:A[4]}:(A=fe.hsv.exec(O))?{h:A[1],s:A[2],v:A[3]}:(A=fe.hsva.exec(O))?{h:A[1],s:A[2],v:A[3],a:A[4]}:(A=fe.hex8.exec(O))?{r:ge(A[1]),g:ge(A[2]),b:ge(A[3]),a:ue(A[4]),format:R?"name":"hex8"}:(A=fe.hex6.exec(O))?{r:ge(A[1]),g:ge(A[2]),b:ge(A[3]),format:R?"name":"hex"}:(A=fe.hex4.exec(O))?{r:ge(A[1]+""+A[1]),g:ge(A[2]+""+A[2]),b:ge(A[3]+""+A[3]),a:ue(A[4]+""+A[4]),format:R?"name":"hex8"}:(A=fe.hex3.exec(O))?{r:ge(A[1]+""+A[1]),g:ge(A[2]+""+A[2]),b:ge(A[3]+""+A[3]),format:R?"name":"hex"}:!1}function Se(O){var R,A;return O=O||{level:"AA",size:"small"},R=(O.level||"AA").toUpperCase(),A=(O.size||"small").toLowerCase(),R!=="AA"&&R!=="AAA"&&(R="AA"),A!=="small"&&A!=="large"&&(A="small"),{level:R,size:A}}n.exports?n.exports=u:window.tinycolor=u})(Math)})(mM);var WZ=mM.exports;function KZ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vM(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function GZ(n,e,r){return e&&vM(n.prototype,e),r&&vM(n,r),n}function YZ(n){return JZ(n)||XZ(n)||ZZ(n)||QZ()}function JZ(n){if(Array.isArray(n))return d0(n)}function XZ(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}function ZZ(n,e){if(!!n){if(typeof n=="string")return d0(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d0(n,e)}}function d0(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function QZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var eQ=123,tQ=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},yM=function(e,r,i){return(e<<16)+(r<<8)+i},nQ=function(e){var r=WZ(e).toRgb(),i=r.r,o=r.g,s=r.b;return yM(i,o,s)},bM=function(e,r){return e*eQ%Math.pow(2,r)},rQ=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;KZ(this,n),this.csBits=e,this.registry=["__reserved for background__"]}return GZ(n,[{key:"register",value:function(r){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,o=bM(i,this.csBits),s=tQ(i+(o<<24-this.csBits));return this.registry.push(r),s}},{key:"lookup",value:function(r){var i=typeof r=="string"?nQ(r):yM.apply(void 0,YZ(r));if(!i)return null;var o=i&Math.pow(2,24-this.csBits)-1,s=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return bM(o,this.csBits)!==s||o>=this.registry.length?null:this.registry[o]}}]),n}();function iQ(n,e,r){var i,o=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function s(){var a,l=i.length,c,u=0,f=0,d=0;for(a=0;a<l;++a)c=i[a],u+=c.x||0,f+=c.y||0,d+=c.z||0;for(u=(u/l-n)*o,f=(f/l-e)*o,d=(d/l-r)*o,a=0;a<l;++a)c=i[a],u&&(c.x-=u),f&&(c.y-=f),d&&(c.z-=d)}return s.initialize=function(a){i=a},s.x=function(a){return arguments.length?(n=+a,s):n},s.y=function(a){return arguments.length?(e=+a,s):e},s.z=function(a){return arguments.length?(r=+a,s):r},s.strength=function(a){return arguments.length?(o=+a,s):o},s}function oQ(n){var e=+this._x.call(null,n);return _M(this.cover(e),e,n)}function _M(n,e,r){if(isNaN(e))return n;var i,o=n._root,s={data:r},a=n._x0,l=n._x1,c,u,f,d,h;if(!o)return n._root=s,n;for(;o.length;)if((f=e>=(c=(a+l)/2))?a=c:l=c,i=o,!(o=o[d=+f]))return i[d]=s,n;if(u=+n._x.call(null,o.data),e===u)return s.next=o,i?i[d]=s:n._root=s,n;do i=i?i[d]=new Array(2):n._root=new Array(2),(f=e>=(c=(a+l)/2))?a=c:l=c;while((d=+f)==(h=+(u>=c)));return i[h]=o,i[d]=s,n}function sQ(n){var e,r=n.length,i,o=new Array(r),s=1/0,a=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n[e]))||(o[e]=i,i<s&&(s=i),i>a&&(a=i));if(s>a)return this;for(this.cover(s).cover(a),e=0;e<r;++e)_M(this,o[e],n[e]);return this}function aQ(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,o=this._root,s,a;e>n||n>=r;)switch(a=+(n<e),s=new Array(2),s[a]=o,o=s,i*=2,a){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._x1=r,this}function lQ(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function cQ(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Ki(n,e,r){this.node=n,this.x0=e,this.x1=r}function uQ(n,e){var r,i=this._x0,o,s,a=this._x1,l=[],c=this._root,u,f;for(c&&l.push(new Ki(c,i,a)),e==null?e=1/0:(i=n-e,a=n+e);u=l.pop();)if(!(!(c=u.node)||(o=u.x0)>a||(s=u.x1)<i))if(c.length){var d=(o+s)/2;l.push(new Ki(c[1],d,s),new Ki(c[0],o,d)),(f=+(n>=d))&&(u=l[l.length-1],l[l.length-1]=l[l.length-1-f],l[l.length-1-f]=u)}else{var h=Math.abs(n-+this._x.call(null,c.data));h<e&&(e=h,i=n-h,a=n+h,r=c.data)}return r}function fQ(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,r=this._root,i,o,s,a=this._x0,l=this._x1,c,u,f,d,h;if(!r)return this;if(r.length)for(;;){if((f=c>=(u=(a+l)/2))?a=u:l=u,e=r,!(r=r[d=+f]))return this;if(!r.length)break;e[d+1&1]&&(i=e,h=d)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,o?(s?o.next=s:delete o.next,this):e?(s?e[d]=s:delete e[d],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[h]=r:this._root=r),this):(this._root=s,this)}function dQ(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function hQ(){return this._root}function pQ(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function gQ(n){var e=[],r,i=this._root,o,s,a;for(i&&e.push(new Ki(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,s=r.x0,a=r.x1)&&i.length){var l=(s+a)/2;(o=i[1])&&e.push(new Ki(o,l,a)),(o=i[0])&&e.push(new Ki(o,s,l))}return this}function mQ(n){var e=[],r=[],i;for(this._root&&e.push(new Ki(this._root,this._x0,this._x1));i=e.pop();){var o=i.node;if(o.length){var s,a=i.x0,l=i.x1,c=(a+l)/2;(s=o[0])&&e.push(new Ki(s,a,c)),(s=o[1])&&e.push(new Ki(s,c,l))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function vQ(n){return n[0]}function yQ(n){return arguments.length?(this._x=n,this):this._x}function wM(n,e){var r=new h0(e==null?vQ:e,NaN,NaN);return n==null?r:r.addAll(n)}function h0(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function EM(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var In=wM.prototype=h0.prototype;In.copy=function(){var n=new h0(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=EM(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var o=0;o<2;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(2)}):e.target[o]=EM(i));return n};In.add=oQ;In.addAll=sQ;In.cover=aQ;In.data=lQ;In.extent=cQ;In.find=uQ;In.remove=fQ;In.removeAll=dQ;In.root=hQ;In.size=pQ;In.visit=gQ;In.visitAfter=mQ;In.x=yQ;function bQ(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return SM(this.cover(e,r),e,r,n)}function SM(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var o,s=n._root,a={data:i},l=n._x0,c=n._y0,u=n._x1,f=n._y1,d,h,p,g,v,w,b,S;if(!s)return n._root=a,n;for(;s.length;)if((v=e>=(d=(l+u)/2))?l=d:u=d,(w=r>=(h=(c+f)/2))?c=h:f=h,o=s,!(s=s[b=w<<1|v]))return o[b]=a,n;if(p=+n._x.call(null,s.data),g=+n._y.call(null,s.data),e===p&&r===g)return a.next=s,o?o[b]=a:n._root=a,n;do o=o?o[b]=new Array(4):n._root=new Array(4),(v=e>=(d=(l+u)/2))?l=d:u=d,(w=r>=(h=(c+f)/2))?c=h:f=h;while((b=w<<1|v)==(S=(g>=h)<<1|p>=d));return o[S]=s,o[b]=a,n}function _Q(n){var e,r,i=n.length,o,s,a=new Array(i),l=new Array(i),c=1/0,u=1/0,f=-1/0,d=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,e=n[r]))||isNaN(s=+this._y.call(null,e))||(a[r]=o,l[r]=s,o<c&&(c=o),o>f&&(f=o),s<u&&(u=s),s>d&&(d=s));if(c>f||u>d)return this;for(this.cover(c,u).cover(f,d),r=0;r<i;++r)SM(this,a[r],l[r],n[r]);return this}function wQ(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,o=this._x1,s=this._y1;if(isNaN(r))o=(r=Math.floor(n))+1,s=(i=Math.floor(e))+1;else{for(var a=o-r||1,l=this._root,c,u;r>n||n>=o||i>e||e>=s;)switch(u=(e<i)<<1|n<r,c=new Array(4),c[u]=l,l=c,a*=2,u){case 0:o=r+a,s=i+a;break;case 1:r=o-a,s=i+a;break;case 2:o=r+a,i=s-a;break;case 3:r=o-a,i=s-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=o,this._y1=s,this}function EQ(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function SQ(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Sn(n,e,r,i,o){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=o}function kQ(n,e,r){var i,o=this._x0,s=this._y0,a,l,c,u,f=this._x1,d=this._y1,h=[],p=this._root,g,v;for(p&&h.push(new Sn(p,o,s,f,d)),r==null?r=1/0:(o=n-r,s=e-r,f=n+r,d=e+r,r*=r);g=h.pop();)if(!(!(p=g.node)||(a=g.x0)>f||(l=g.y0)>d||(c=g.x1)<o||(u=g.y1)<s))if(p.length){var w=(a+c)/2,b=(l+u)/2;h.push(new Sn(p[3],w,b,c,u),new Sn(p[2],a,b,w,u),new Sn(p[1],w,l,c,b),new Sn(p[0],a,l,w,b)),(v=(e>=b)<<1|n>=w)&&(g=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=g)}else{var S=n-+this._x.call(null,p.data),E=e-+this._y.call(null,p.data),y=S*S+E*E;if(y<r){var k=Math.sqrt(r=y);o=n-k,s=e-k,f=n+k,d=e+k,i=p.data}}return i}function CQ(n){if(isNaN(f=+this._x.call(null,n))||isNaN(d=+this._y.call(null,n)))return this;var e,r=this._root,i,o,s,a=this._x0,l=this._y0,c=this._x1,u=this._y1,f,d,h,p,g,v,w,b;if(!r)return this;if(r.length)for(;;){if((g=f>=(h=(a+c)/2))?a=h:c=h,(v=d>=(p=(l+u)/2))?l=p:u=p,e=r,!(r=r[w=v<<1|g]))return this;if(!r.length)break;(e[w+1&3]||e[w+2&3]||e[w+3&3])&&(i=e,b=w)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,o?(s?o.next=s:delete o.next,this):e?(s?e[w]=s:delete e[w],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[b]=r:this._root=r),this):(this._root=s,this)}function xQ(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function AQ(){return this._root}function OQ(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function DQ(n){var e=[],r,i=this._root,o,s,a,l,c;for(i&&e.push(new Sn(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,s=r.x0,a=r.y0,l=r.x1,c=r.y1)&&i.length){var u=(s+l)/2,f=(a+c)/2;(o=i[3])&&e.push(new Sn(o,u,f,l,c)),(o=i[2])&&e.push(new Sn(o,s,f,u,c)),(o=i[1])&&e.push(new Sn(o,u,a,l,f)),(o=i[0])&&e.push(new Sn(o,s,a,u,f))}return this}function TQ(n){var e=[],r=[],i;for(this._root&&e.push(new Sn(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var o=i.node;if(o.length){var s,a=i.x0,l=i.y0,c=i.x1,u=i.y1,f=(a+c)/2,d=(l+u)/2;(s=o[0])&&e.push(new Sn(s,a,l,f,d)),(s=o[1])&&e.push(new Sn(s,f,l,c,d)),(s=o[2])&&e.push(new Sn(s,a,d,f,u)),(s=o[3])&&e.push(new Sn(s,f,d,c,u))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function MQ(n){return n[0]}function NQ(n){return arguments.length?(this._x=n,this):this._x}function RQ(n){return n[1]}function IQ(n){return arguments.length?(this._y=n,this):this._y}function p0(n,e,r){var i=new g0(e==null?MQ:e,r==null?RQ:r,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function g0(n,e,r,i,o,s){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=o,this._y1=s,this._root=void 0}function kM(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var kn=p0.prototype=g0.prototype;kn.copy=function(){var n=new g0(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=kM(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var o=0;o<4;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(4)}):e.target[o]=kM(i));return n};kn.add=bQ;kn.addAll=_Q;kn.cover=wQ;kn.data=EQ;kn.extent=SQ;kn.find=kQ;kn.remove=CQ;kn.removeAll=xQ;kn.root=AQ;kn.size=OQ;kn.visit=DQ;kn.visitAfter=TQ;kn.x=NQ;kn.y=IQ;function PQ(n){var e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return CM(this.cover(e,r,i),e,r,i,n)}function CM(n,e,r,i,o){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var s,a=n._root,l={data:o},c=n._x0,u=n._y0,f=n._z0,d=n._x1,h=n._y1,p=n._z1,g,v,w,b,S,E,y,k,D,T,N;if(!a)return n._root=l,n;for(;a.length;)if((y=e>=(g=(c+d)/2))?c=g:d=g,(k=r>=(v=(u+h)/2))?u=v:h=v,(D=i>=(w=(f+p)/2))?f=w:p=w,s=a,!(a=a[T=D<<2|k<<1|y]))return s[T]=l,n;if(b=+n._x.call(null,a.data),S=+n._y.call(null,a.data),E=+n._z.call(null,a.data),e===b&&r===S&&i===E)return l.next=a,s?s[T]=l:n._root=l,n;do s=s?s[T]=new Array(8):n._root=new Array(8),(y=e>=(g=(c+d)/2))?c=g:d=g,(k=r>=(v=(u+h)/2))?u=v:h=v,(D=i>=(w=(f+p)/2))?f=w:p=w;while((T=D<<2|k<<1|y)==(N=(E>=w)<<2|(S>=v)<<1|b>=g));return s[N]=a,s[T]=l,n}function LQ(n){var e,r,i=n.length,o,s,a,l=new Array(i),c=new Array(i),u=new Array(i),f=1/0,d=1/0,h=1/0,p=-1/0,g=-1/0,v=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,e=n[r]))||isNaN(s=+this._y.call(null,e))||isNaN(a=+this._z.call(null,e))||(l[r]=o,c[r]=s,u[r]=a,o<f&&(f=o),o>p&&(p=o),s<d&&(d=s),s>g&&(g=s),a<h&&(h=a),a>v&&(v=a));if(f>p||d>g||h>v)return this;for(this.cover(f,d,h).cover(p,g,v),r=0;r<i;++r)CM(this,l[r],c[r],u[r],n[r]);return this}function BQ(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,s=this._z0,a=this._x1,l=this._y1,c=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,l=(o=Math.floor(e))+1,c=(s=Math.floor(r))+1;else{for(var u=a-i||1,f=this._root,d,h;i>n||n>=a||o>e||e>=l||s>r||r>=c;)switch(h=(r<s)<<2|(e<o)<<1|n<i,d=new Array(8),d[h]=f,f=d,u*=2,h){case 0:a=i+u,l=o+u,c=s+u;break;case 1:i=a-u,l=o+u,c=s+u;break;case 2:a=i+u,o=l-u,c=s+u;break;case 3:i=a-u,o=l-u,c=s+u;break;case 4:a=i+u,l=o+u,s=c-u;break;case 5:i=a-u,l=o+u,s=c-u;break;case 6:a=i+u,o=l-u,s=c-u;break;case 7:i=a-u,o=l-u,s=c-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=i,this._y0=o,this._z0=s,this._x1=a,this._y1=l,this._z1=c,this}function FQ(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function $Q(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ut(n,e,r,i,o,s,a){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=o,this.y1=s,this.z1=a}function zQ(n,e,r,i){var o,s=this._x0,a=this._y0,l=this._z0,c,u,f,d,h,p,g=this._x1,v=this._y1,w=this._z1,b=[],S=this._root,E,y;for(S&&b.push(new ut(S,s,a,l,g,v,w)),i==null?i=1/0:(s=n-i,a=e-i,l=r-i,g=n+i,v=e+i,w=r+i,i*=i);E=b.pop();)if(!(!(S=E.node)||(c=E.x0)>g||(u=E.y0)>v||(f=E.z0)>w||(d=E.x1)<s||(h=E.y1)<a||(p=E.z1)<l))if(S.length){var k=(c+d)/2,D=(u+h)/2,T=(f+p)/2;b.push(new ut(S[7],k,D,T,d,h,p),new ut(S[6],c,D,T,k,h,p),new ut(S[5],k,u,T,d,D,p),new ut(S[4],c,u,T,k,D,p),new ut(S[3],k,D,f,d,h,T),new ut(S[2],c,D,f,k,h,T),new ut(S[1],k,u,f,d,D,T),new ut(S[0],c,u,f,k,D,T)),(y=(r>=T)<<2|(e>=D)<<1|n>=k)&&(E=b[b.length-1],b[b.length-1]=b[b.length-1-y],b[b.length-1-y]=E)}else{var N=n-+this._x.call(null,S.data),$=e-+this._y.call(null,S.data),I=r-+this._z.call(null,S.data),L=N*N+$*$+I*I;if(L<i){var j=Math.sqrt(i=L);s=n-j,a=e-j,l=r-j,g=n+j,v=e+j,w=r+j,o=S.data}}return o}function UQ(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n))||isNaN(g=+this._z.call(null,n)))return this;var e,r=this._root,i,o,s,a=this._x0,l=this._y0,c=this._z0,u=this._x1,f=this._y1,d=this._z1,h,p,g,v,w,b,S,E,y,k,D;if(!r)return this;if(r.length)for(;;){if((S=h>=(v=(a+u)/2))?a=v:u=v,(E=p>=(w=(l+f)/2))?l=w:f=w,(y=g>=(b=(c+d)/2))?c=b:d=b,e=r,!(r=r[k=y<<2|E<<1|S]))return this;if(!r.length)break;(e[k+1&7]||e[k+2&7]||e[k+3&7]||e[k+4&7]||e[k+5&7]||e[k+6&7]||e[k+7&7])&&(i=e,D=k)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,o?(s?o.next=s:delete o.next,this):e?(s?e[k]=s:delete e[k],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[D]=r:this._root=r),this):(this._root=s,this)}function HQ(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function VQ(){return this._root}function jQ(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function qQ(n){var e=[],r,i=this._root,o,s,a,l,c,u,f;for(i&&e.push(new ut(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,s=r.x0,a=r.y0,l=r.z0,c=r.x1,u=r.y1,f=r.z1)&&i.length){var d=(s+c)/2,h=(a+u)/2,p=(l+f)/2;(o=i[7])&&e.push(new ut(o,d,h,p,c,u,f)),(o=i[6])&&e.push(new ut(o,s,h,p,d,u,f)),(o=i[5])&&e.push(new ut(o,d,a,p,c,h,f)),(o=i[4])&&e.push(new ut(o,s,a,p,d,h,f)),(o=i[3])&&e.push(new ut(o,d,h,l,c,u,p)),(o=i[2])&&e.push(new ut(o,s,h,l,d,u,p)),(o=i[1])&&e.push(new ut(o,d,a,l,c,h,p)),(o=i[0])&&e.push(new ut(o,s,a,l,d,h,p))}return this}function WQ(n){var e=[],r=[],i;for(this._root&&e.push(new ut(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var o=i.node;if(o.length){var s,a=i.x0,l=i.y0,c=i.z0,u=i.x1,f=i.y1,d=i.z1,h=(a+u)/2,p=(l+f)/2,g=(c+d)/2;(s=o[0])&&e.push(new ut(s,a,l,c,h,p,g)),(s=o[1])&&e.push(new ut(s,h,l,c,u,p,g)),(s=o[2])&&e.push(new ut(s,a,p,c,h,f,g)),(s=o[3])&&e.push(new ut(s,h,p,c,u,f,g)),(s=o[4])&&e.push(new ut(s,a,l,g,h,p,d)),(s=o[5])&&e.push(new ut(s,h,l,g,u,p,d)),(s=o[6])&&e.push(new ut(s,a,p,g,h,f,d)),(s=o[7])&&e.push(new ut(s,h,p,g,u,f,d))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function KQ(n){return n[0]}function GQ(n){return arguments.length?(this._x=n,this):this._x}function YQ(n){return n[1]}function JQ(n){return arguments.length?(this._y=n,this):this._y}function XQ(n){return n[2]}function ZQ(n){return arguments.length?(this._z=n,this):this._z}function xM(n,e,r,i){var o=new m0(e==null?KQ:e,r==null?YQ:r,i==null?XQ:i,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?o:o.addAll(n)}function m0(n,e,r,i,o,s,a,l,c){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=o,this._z0=s,this._x1=a,this._y1=l,this._z1=c,this._root=void 0}function AM(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var dn=xM.prototype=m0.prototype;dn.copy=function(){var n=new m0(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=AM(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var o=0;o<8;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(8)}):e.target[o]=AM(i));return n};dn.add=PQ;dn.addAll=LQ;dn.cover=BQ;dn.data=FQ;dn.extent=$Q;dn.find=zQ;dn.remove=UQ;dn.removeAll=HQ;dn.root=VQ;dn.size=jQ;dn.visit=qQ;dn.visitAfter=WQ;dn.x=GQ;dn.y=JQ;dn.z=ZQ;function Gi(n){return function(){return n}}function Yi(n){return(n()-.5)*1e-6}function QQ(n){return n.index}function OM(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function eee(n){var e=QQ,r=h,i,o=Gi(30),s,a,l,c,u,f,d=1;n==null&&(n=[]);function h(b){return 1/Math.min(c[b.source.index],c[b.target.index])}function p(b){for(var S=0,E=n.length;S<d;++S)for(var y=0,k,D,T,N=0,$=0,I=0,L,j;y<E;++y)k=n[y],D=k.source,T=k.target,N=T.x+T.vx-D.x-D.vx||Yi(f),l>1&&($=T.y+T.vy-D.y-D.vy||Yi(f)),l>2&&(I=T.z+T.vz-D.z-D.vz||Yi(f)),L=Math.sqrt(N*N+$*$+I*I),L=(L-s[y])/L*b*i[y],N*=L,$*=L,I*=L,T.vx-=N*(j=u[y]),l>1&&(T.vy-=$*j),l>2&&(T.vz-=I*j),D.vx+=N*(j=1-j),l>1&&(D.vy+=$*j),l>2&&(D.vz+=I*j)}function g(){if(!!a){var b,S=a.length,E=n.length,y=new Map(a.map((D,T)=>[e(D,T,a),D])),k;for(b=0,c=new Array(S);b<E;++b)k=n[b],k.index=b,typeof k.source!="object"&&(k.source=OM(y,k.source)),typeof k.target!="object"&&(k.target=OM(y,k.target)),c[k.source.index]=(c[k.source.index]||0)+1,c[k.target.index]=(c[k.target.index]||0)+1;for(b=0,u=new Array(E);b<E;++b)k=n[b],u[b]=c[k.source.index]/(c[k.source.index]+c[k.target.index]);i=new Array(E),v(),s=new Array(E),w()}}function v(){if(!!a)for(var b=0,S=n.length;b<S;++b)i[b]=+r(n[b],b,n)}function w(){if(!!a)for(var b=0,S=n.length;b<S;++b)s[b]=+o(n[b],b,n)}return p.initialize=function(b,...S){a=b,f=S.find(E=>typeof E=="function")||Math.random,l=S.find(E=>[1,2,3].includes(E))||2,g()},p.links=function(b){return arguments.length?(n=b,g(),p):n},p.id=function(b){return arguments.length?(e=b,p):e},p.iterations=function(b){return arguments.length?(d=+b,p):d},p.strength=function(b){return arguments.length?(r=typeof b=="function"?b:Gi(+b),v(),p):r},p.distance=function(b){return arguments.length?(o=typeof b=="function"?b:Gi(+b),w(),p):o},p}const tee=1664525,nee=1013904223,DM=4294967296;function ree(){let n=1;return()=>(n=(tee*n+nee)%DM)/DM}var TM=3;function v0(n){return n.x}function MM(n){return n.y}function iee(n){return n.z}var oee=10,see=Math.PI*(3-Math.sqrt(5)),aee=Math.PI*20/(9+Math.sqrt(221));function lee(n,e){e=e||2;var r=Math.min(TM,Math.max(1,Math.round(e))),i,o=1,s=.001,a=1-Math.pow(s,1/300),l=0,c=.6,u=new Map,f=Xb(p),d=uu("tick","end"),h=ree();n==null&&(n=[]);function p(){g(),d.call("tick",i),o<s&&(f.stop(),d.call("end",i))}function g(b){var S,E=n.length,y;b===void 0&&(b=1);for(var k=0;k<b;++k)for(o+=(l-o)*a,u.forEach(function(D){D(o)}),S=0;S<E;++S)y=n[S],y.fx==null?y.x+=y.vx*=c:(y.x=y.fx,y.vx=0),r>1&&(y.fy==null?y.y+=y.vy*=c:(y.y=y.fy,y.vy=0)),r>2&&(y.fz==null?y.z+=y.vz*=c:(y.z=y.fz,y.vz=0));return i}function v(){for(var b=0,S=n.length,E;b<S;++b){if(E=n[b],E.index=b,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),E.fz!=null&&(E.z=E.fz),isNaN(E.x)||r>1&&isNaN(E.y)||r>2&&isNaN(E.z)){var y=oee*(r>2?Math.cbrt(.5+b):r>1?Math.sqrt(.5+b):b),k=b*see,D=b*aee;r===1?E.x=y:r===2?(E.x=y*Math.cos(k),E.y=y*Math.sin(k)):(E.x=y*Math.sin(k)*Math.cos(D),E.y=y*Math.cos(k),E.z=y*Math.sin(k)*Math.sin(D))}(isNaN(E.vx)||r>1&&isNaN(E.vy)||r>2&&isNaN(E.vz))&&(E.vx=0,r>1&&(E.vy=0),r>2&&(E.vz=0))}}function w(b){return b.initialize&&b.initialize(n,h,r),b}return v(),i={tick:g,restart:function(){return f.restart(p),i},stop:function(){return f.stop(),i},numDimensions:function(b){return arguments.length?(r=Math.min(TM,Math.max(1,Math.round(b))),u.forEach(w),i):r},nodes:function(b){return arguments.length?(n=b,v(),u.forEach(w),i):n},alpha:function(b){return arguments.length?(o=+b,i):o},alphaMin:function(b){return arguments.length?(s=+b,i):s},alphaDecay:function(b){return arguments.length?(a=+b,i):+a},alphaTarget:function(b){return arguments.length?(l=+b,i):l},velocityDecay:function(b){return arguments.length?(c=1-b,i):1-c},randomSource:function(b){return arguments.length?(h=b,u.forEach(w),i):h},force:function(b,S){return arguments.length>1?(S==null?u.delete(b):u.set(b,w(S)),i):u.get(b)},find:function(){var b=Array.prototype.slice.call(arguments),S=b.shift()||0,E=(r>1?b.shift():null)||0,y=(r>2?b.shift():null)||0,k=b.shift()||1/0,D=0,T=n.length,N,$,I,L,j,K;for(k*=k,D=0;D<T;++D)j=n[D],N=S-j.x,$=E-(j.y||0),I=y-(j.z||0),L=N*N+$*$+I*I,L<k&&(K=j,k=L);return K},on:function(b,S){return arguments.length>1?(d.on(b,S),i):d.on(b)}}}function cee(){var n,e,r,i,o,s=Gi(-30),a,l=1,c=1/0,u=.81;function f(g){var v,w=n.length,b=(e===1?wM(n,v0):e===2?p0(n,v0,MM):e===3?xM(n,v0,MM,iee):null).visitAfter(h);for(o=g,v=0;v<w;++v)r=n[v],b.visit(p)}function d(){if(!!n){var g,v=n.length,w;for(a=new Array(v),g=0;g<v;++g)w=n[g],a[w.index]=+s(w,g,n)}}function h(g){var v=0,w,b,S=0,E,y,k,D,T=g.length;if(T){for(E=y=k=D=0;D<T;++D)(w=g[D])&&(b=Math.abs(w.value))&&(v+=w.value,S+=b,E+=b*(w.x||0),y+=b*(w.y||0),k+=b*(w.z||0));v*=Math.sqrt(4/T),g.x=E/S,e>1&&(g.y=y/S),e>2&&(g.z=k/S)}else{w=g,w.x=w.data.x,e>1&&(w.y=w.data.y),e>2&&(w.z=w.data.z);do v+=a[w.data.index];while(w=w.next)}g.value=v}function p(g,v,w,b,S){if(!g.value)return!0;var E=[w,b,S][e-1],y=g.x-r.x,k=e>1?g.y-r.y:0,D=e>2?g.z-r.z:0,T=E-v,N=y*y+k*k+D*D;if(T*T/u<N)return N<c&&(y===0&&(y=Yi(i),N+=y*y),e>1&&k===0&&(k=Yi(i),N+=k*k),e>2&&D===0&&(D=Yi(i),N+=D*D),N<l&&(N=Math.sqrt(l*N)),r.vx+=y*g.value*o/N,e>1&&(r.vy+=k*g.value*o/N),e>2&&(r.vz+=D*g.value*o/N)),!0;if(g.length||N>=c)return;(g.data!==r||g.next)&&(y===0&&(y=Yi(i),N+=y*y),e>1&&k===0&&(k=Yi(i),N+=k*k),e>2&&D===0&&(D=Yi(i),N+=D*D),N<l&&(N=Math.sqrt(l*N)));do g.data!==r&&(T=a[g.data.index]*o/N,r.vx+=y*T,e>1&&(r.vy+=k*T),e>2&&(r.vz+=D*T));while(g=g.next)}return f.initialize=function(g,...v){n=g,i=v.find(w=>typeof w=="function")||Math.random,e=v.find(w=>[1,2,3].includes(w))||2,d()},f.strength=function(g){return arguments.length?(s=typeof g=="function"?g:Gi(+g),d(),f):s},f.distanceMin=function(g){return arguments.length?(l=g*g,f):Math.sqrt(l)},f.distanceMax=function(g){return arguments.length?(c=g*g,f):Math.sqrt(c)},f.theta=function(g){return arguments.length?(u=g*g,f):Math.sqrt(u)},f}function uee(n,e,r,i){var o,s,a=Gi(.1),l,c;typeof n!="function"&&(n=Gi(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function u(d){for(var h=0,p=o.length;h<p;++h){var g=o[h],v=g.x-e||1e-6,w=(g.y||0)-r||1e-6,b=(g.z||0)-i||1e-6,S=Math.sqrt(v*v+w*w+b*b),E=(c[h]-S)*l[h]*d/S;g.vx+=v*E,s>1&&(g.vy+=w*E),s>2&&(g.vz+=b*E)}}function f(){if(!!o){var d,h=o.length;for(l=new Array(h),c=new Array(h),d=0;d<h;++d)c[d]=+n(o[d],d,o),l[d]=isNaN(c[d])?0:+a(o[d],d,o)}}return u.initialize=function(d,...h){o=d,s=h.find(p=>[1,2,3].includes(p))||2,f()},u.strength=function(d){return arguments.length?(a=typeof d=="function"?d:Gi(+d),f(),u):a},u.radius=function(d){return arguments.length?(n=typeof d=="function"?d:Gi(+d),f(),u):n},u.x=function(d){return arguments.length?(e=+d,u):e},u.y=function(d){return arguments.length?(r=+d,u):r},u.z=function(d){return arguments.length?(i=+d,u):i},u}const{abs:Su,cos:Ji,sin:ml,acos:fee,atan2:ku,sqrt:jo,pow:br}=Math;function Cu(n){return n<0?-br(-n,1/3):br(n,1/3)}const NM=Math.PI,Qh=2*NM,qo=NM/2,dee=1e-6,y0=Number.MAX_SAFE_INTEGER||9007199254740991,b0=Number.MIN_SAFE_INTEGER||-9007199254740991,hee={x:0,y:0,z:0},ye={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z!="undefined"&&(i+=r.z*r.z),jo(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const o=1-n;let s=e;if(i===0)return e[0].t=n,e[0];if(i===1){const l={x:o*s[0].x+n*s[1].x,y:o*s[0].y+n*s[1].y,t:n};return r&&(l.z=o*s[0].z+n*s[1].z),l}if(i<4){let l=o*o,c=n*n,u,f,d,h=0;i===2?(s=[s[0],s[1],s[2],hee],u=l,f=o*n*2,d=c):i===3&&(u=l*o,f=l*n*3,d=o*c*3,h=n*c);const p={x:u*s[0].x+f*s[1].x+d*s[2].x+h*s[3].x,y:u*s[0].y+f*s[1].y+d*s[2].y+h*s[3].y,t:n};return r&&(p.z=u*s[0].z+f*s[1].z+d*s[2].z+h*s[3].z),p}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*n,y:a[l].y+(a[l+1].y-a[l].y)*n},typeof a[l].z!="undefined"&&(a[l]=a[l].z+(a[l+1].z-a[l].z)*n);a.splice(a.length-1,1)}return a[0].t=n,a[0]},computeWithRatios:function(n,e,r,i){const o=1-n,s=r,a=e;let l=s[0],c=s[1],u=s[2],f=s[3],d;if(l*=o,c*=n,a.length===2)return d=l+c,{x:(l*a[0].x+c*a[1].x)/d,y:(l*a[0].y+c*a[1].y)/d,z:i?(l*a[0].z+c*a[1].z)/d:!1,t:n};if(l*=o,c*=2*o,u*=n*n,a.length===3)return d=l+c+u,{x:(l*a[0].x+c*a[1].x+u*a[2].x)/d,y:(l*a[0].y+c*a[1].y+u*a[2].y)/d,z:i?(l*a[0].z+c*a[1].z+u*a[2].z)/d:!1,t:n};if(l*=o,c*=1.5*o,u*=3*o,f*=n*n*n,a.length===4)return d=l+c+u+f,{x:(l*a[0].x+c*a[1].x+u*a[2].x+f*a[3].x)/d,y:(l*a[0].y+c*a[1].y+u*a[2].y+f*a[3].y)/d,z:i?(l*a[0].z+c*a[1].z+u*a[2].z+f*a[3].z)/d:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,o=i.length,s=o-1;o>1;o--,s--){const a=[];for(let l=0,c;l<s;l++)c={x:s*(i[l+1].x-i[l].x),y:s*(i[l+1].y-i[l].y)},e&&(c.z=s*(i[l+1].z-i[l].z)),a.push(c);r.push(a),i=a}return r},between:function(n,e,r){return e<=n&&n<=r||ye.approximately(n,e)||ye.approximately(n,r)},approximately:function(n,e,r){return Su(n-e)<=(r||dee)},length:function(n){const e=.5,r=ye.Tvalues.length;let i=0;for(let o=0,s;o<r;o++)s=e*ye.Tvalues[o]+e,i+=ye.Cvalues[o]*ye.arcfn(s,n);return e*i},map:function(n,e,r,i,o){const s=r-e,a=o-i,l=n-e,c=l/s;return i+a*c},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z!="undefined"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(ye.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,s=r.x-n.x,a=r.y-n.y,l=i*a-o*s,c=i*s+o*a;return ku(l,c)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return jo(r*r+i*i)},closest:function(n,e){let r=br(2,63),i,o;return n.forEach(function(s,a){o=ye.dist(e,s),o<r&&(r=o,i=a)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n=="undefined")n=.5;else if(n===0||n===1)return n;const r=br(n,e)+br(1-n,e),i=r-1;return Su(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n=="undefined")n=.5;else if(n===0||n===1)return n;const r=br(1-n,e),i=br(n,e)+r;return r/i},lli8:function(n,e,r,i,o,s,a,l){const c=(n*i-e*r)*(o-a)-(n-r)*(o*l-s*a),u=(n*i-e*r)*(s-l)-(e-i)*(o*l-s*a),f=(n-r)*(s-l)-(e-i)*(o-a);return f==0?!1:{x:c/f,y:u/f}},lli4:function(n,e,r,i){const o=n.x,s=n.y,a=e.x,l=e.y,c=r.x,u=r.y,f=i.x,d=i.y;return ye.lli8(o,s,a,l,c,u,f,d)},lli:function(n,e){return ye.lli4(n,n.c,e,e.c)},makeline:function(n,e){const r=n.x,i=n.y,o=e.x,s=e.y,a=(o-r)/3,l=(s-i)/3;return new St(r,i,r+a,i+l,r+2*a,i+2*l,o,s)},findbbox:function(n){let e=y0,r=y0,i=b0,o=b0;return n.forEach(function(s){const a=s.bbox();e>a.x.min&&(e=a.x.min),r>a.y.min&&(r=a.y.min),i<a.x.max&&(i=a.x.max),o<a.y.max&&(o=a.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(n,e,r,i,o){if(!ye.bboxoverlap(e,i))return[];const s=[],a=[n.startcap,n.forward,n.back,n.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const f=c.intersects(u,o);f.length>0&&(f.c1=c,f.c2=u,f.s1=n,f.s2=r,s.push(f))})}),s},makeshape:function(n,e,r){const i=e.points.length,o=n.points.length,s=ye.makeline(e.points[i-1],n.points[0]),a=ye.makeline(n.points[o-1],e.points[0]),l={startcap:s,forward:n,back:e,endcap:a,bbox:ye.findbbox([s,n,e,a])};return l.intersections=function(c){return ye.shapeintersections(l,l.bbox,c,c.bbox,r)},l},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=y0,o=b0,s,a;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,c=r.length;l<c;l++)s=r[l],a=n.get(s),a[e]<i&&(i=a[e]),a[e]>o&&(o=a[e]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,o=-ku(e.p2.y-i,e.p2.x-r),s=function(a){return{x:(a.x-r)*Ji(o)-(a.y-i)*ml(o),y:(a.x-r)*ml(o)+(a.y-i)*Ji(o)}};return n.map(s)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=ye.align(n,e),o=function(T){return 0<=T&&T<=1};if(r===2){const T=i[0].y,N=i[1].y,$=i[2].y,I=T-2*N+$;if(I!==0){const L=-jo(N*N-T*$),j=-T+N,K=-(L+j)/I,V=-(-L+j)/I;return[K,V].filter(o)}else if(N!==$&&I===0)return[(2*N-$)/(2*N-2*$)].filter(o);return[]}const s=i[0].y,a=i[1].y,l=i[2].y,c=i[3].y;let u=-s+3*a-3*l+c,f=3*s-6*a+3*l,d=-3*s+3*a,h=s;if(ye.approximately(u,0)){if(ye.approximately(f,0))return ye.approximately(d,0)?[]:[-h/d].filter(o);const T=jo(d*d-4*f*h),N=2*f;return[(T-d)/N,(-d-T)/N].filter(o)}f/=u,d/=u,h/=u;const p=(3*d-f*f)/3,g=p/3,v=(2*f*f*f-9*f*d+27*h)/27,w=v/2,b=w*w+g*g*g;let S,E,y,k,D;if(b<0){const T=-p/3,N=T*T*T,$=jo(N),I=-v/(2*$),L=I<-1?-1:I>1?1:I,j=fee(L),K=Cu($),V=2*K;return y=V*Ji(j/3)-f/3,k=V*Ji((j+Qh)/3)-f/3,D=V*Ji((j+2*Qh)/3)-f/3,[y,k,D].filter(o)}else{if(b===0)return S=w<0?Cu(-w):-Cu(w),y=2*S-f/3,k=-S-f/3,[y,k].filter(o);{const T=jo(b);return S=Cu(-w+T),E=Cu(w+T),[S-E-f/3].filter(o)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],o=e-2*r+i;if(o!==0){const s=-jo(r*r-e*i),a=-e+r,l=-(s+a)/o,c=-(-s+a)/o;return[l,c]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,o){let s,a,l,c,u=0,f=0;const d=ye.compute(n,e),h=ye.compute(n,r),p=d.x*d.x+d.y*d.y;if(i?(s=jo(br(d.y*h.z-h.y*d.z,2)+br(d.z*h.x-h.z*d.x,2)+br(d.x*h.y-h.x*d.y,2)),a=br(p+d.z*d.z,3/2)):(s=d.x*h.y-d.y*h.x,a=br(p,3/2)),s===0||a===0)return{k:0,r:0};if(u=s/a,f=a/s,!o){const g=ye.curvature(n-.001,e,r,i,!0).k,v=ye.curvature(n+.001,e,r,i,!0).k;c=(v-u+(u-g))/2,l=(Su(v-u)+Su(u-g))/2}return{k:u,r:f,dk:c,adk:l}},inflections:function(n){if(n.length<4)return[];const e=ye.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,o=e[1].x*e[2].y,s=e[3].x*e[2].y,a=18*(-3*r+2*i+3*o-s),l=18*(3*r-i-3*o),c=18*(o-r);if(ye.approximately(a,0)){if(!ye.approximately(l,0)){let h=-c/l;if(0<=h&&h<=1)return[h]}return[]}const u=l*l-4*a*c,f=Math.sqrt(u),d=2*a;return ye.approximately(d,0)?[]:[(f-l)/d,-(l+f)/d].filter(function(h){return 0<=h&&h<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let o=0,s,a,l,c;o<i;o++)if(s=r[o],a=n[s].mid,l=e[s].mid,c=(n[s].size+e[s].size)/2,Su(a-l)>=c)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),o=e.bbox(),s=1e5,a=r||.5;if(i.x.size+i.y.size<a&&o.x.size+o.y.size<a)return[(s*(n._t1+n._t2)/2|0)/s+"/"+(s*(e._t1+e._t2)/2|0)/s];let l=n.split(.5),c=e.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(d){return ye.bboxoverlap(d.left.bbox(),d.right.bbox())});let f=[];return u.length===0||(u.forEach(function(d){f=f.concat(ye.pairiteration(d.left,d.right,a))}),f=f.filter(function(d,h){return f.indexOf(d)===h})),f},getccenter:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,s=r.x-e.x,a=r.y-e.y,l=i*Ji(qo)-o*ml(qo),c=i*ml(qo)+o*Ji(qo),u=s*Ji(qo)-a*ml(qo),f=s*ml(qo)+a*Ji(qo),d=(n.x+e.x)/2,h=(n.y+e.y)/2,p=(e.x+r.x)/2,g=(e.y+r.y)/2,v=d+l,w=h+c,b=p+u,S=g+f,E=ye.lli8(d,h,v,w,p,g,b,S),y=ye.dist(E,n);let k=ku(n.y-E.y,n.x-E.x),D=ku(e.y-E.y,e.x-E.x),T=ku(r.y-E.y,r.x-E.x),N;return k<T?((k>D||D>T)&&(k+=Qh),k>T&&(N=T,T=k,k=N)):T<D&&D<k?(N=T,T=k,k=N):T+=Qh,E.s=k,E.e=T,E.r=y,E},numberSort:function(n,e){return n-e}};class ep{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return ye.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)ye.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new ep(r)}}const{abs:xu,min:RM,max:IM,cos:pee,sin:gee,acos:mee,sqrt:Au}=Math,vee=Math.PI;class St{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const h=[];r.forEach(function(p){["x","y","z"].forEach(function(g){typeof p[g]!="undefined"&&h.push(p[g])})}),r=h}let o=!1;const s=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(s!==6&&s!==8&&s!==9&&s!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!o&&(s===9||s===12)||e&&e[0]&&typeof e[0].z!="undefined",l=this.points=[];for(let h=0,p=a?3:2;h<s;h+=p){var c={x:r[h],y:r[h+1]};a&&(c.z=r[h+2]),l.push(c)}const u=this.order=l.length-1,f=this.dims=["x","y"];a&&f.push("z"),this.dimlen=f.length;const d=ye.align(l,{p1:l[0],p2:l[u]});this._linear=!d.some(h=>xu(h.y)>1e-4),this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,o){if(typeof o=="undefined"&&(o=.5),o===0)return new St(r,r,i);if(o===1)return new St(e,r,r);const s=St.getABC(2,e,r,i,o);return new St(e,s.A,i)}static cubicFromPoints(e,r,i,o,s){typeof o=="undefined"&&(o=.5);const a=St.getABC(3,e,r,i,o);typeof s=="undefined"&&(s=ye.dist(r,a.C));const l=s*(1-o)/o,c=ye.dist(e,i),u=(i.x-e.x)/c,f=(i.y-e.y)/c,d=s*u,h=s*f,p=l*u,g=l*f,v={x:r.x-d,y:r.y-h},w={x:r.x+p,y:r.y+g},b=a.A,S={x:b.x+(v.x-b.x)/(1-o),y:b.y+(v.y-b.y)/(1-o)},E={x:b.x+(w.x-b.x)/o,y:b.y+(w.y-b.y)/o},y={x:e.x+(S.x-e.x)/o,y:e.y+(S.y-e.y)/o},k={x:i.x+(E.x-i.x)/(1-o),y:i.y+(E.y-i.y)/(1-o)};return new St(e,y,k,i)}static getUtils(){return ye}getUtils(){return St.getUtils()}static get PolyBezier(){return ep}valueOf(){return this.toString()}toString(){return ye.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let s=1,a=e.length;s<a;s++)o.push(e[s].x),o.push(e[s].y);return o.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=ye.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=ye.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return ye.length(this.derivative.bind(this))}static getABC(e=2,r,i,o,s=.5){const a=ye.projectionratio(s,e),l=1-a,c={x:a*r.x+l*o.x,y:a*r.y+l*o.y},u=ye.abcratio(s,e);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c,S:r,E:o}}getABC(e,r){r=r||this.get(e);let i=this.points[0],o=this.points[this.order];return St.getABC(this.order,i,r,o,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e)return this._lut;this._lut=[],e--;for(let r=0,i,o;r<e;r++)o=r/(e-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),o=[];for(let s=0,a,l=0;s<i.length;s++)a=i[s],ye.dist(a,e)<r&&(o.push(a),l+=s/i.length);return o.length?t/=o.length:!1}project(e){const r=this.getLUT(),i=r.length-1,o=ye.closest(r,e),s=o.mpos,a=(s-1)/i,l=(s+1)/i,c=.1/i;let u=o.mdist,f=a,d=f,h;u+=1;for(let p;f<l+c;f+=c)h=this.compute(f),p=ye.dist(e,h),p<u&&(u=p,d=f);return d=d<0?0:d>1?1:d,h=this.compute(d),h.t=d,h.d=u,h}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?ye.computeWithRatios(e,this.points,this.ratios,this._3d):ye.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let o=1,s,a;o<i;o++)s=e[o],a=e[o-1],r[o]={x:(i-o)/i*s.x+o/i*a.x,y:(i-o)/i*s.y+o/i*a.y};return r[i]=e[i-1],new St(r)}derivative(e){return ye.compute(e,this.dpoints[0],this._3d)}dderivative(e){return ye.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new St(ye.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return ye.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ye.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=Au(r.x*r.x+r.y*r.y);return{x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),o=Au(r.x*r.x+r.y*r.y+r.z*r.z),s=Au(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=s,i.y/=s,i.z/=s;const a={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},l=Au(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const c=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(e){let r=this.points,i=[],o=[],s=0;for(o[s++]=r[0],o[s++]=r[1],o[s++]=r[2],this.order===3&&(o[s++]=r[3]);r.length>1;){i=[];for(let a=0,l,c=r.length-1;a<c;a++)l=ye.lerp(e,r[a],r[a+1]),o[s++]=l,i.push(l);r=i}return o}split(e,r){if(e===0&&!!r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),o={left:this.order===2?new St([i[0],i[3],i[5]]):new St([i[0],i[4],i[7],i[9]]),right:this.order===2?new St([i[5],i[4],i[2]]):new St([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=ye.map(0,0,1,this._t1,this._t2),o.left._t2=ye.map(e,0,1,this._t1,this._t2),o.right._t1=ye.map(e,0,1,this._t1,this._t2),o.right._t2=ye.map(1,0,1,this._t1,this._t2),r?(r=ye.map(r,e,1,0,1),o.right.split(r).left):o}extrema(){const e={};let r=[];return this.dims.forEach(function(i){let o=function(a){return a[i]},s=this.dpoints[0].map(o);e[i]=ye.droots(s),this.order===3&&(s=this.dpoints[1].map(o),e[i]=e[i].concat(ye.droots(s))),e[i]=e[i].filter(function(a){return a>=0&&a<=1}),r=r.concat(e[i].sort(ye.numberSort))}.bind(this)),e.values=r.sort(ye.numberSort).filter(function(i,o){return r.indexOf(i)===o}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach(function(i){r[i]=ye.getminmax(this,i,e[i])}.bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return ye.bboxoverlap(r,i)}offset(e,r){if(typeof r!="undefined"){const i=this.get(e),o=this.normal(e),s={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(s.z=i.z+o.z*r),s}if(this._linear){const i=this.normal(0),o=this.points.map(function(s){const a={x:s.x+e*i.x,y:s.y+e*i.y};return s.z&&i.z&&(a.z=s.z+e*i.z),a});return[new St(o)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const o=ye.angle(this.points[0],this.points[3],this.points[1]),s=ye.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&s<0||o<0&&s>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),xu(mee(i))<vee/3}reduce(){let e,r=0,i=0,o=.01,s,a=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],e=1;e<c.length;e++)i=c[e],s=this.split(r,i),s._t1=r,s._t2=i,a.push(s),r=i;return a.forEach(function(u){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(s=u.split(r,i),!s.simple()){if(i-=o,xu(r-i)<o)return[];s=u.split(r,i),s._t1=ye.map(r,0,1,u._t1,u._t2),s._t2=ye.map(i,0,1,u._t1,u._t2),l.push(s),r=i;break}r<1&&(s=u.split(r,1),s._t1=ye.map(r,0,1,u._t1,u._t2),s._t2=u._t2,l.push(s))}),l}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const o=this.clockwise,s=i?i(0):e,a=i?i(1):e,l=[this.offset(0,10),this.offset(1,10)],c=this.points,u=[],f=ye.lli4(l[0],l[0].c,l[1],l[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(d){const h=u[d*r]=ye.copy(c[d*r]);h.x+=(d?a:s)*l[d].n.x,h.y+=(d?a:s)*l[d].n.y}),i?([0,1].forEach(function(d){if(!(r===2&&!!d)){var h=c[d+1],p={x:h.x-f.x,y:h.y-f.y},g=i?i((d+1)/r):e;i&&!o&&(g=-g);var v=Au(p.x*p.x+p.y*p.y);p.x/=v,p.y/=v,u[d+1]={x:h.x+g*p.x,y:h.y+g*p.y}}}),new St(u)):([0,1].forEach(d=>{if(r===2&&!!d)return;const h=u[d*r],p=this.derivative(d),g={x:h.x+p.x,y:h.y+p.y};u[d+1]=ye.lli4(h,g,f,c[d+1])}),new St(u))}outline(e,r,i,o){r=typeof r=="undefined"?e:r;const s=this.reduce(),a=s.length,l=[];let c=[],u,f=0,d=this.length();const h=typeof i!="undefined"&&typeof o!="undefined";function p(k,D,T,N,$){return function(I){const L=N/T,j=(N+$)/T,K=D-k;return ye.map(I,0,1,k+L*K,k+j*K)}}s.forEach(function(k){const D=k.length();h?(l.push(k.scale(p(e,i,d,f,D))),c.push(k.scale(p(-r,-o,d,f,D)))):(l.push(k.scale(e)),c.push(k.scale(-r))),f+=D}),c=c.map(function(k){return u=k.points,u[3]?k.points=[u[3],u[2],u[1],u[0]]:k.points=[u[2],u[1],u[0]],k}).reverse();const g=l[0].points[0],v=l[a-1].points[l[a-1].points.length-1],w=c[a-1].points[c[a-1].points.length-1],b=c[0].points[0],S=ye.makeline(w,g),E=ye.makeline(v,b),y=[S].concat(l).concat([E]).concat(c);return y.length,new ep(y)}outlineshapes(e,r,i){r=r||e;const o=this.outline(e,r).curves,s=[];for(let a=1,l=o.length;a<l/2;a++){const c=ye.makeshape(o[a],o[l-a],i);c.startcap.virtual=a>1,c.endcap.virtual=a<l/2-1,s.push(c)}return s}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof St&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=RM(e.p1.x,e.p2.x),i=RM(e.p1.y,e.p2.y),o=IM(e.p1.x,e.p2.x),s=IM(e.p1.y,e.p2.y);return ye.roots(this.points,e).filter(a=>{var l=this.get(a);return ye.between(l.x,r,o)&&ye.between(l.y,i,s)})}selfintersects(e){const r=this.reduce(),i=r.length-2,o=[];for(let s=0,a,l,c;s<i;s++)l=r.slice(s,s+1),c=r.slice(s+2),a=this.curveintersects(l,c,e),o.push(...a);return o}curveintersects(e,r,i){const o=[];e.forEach(function(a){r.forEach(function(l){a.overlaps(l)&&o.push({left:a,right:l})})});let s=[];return o.forEach(function(a){const l=ye.pairiteration(a.left,a.right,i);l.length>0&&(s=s.concat(l))}),s}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,o){const s=(o-i)/4,a=this.get(i+s),l=this.get(o-s),c=ye.dist(e,r),u=ye.dist(e,a),f=ye.dist(e,l);return xu(u-c)+xu(f-c)}_iterate(e,r){let i=0,o=1,s;do{s=0,o=1;let a=this.get(i),l,c,u,f,d=!1,h=!1,p,g=o,v=1;do if(h=d,f=u,g=(i+o)/2,l=this.get(g),c=this.get(o),u=ye.getccenter(a,l,c),u.interval={start:i,end:o},d=this._error(u,a,i,o)<=e,p=h&&!d,p||(v=o),d){if(o>=1){if(u.interval.end=v=1,f=u,o>1){let b={x:u.x+u.r*pee(u.e),y:u.y+u.r*gee(u.e)};u.e+=ye.angle({x:u.x,y:u.y},b,this.get(1))}break}o=o+(o-i)/2}else o=g;while(!p&&s++<100);if(s>=100)break;f=f||u,r.push(f),i=v}while(o<1);return r}}function yee(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function bee(n,e){if(n==null)return{};var r=yee(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,i)||(r[i]=n[i]))}return r}function _ee(n,e){return See(n)||Cee(n,e)||PM(n,e)||Aee()}function wee(n){return Eee(n)||kee(n)||PM(n)||xee()}function Eee(n){if(Array.isArray(n))return _0(n)}function See(n){if(Array.isArray(n))return n}function kee(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Cee(n,e){var r=n&&(typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"]);if(r!=null){var i=[],o=!0,s=!1,a,l;try{for(r=r.call(n);!(o=(a=r.next()).done)&&(i.push(a.value),!(e&&i.length===e));o=!0);}catch(c){s=!0,l=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(s)throw l}}return i}}function PM(n,e){if(!!n){if(typeof n=="string")return _0(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(n,e)}}function _0(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function xee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Dee(n){var e=Oee(n,"string");return typeof e=="symbol"?e:String(e)}var Tee=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),s=n.reduce(function(l,c){var u=l,f=c;return o.forEach(function(d,h){var p=d.keyAccessor,g=d.isProp,v;if(g){var w=f,b=w[p],S=bee(w,[p].map(Dee));v=b,f=S}else v=p(f,h);h+1<o.length?(u.hasOwnProperty(v)||(u[v]={}),u=u[v]):r?(u.hasOwnProperty(v)||(u[v]=[]),u[v].push(f)):u[v]=f}),l},{});r instanceof Function&&function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===o.length?Object.keys(c).forEach(function(f){return c[f]=r(c[f])}):Object.values(c).forEach(function(f){return l(f,u+1)})}(s);var a=s;return i&&(a=[],function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===o.length?a.push({keys:u,vals:c}):Object.entries(c).forEach(function(f){var d=_ee(f,2),h=d[0],p=d[1];return l(p,[].concat(wee(u),[h]))})}(s),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a};function LM(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const BM=Symbol("implicit");function FM(){var n=new iM,e=[],r=[],i=BM;function o(s){let a=n.get(s);if(a===void 0){if(i!==BM)return i;n.set(s,a=e.push(s)-1)}return r[a%r.length]}return o.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new iM;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return o},o.range=function(s){return arguments.length?(r=Array.from(s),o):r.slice()},o.unknown=function(s){return arguments.length?(i=s,o):i},o.copy=function(){return FM(e,r).unknown(i)},LM.apply(o,arguments),o}function Mee(n){return function(){return n}}function Nee(n){return+n}var $M=[0,1];function vl(n){return n}function w0(n,e){return(e-=n=+n)?function(r){return(r-n)/e}:Mee(isNaN(e)?NaN:.5)}function Ree(n,e){var r;return n>e&&(r=n,n=e,e=r),function(i){return Math.max(n,Math.min(e,i))}}function Iee(n,e,r){var i=n[0],o=n[1],s=e[0],a=e[1];return o<i?(i=w0(o,i),s=r(a,s)):(i=w0(i,o),s=r(s,a)),function(l){return s(i(l))}}function Pee(n,e,r){var i=Math.min(n.length,e.length)-1,o=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)o[a]=w0(n[a],n[a+1]),s[a]=r(e[a],e[a+1]);return function(l){var c=sZ(n,l,1,i)-1;return s[c](o[c](l))}}function Lee(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Bee(){var n=$M,e=$M,r=Gb,i,o,s,a=vl,l,c,u;function f(){var h=Math.min(n.length,e.length);return a!==vl&&(a=Ree(n[0],n[h-1])),l=h>2?Pee:Iee,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(c||(c=l(n.map(i),e,r)))(i(a(h)))}return d.invert=function(h){return a(o((u||(u=l(e,n.map(i),zr)))(h)))},d.domain=function(h){return arguments.length?(n=Array.from(h,Nee),f()):n.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=TJ,f()},d.clamp=function(h){return arguments.length?(a=h?!0:vl,f()):a!==vl},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,p){return i=h,o=p,f()}}function Fee(){return Bee()(vl,vl)}function $ee(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function tp(n,e){if((r=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var r,i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}function yl(n){return n=tp(Math.abs(n)),n?n[1]:NaN}function zee(n,e){return function(r,i){for(var o=r.length,s=[],a=0,l=n[0],c=0;o>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),s.push(r.substring(o-=l,o+l)),!((c+=l+1)>i));)l=n[a=(a+1)%n.length];return s.reverse().join(e)}}function Uee(n){return function(e){return e.replace(/[0-9]/g,function(r){return n[+r]})}}var Hee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function np(n){if(!(e=Hee.exec(n)))throw new Error("invalid format: "+n);var e;return new E0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}np.prototype=E0.prototype;function E0(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}E0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vee(n){e:for(var e=n.length,r=1,i=-1,o;r<e;++r)switch(n[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+n[r])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(o+1):n}var zM;function jee(n,e){var r=tp(n,e);if(!r)return n+"";var i=r[0],o=r[1],s=o-(zM=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+tp(n,Math.max(0,e+s-1))[0]}function UM(n,e){var r=tp(n,e);if(!r)return n+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}var HM={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:$ee,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>UM(n*100,e),r:UM,s:jee,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function VM(n){return n}var jM=Array.prototype.map,qM=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function qee(n){var e=n.grouping===void 0||n.thousands===void 0?VM:zee(jM.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",o=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?VM:Uee(jM.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"\u2212":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function u(d){d=np(d);var h=d.fill,p=d.align,g=d.sign,v=d.symbol,w=d.zero,b=d.width,S=d.comma,E=d.precision,y=d.trim,k=d.type;k==="n"?(S=!0,k="g"):HM[k]||(E===void 0&&(E=12),y=!0,k="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var D=v==="$"?r:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",T=v==="$"?i:/[%p]/.test(k)?a:"",N=HM[k],$=/[defgprs%]/.test(k);E=E===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(L){var j=D,K=T,V,G,B;if(k==="c")K=N(L)+K,L="";else{L=+L;var W=L<0||1/L<0;if(L=isNaN(L)?c:N(Math.abs(L),E),y&&(L=Vee(L)),W&&+L==0&&g!=="+"&&(W=!1),j=(W?g==="("?g:l:g==="-"||g==="("?"":g)+j,K=(k==="s"?qM[8+zM/3]:"")+K+(W&&g==="("?")":""),$){for(V=-1,G=L.length;++V<G;)if(B=L.charCodeAt(V),48>B||B>57){K=(B===46?o+L.slice(V+1):L.slice(V))+K,L=L.slice(0,V);break}}}S&&!w&&(L=e(L,1/0));var X=j.length+L.length+K.length,J=X<b?new Array(b-X+1).join(h):"";switch(S&&w&&(L=e(J+L,J.length?b-K.length:1/0),J=""),p){case"<":L=j+L+K+J;break;case"=":L=j+J+L+K;break;case"^":L=J.slice(0,X=J.length>>1)+j+L+K+J.slice(X);break;default:L=J+j+L+K;break}return s(L)}return I.toString=function(){return d+""},I}function f(d,h){var p=u((d=np(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(yl(h)/3)))*3,v=Math.pow(10,-g),w=qM[8+g/3];return function(b){return p(v*b)+w}}return{format:u,formatPrefix:f}}var rp,WM,KM;Wee({thousands:",",grouping:[3],currency:["$",""]});function Wee(n){return rp=qee(n),WM=rp.format,KM=rp.formatPrefix,rp}function Kee(n){return Math.max(0,-yl(Math.abs(n)))}function Gee(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yl(e)/3)))*3-yl(Math.abs(n)))}function Yee(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,yl(e)-yl(n))+1}function Jee(n,e,r,i){var o=fZ(n,e,r),s;switch(i=np(i==null?",f":i),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=Gee(o,a))&&(i.precision=s),KM(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Yee(o,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Kee(o))&&(i.precision=s-(i.type==="%")*2);break}}return WM(i)}function Xee(n){var e=n.domain;return n.ticks=function(r){var i=e();return uZ(i[0],i[i.length-1],r==null?10:r)},n.tickFormat=function(r,i){var o=e();return Jee(o[0],o[o.length-1],r==null?10:r,i)},n.nice=function(r){r==null&&(r=10);var i=e(),o=0,s=i.length-1,a=i[o],l=i[s],c,u,f=10;for(l<a&&(u=a,a=l,l=u,u=o,o=s,s=u);f-- >0;){if(u=sM(a,l,r),u===c)return i[o]=a,i[s]=l,e(i);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return n},n}function Zee(){var n=Fee();return n.copy=function(){return Lee(n,Zee())},LM.apply(n,arguments),Xee(n)}function Qee(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}var ete=Qee("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function tte(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var nte=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  transform: translate(-50%, 25px);
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;tte(nte);function GM(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function bl(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(r),!0).forEach(function(i){Ou(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ip(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ip=function(e){return typeof e}:ip=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(n)}function Ou(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function S0(n,e){return S0=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},S0(n,e)}function rte(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function Du(n,e,r){return rte()?Du=Reflect.construct:Du=function(o,s,a){var l=[null];l.push.apply(l,s);var c=Function.bind.apply(o,l),u=new c;return a&&S0(u,a.prototype),u},Du.apply(null,arguments)}function Tu(n,e){return ote(n)||ate(n,e)||YM(n,e)||cte()}function _r(n){return ite(n)||ste(n)||YM(n)||lte()}function ite(n){if(Array.isArray(n))return k0(n)}function ote(n){if(Array.isArray(n))return n}function ste(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ate(n,e){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i=[],o=!0,s=!1,a,l;try{for(r=r.call(n);!(o=(a=r.next()).done)&&(i.push(a.value),!(e&&i.length===e));o=!0);}catch(c){s=!0,l=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(s)throw l}}return i}}function YM(n,e){if(!!n){if(typeof n=="string")return k0(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(n,e)}}function k0(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ute=FM(ete);function JM(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=ute(e(i))})}function fte(n,e){var r=n.nodes,i=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.nodeFilter,a=s===void 0?function(){return!0}:s,l=o.onLoopError,c=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,u={};r.forEach(function(p){return u[e(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),i.forEach(function(p){var g=p.source,v=p.target,w=y(g),b=y(v);if(!u.hasOwnProperty(w))throw"Missing source node with id: ".concat(w);if(!u.hasOwnProperty(b))throw"Missing target node with id: ".concat(b);var S=u[w],E=u[b];S.out.push(E);function y(k){return ip(k)==="object"?e(k):k}});var f=[];h(Object.values(u));var d=Object.assign.apply(Object,[{}].concat(_r(Object.entries(u).filter(function(p){var g=Tu(p,2),v=g[1];return!v.skip}).map(function(p){var g=Tu(p,2),v=g[0],w=g[1];return Ou({},v,w.depth)}))));return d;function h(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,w=0,b=p.length;w<b;w++){var S=p[w];if(g.indexOf(S)!==-1){var E=function(){var y=[].concat(_r(g.slice(g.indexOf(S))),[S]).map(function(k){return e(k.data)});return f.some(function(k){return k.length===y.length&&k.every(function(D,T){return D===y[T]})})||(f.push(y),c(y)),"continue"}();if(E==="continue")continue}v>S.depth&&(S.depth=v,h(S.out,[].concat(_r(g),[S]),v+(S.skip?0:1)))}}}var dte=2,hn=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},op=gM({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:hn},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:hn},nodeColor:{default:"color",triggerUpdate:!1,onChange:hn},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:hn},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:hn},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:hn},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:hn},linkColor:{default:"color",triggerUpdate:!1,onChange:hn},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:hn},linkWidth:{default:1,triggerUpdate:!1,onChange:hn},linkCurvature:{default:0,triggerUpdate:!1,onChange:hn},linkCanvasObject:{triggerUpdate:!1,onChange:hn},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:hn},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:hn},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:hn},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:hn},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),o(),!e.isShadow&&s(),!e.isShadow&&a(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var l=gt(e.nodeVisibility),c=gt(e.nodeVal),u=gt(e.nodeColor),f=gt(e.nodeCanvasObjectMode),d=e.ctx,h=e.isShadow/e.globalScale,p=e.graphData.nodes.filter(l);d.save(),p.forEach(function(g){var v=f(g);if(e.nodeCanvasObject&&(v==="before"||v==="replace")&&(e.nodeCanvasObject(g,d,e.globalScale),v==="replace")){d.restore();return}var w=Math.sqrt(Math.max(0,c(g)||1))*e.nodeRelSize+h;d.beginPath(),d.arc(g.x,g.y,w,0,2*Math.PI,!1),d.fillStyle=u(g)||"rgba(31, 120, 180, 0.92)",d.fill(),e.nodeCanvasObject&&v==="after"&&e.nodeCanvasObject(g,e.ctx,e.globalScale)}),d.restore()}function o(){var l=gt(e.linkVisibility),c=gt(e.linkColor),u=gt(e.linkWidth),f=gt(e.linkLineDash),d=gt(e.linkCurvature),h=gt(e.linkCanvasObjectMode),p=e.ctx,g=e.isShadow*2,v=e.graphData.links.filter(l);v.forEach(D);var w=[],b=[],S=v;if(e.linkCanvasObject){var E=[],y=[];v.forEach(function(T){return({before:w,after:b,replace:E}[h(T)]||y).push(T)}),S=[].concat(_r(w),b,y),w=w.concat(E)}p.save(),w.forEach(function(T){return e.linkCanvasObject(T,p,e.globalScale)}),p.restore();var k=Tee(S,[c,u,f]);p.save(),Object.entries(k).forEach(function(T){var N=Tu(T,2),$=N[0],I=N[1],L=!$||$==="undefined"?"rgba(0,0,0,0.15)":$;Object.entries(I).forEach(function(j){var K=Tu(j,2),V=K[0],G=K[1],B=(V||1)/e.globalScale+g;Object.entries(G).forEach(function(W){var X=Tu(W,2);X[0];var J=X[1],ee=f(J[0]);p.beginPath(),J.forEach(function(de){var ge=de.source,Z=de.target;if(!(!ge||!Z||!ge.hasOwnProperty("x")||!Z.hasOwnProperty("x"))){p.moveTo(ge.x,ge.y);var te=de.__controlPoints;te?p[te.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,_r(te).concat([Z.x,Z.y])):p.lineTo(Z.x,Z.y)}}),p.strokeStyle=L,p.lineWidth=B,p.setLineDash(ee||[]),p.stroke()})})}),p.restore(),p.save(),b.forEach(function(T){return e.linkCanvasObject(T,p,e.globalScale)}),p.restore();function D(T){var N=d(T);if(!N){T.__controlPoints=null;return}var $=T.source,I=T.target;if(!(!$||!I||!$.hasOwnProperty("x")||!I.hasOwnProperty("x"))){var L=Math.sqrt(Math.pow(I.x-$.x,2)+Math.pow(I.y-$.y,2));if(L>0){var j=Math.atan2(I.y-$.y,I.x-$.x),K=L*N,V={x:($.x+I.x)/2+K*Math.cos(j-Math.PI/2),y:($.y+I.y)/2+K*Math.sin(j-Math.PI/2)};T.__controlPoints=[V.x,V.y]}else{var G=N*70;T.__controlPoints=[I.x,I.y-G,I.x+G,I.y]}}}}function s(){var l=1.6,c=.2,u=gt(e.linkDirectionalArrowLength),f=gt(e.linkDirectionalArrowRelPos),d=gt(e.linkVisibility),h=gt(e.linkDirectionalArrowColor||e.linkColor),p=gt(e.nodeVal),g=e.ctx;g.save(),e.graphData.links.filter(d).forEach(function(v){var w=u(v);if(!(!w||w<0)){var b=v.source,S=v.target;if(!(!b||!S||!b.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=Math.sqrt(Math.max(0,p(b)||1))*e.nodeRelSize,y=Math.sqrt(Math.max(0,p(S)||1))*e.nodeRelSize,k=Math.min(1,Math.max(0,f(v))),D=h(v)||"rgba(0,0,0,0.28)",T=w/l/2,N=v.__controlPoints&&Du(St,[b.x,b.y].concat(_r(v.__controlPoints),[S.x,S.y])),$=N?function(B){return N.get(B)}:function(B){return{x:b.x+(S.x-b.x)*B||0,y:b.y+(S.y-b.y)*B||0}},I=N?N.length():Math.sqrt(Math.pow(S.x-b.x,2)+Math.pow(S.y-b.y,2)),L=E+w+(I-E-y-w)*k,j=$(L/I),K=$((L-w)/I),V=$((L-w*(1-c))/I),G=Math.atan2(j.y-K.y,j.x-K.x)-Math.PI/2;g.beginPath(),g.moveTo(j.x,j.y),g.lineTo(K.x+T*Math.cos(G),K.y+T*Math.sin(G)),g.lineTo(V.x,V.y),g.lineTo(K.x-T*Math.cos(G),K.y-T*Math.sin(G)),g.fillStyle=D,g.fill()}}}),g.restore()}function a(){var l=gt(e.linkDirectionalParticles),c=gt(e.linkDirectionalParticleSpeed),u=gt(e.linkDirectionalParticleWidth),f=gt(e.linkVisibility),d=gt(e.linkDirectionalParticleColor||e.linkColor),h=e.ctx;h.save(),e.graphData.links.filter(f).forEach(function(p){var g=l(p);if(!(!p.hasOwnProperty("__photons")||!p.__photons.length)){var v=p.source,w=p.target;if(!(!v||!w||!v.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var b=c(p),S=p.__photons||[],E=Math.max(0,u(p)/2)/Math.sqrt(e.globalScale),y=d(p)||"rgba(0,0,0,0.28)";h.fillStyle=y;var k=p.__controlPoints?Du(St,[v.x,v.y].concat(_r(p.__controlPoints),[w.x,w.y])):null,D=0,T=!1;S.forEach(function(N){var $=!!N.__singleHop;if(N.hasOwnProperty("__progressRatio")||(N.__progressRatio=$?0:D/g),!$&&D++,N.__progressRatio+=b,N.__progressRatio>=1)if(!$)N.__progressRatio=N.__progressRatio%1;else{T=!0;return}var I=N.__progressRatio,L=k?k.get(I):{x:v.x+(w.x-v.x)*I||0,y:v.y+(w.y-v.y)*I||0};h.beginPath(),h.arc(L.x,L.y,E,0,2*Math.PI,!1),h.fill()}),T&&(p.__photons=p.__photons.filter(function(N){return!N.__singleHop||N.__progressRatio<=1}))}}}),h.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:lee().force("link",eee()).force("charge",cee()).force("center",iQ()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e){if(e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&JM(e.graphData.nodes,gt(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&JM(e.graphData.links,gt(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(d){d.source=d[e.linkSource],d.target=d[e.linkTarget]}),!e.isShadow){var r=gt(e.linkDirectionalParticles);e.graphData.links.forEach(function(d){var h=Math.round(Math.abs(r(d)));h?d.__photons=_r(Array(h)).map(function(){return{}}):delete d.__photons})}e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(d){return d[e.nodeId]}).links(e.graphData.links);var o=e.dagMode&&fte(e.graphData,function(d){return d[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),s=Math.max.apply(Math,_r(Object.values(o||[]))),a=e.dagLevelDistance||e.graphData.nodes.length/(s||1)*dte*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(e.dagMode){var l=function(h,p){return function(g){return h?(o[g[e.nodeId]]-s/2)*a*(p?-1:1):void 0}},c=l(["lr","rl"].indexOf(e.dagMode)!==-1,e.dagMode==="rl"),u=l(["td","bu"].indexOf(e.dagMode)!==-1,e.dagMode==="bu");e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(d){d.fx=c(d),d.fy=u(d)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?uee(function(d){var h=o[d[e.nodeId]]||-1;return(e.dagMode==="radialin"?s-h:h)*a}).strength(function(d){return e.dagNodeFilter(d)?1:0}):null);for(var f=0;f<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);f++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function XM(n,e){var r=n instanceof Array?n:[n],i=new e;return{linkProp:function(s){return{default:i[s](),onChange:function(l,c){r.forEach(function(u){return c[u][s](l)})},triggerUpdate:!1}},linkMethod:function(s){return function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var f=[];return r.forEach(function(d){var h=a[d],p=h[s].apply(h,c);p!==h&&f.push(p)}),f.length?f[0]:this}}}}var hte=800,pte=4,ZM=XM("forceGraph",op),gte=XM(["forceGraph","shadowGraph"],op),mte=Object.assign.apply(Object,_r(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return Ou({},n,ZM.linkProp(n))})).concat(_r(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return Ou({},n,gte.linkProp(n))})))),vte=Object.assign.apply(Object,_r(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return Ou({},n,ZM.linkMethod(n))})));function C0(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(s){s.style.width="".concat(n.width,"px"),s.style.height="".concat(n.height,"px"),s.width=n.width*i,s.height=n.height*i,!e&&!r&&s.getContext("2d").scale(i,i)});var o=yi(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/o,(n.height-r)/2/o),n.needsRedraw=!0}}function QM(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function eN(n,e,r){n.save(),QM(n),n.clearRect(0,0,e,r),n.restore()}var Kne=gM({props:bl({width:{default:window.innerWidth,onChange:function(e,r){return C0(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return C0(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(o){var s=o.type,a=o.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:s,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,o,s){return e(i,i.__indexColor,o,s)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,o,s){return e(i,i.__indexColor,o,s)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},mte),aliases:{stopAnimation:"pauseAnimation"},methods:bl({graph2ScreenCoords:function(e,r,i){var o=yi(e.canvas);return{x:r*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(e,r,i){var o=yi(e.canvas);return{x:(r-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(e,r,i,o){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var s=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return o?new Eu.Tween(a()).to(s,o).easing(Eu.Easing.Quadratic.Out).onUpdate(l).start():l(s),this}return a();function a(){var c=yi(e.canvas);return{x:(e.width/2-c.x)/c.k,y:(e.height/2-c.y)/c.k}}function l(c){var u=c.x,f=c.y;e.zoom.translateTo(e.zoom.__baseElem,u===void 0?a().x:u,f===void 0?a().y:f),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?new Eu.Tween({k:o()}).to({k:r},i).easing(Eu.Easing.Quadratic.Out).onUpdate(function(a){var l=a.k;return s(l)}).start():s(r),this;return o();function o(){return yi(e.canvas).k}function s(a){e.zoom.scaleTo(e.zoom.__baseElem,a),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,s);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(l.x[1]-l.x[0]),(e.height-i*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,r),this.zoom(u,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=gt(e.nodeVal),o=function(l){return Math.sqrt(Math.max(0,i(l)||1))*e.nodeRelSize},s=e.graphData.nodes.filter(r).map(function(a){return{x:a.x,y:a.y,r:o(a)}});return s.length?{x:[lM(s,function(a){return a.x-a.r}),aM(s,function(a){return a.x+a.r})],y:[lM(s,function(a){return a.y-a.r}),aM(s,function(a){return a.y+a.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},vte),stateInit:function(){return{lastSetZoom:1,zoom:nZ(),forceGraph:new op,shadowGraph:new op().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new rQ}},init:function(e,r){var i=this;e.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",e.appendChild(o),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),o.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var s=r.canvas.getContext("2d"),a=r.shadowCanvas.getContext("2d"),l={x:-1e12,y:-1e12},c=function(){var h=null,p=window.devicePixelRatio,g=l.x>0&&l.y>0?a.getImageData(l.x*p,l.y*p,1,1):null;return g&&(h=r.colorTracker.lookup(g.data)),h};$r(r.canvas).call(cJ().subject(function(){if(!r.enableNodeDrag)return null;var d=c();return d&&d.type==="Node"?d.d:null}).on("start",function(d){var h=d.subject;h.__initialDragPos={x:h.x,y:h.y,fx:h.fx,fy:h.fy},d.active||(h.fx=h.x,h.fy=h.y),r.canvas.classList.add("grabbable")}).on("drag",function(d){var h=d.subject,p=h.__initialDragPos,g=d,v=yi(r.canvas).k,w={x:p.x+(g.x-p.x)/v-h.x,y:p.y+(g.y-p.y)/v-h.y};["x","y"].forEach(function(b){return h["f".concat(b)]=h[b]=p[b]+(g[b]-p[b])/v}),r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,h.__dragged=!0,r.onNodeDrag(h,w)}).on("end",function(d){var h=d.subject,p=h.__initialDragPos,g={x:h.x-p.x,y:h.y-p.y};p.fx===void 0&&(h.fx=void 0),p.fy===void 0&&(h.fy=void 0),delete h.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,h.__dragged&&(delete h.__dragged,r.onNodeDragEnd(h,g))})),r.zoom(r.zoom.__baseElem=$r(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(d){return!d.button&&r.enableZoomPanInteraction&&(r.enableZoomInteraction||d.type!=="wheel")&&(r.enablePanInteraction||d.type==="wheel")}).on("zoom",function(d){var h=d.transform;[s,a].forEach(function(p){QM(p),p.translate(h.x,h.y),p.scale(h.k,h.k)}),r.onZoom&&r.onZoom(bl(bl({},h),i.centerAt())),r.needsRedraw=!0}).on("end",function(d){return r.onZoomEnd&&r.onZoomEnd(bl(bl({},d.transform),i.centerAt()))}),C0(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){yi(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=pte/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)});var u=document.createElement("div");u.classList.add("graph-tooltip"),o.appendChild(u),["pointermove","pointerdown"].forEach(function(d){return o.addEventListener(d,function(h){d==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=h),!r.isPointerDragging&&h.type==="pointermove"&&r.onBackgroundClick&&(h.pressure>0||r.isPointerPressed)&&(h.pointerType!=="touch"||h.movementX===void 0||[h.movementX,h.movementY].some(function(v){return Math.abs(v)>1}))&&(r.isPointerDragging=!0);var p=g(o);l.x=h.pageX-p.left,l.y=h.pageY-p.top,u.style.top="".concat(l.y,"px"),u.style.left="".concat(l.x,"px");function g(v){var w=v.getBoundingClientRect(),b=window.pageXOffset||document.documentElement.scrollLeft,S=window.pageYOffset||document.documentElement.scrollTop;return{top:w.top+S,left:w.left+b}}},{passive:!0})}),o.addEventListener("pointerup",function(d){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var h=[d,r.pointerDownEvent];requestAnimationFrame(function(){if(d.button===0)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"Click")];p&&p.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,h);if(d.button===2)if(r.hoverObj){var g=r["on".concat(r.hoverObj.type,"RightClick")];g&&g.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,h)})},{passive:!0}),o.addEventListener("contextmenu",function(d){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(d.preventDefault(),!1)}),r.forceGraph(s),r.shadowGraph(a);var f=DZ(function(){eN(a,r.width,r.height),r.shadowGraph.linkWidth(function(h){return gt(r.linkWidth)(h)+r.linkHoverPrecision});var d=yi(r.canvas);r.shadowGraph.globalScale(d.k).tickFrame()},hte);r.flushShadowCanvas=f.flush,(this._animationCycle=function d(){var h=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(k){return k.__photons&&k.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var p=r.isPointerDragging?null:c();if(p!==r.hoverObj){var g=r.hoverObj,v=g?g.type:null,w=p?p.type:null;if(v&&v!==w){var b=r["on".concat(v,"Hover")];b&&b(null,g.d)}if(w){var S=r["on".concat(w,"Hover")];S&&S(p.d,v===w?g.d:null)}var E=p&&gt(r["".concat(p.type.toLowerCase(),"Label")])(p.d)||"";u.style.visibility=E?"visible":"hidden",u.innerHTML=E,r.canvas.classList[p&&r["on".concat(w,"Click")]||!p&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=p}h&&f()}if(h){eN(s,r.width,r.height);var y=yi(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(s,y),r.forceGraph.globalScale(y).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(s,y)}Eu.update(),r.animationFrameRequestId=requestAnimationFrame(d)})()},update:function(e){}});function Gne(n,e){var r,i=1;n==null&&(n=0),e==null&&(e=0);function o(){var s,a=r.length,l,c=0,u=0;for(s=0;s<a;++s)l=r[s],c+=l.x,u+=l.y;for(c=(c/a-n)*i,u=(u/a-e)*i,s=0;s<a;++s)l=r[s],l.x-=c,l.y-=u}return o.initialize=function(s){r=s},o.x=function(s){return arguments.length?(n=+s,o):n},o.y=function(s){return arguments.length?(e=+s,o):e},o.strength=function(s){return arguments.length?(i=+s,o):i},o}function _i(n){return function(){return n}}function tN(n){return(n()-.5)*1e-6}function yte(n){return n.x+n.vx}function bte(n){return n.y+n.vy}function Yne(n){var e,r,i,o=1,s=1;typeof n!="function"&&(n=_i(n==null?1:+n));function a(){for(var u,f=e.length,d,h,p,g,v,w,b=0;b<s;++b)for(d=p0(e,yte,bte).visitAfter(l),u=0;u<f;++u)h=e[u],v=r[h.index],w=v*v,p=h.x+h.vx,g=h.y+h.vy,d.visit(S);function S(E,y,k,D,T){var N=E.data,$=E.r,I=v+$;if(N){if(N.index>h.index){var L=p-N.x-N.vx,j=g-N.y-N.vy,K=L*L+j*j;K<I*I&&(L===0&&(L=tN(i),K+=L*L),j===0&&(j=tN(i),K+=j*j),K=(I-(K=Math.sqrt(K)))/K*o,h.vx+=(L*=K)*(I=($*=$)/(w+$)),h.vy+=(j*=K)*I,N.vx-=L*(I=1-I),N.vy-=j*I)}return}return y>p+I||D<p-I||k>g+I||T<g-I}}function l(u){if(u.data)return u.r=r[u.data.index];for(var f=u.r=0;f<4;++f)u[f]&&u[f].r>u.r&&(u.r=u[f].r)}function c(){if(!!e){var u,f=e.length,d;for(r=new Array(f),u=0;u<f;++u)d=e[u],r[d.index]=+n(d,u,e)}}return a.initialize=function(u,f){e=u,i=f,c()},a.iterations=function(u){return arguments.length?(s=+u,a):s},a.strength=function(u){return arguments.length?(o=+u,a):o},a.radius=function(u){return arguments.length?(n=typeof u=="function"?u:_i(+u),c(),a):n},a}function Jne(n){var e=_i(.1),r,i,o;typeof n!="function"&&(n=_i(n==null?0:+n));function s(l){for(var c=0,u=r.length,f;c<u;++c)f=r[c],f.vx+=(o[c]-f.x)*i[c]*l}function a(){if(!!r){var l,c=r.length;for(i=new Array(c),o=new Array(c),l=0;l<c;++l)i[l]=isNaN(o[l]=+n(r[l],l,r))?0:+e(r[l],l,r)}}return s.initialize=function(l){r=l,a()},s.strength=function(l){return arguments.length?(e=typeof l=="function"?l:_i(+l),a(),s):e},s.x=function(l){return arguments.length?(n=typeof l=="function"?l:_i(+l),a(),s):n},s}function Xne(n){var e=_i(.1),r,i,o;typeof n!="function"&&(n=_i(n==null?0:+n));function s(l){for(var c=0,u=r.length,f;c<u;++c)f=r[c],f.vy+=(o[c]-f.y)*i[c]*l}function a(){if(!!r){var l,c=r.length;for(i=new Array(c),o=new Array(c),l=0;l<c;++l)i[l]=isNaN(o[l]=+n(r[l],l,r))?0:+e(r[l],l,r)}}return s.initialize=function(l){r=l,a()},s.strength=function(l){return arguments.length?(e=typeof l=="function"?l:_i(+l),a(),s):e},s.y=function(l){return arguments.length?(n=typeof l=="function"?l:_i(+l),a(),s):n},s}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qs(n,e,r,i){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(i.next(f))}catch(d){a(d)}}function c(f){try{u(i.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((i=i.apply(n,e||[])).next())})}class Hr{static get touch(){return window.Modernizr&&window.Modernizr.touch===!0||function(){return!!(window.navigator.maxTouchPoints>0||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)}()}static get observer(){return"MutationObserver"in window||"WebkitMutationObserver"in window}static get backdropFilter(){return CSS.supports("backdrop-filter","blur(0px)")||CSS.supports("-webkit-backdrop-filter","blur(0px)")}static get passiveListener(){let e=!1;try{const r=Object.defineProperty({},"passive",{get(){e=!0}});window.addEventListener("testPassiveListener",null,r)}catch(r){}return e}static get gestures(){return"ongesturestart"in window}static get pointerEvents(){return!!window.PointerEvent&&"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0}}class _te{constructor(){this.ios=!1,this.android=!1,this.androidChrome=!1,this.desktop=!1,this.iphone=!1,this.ipod=!1,this.ipad=!1,this.edge=!1,this.ie=!1,this.firefox=!1,this.macos=!1,this.windows=!1,this.cordova=!!(window.cordova||window.phonegap),this.phonegap=!!(window.cordova||window.phonegap),this.electron=!1,this.ionic=!!document.querySelector("ion-app");const e=window.navigator.platform,r=window.navigator.userAgent,i=window.screen.width,o=window.screen.height;let s=r.match(/(Android);?[\s\/]+([\d.]+)?/),a=r.match(/(iPad).*OS\s([\d_]+)/),l=r.match(/(iPod)(.*OS\s([\d_]+))?/),c=!this.ipad&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),u=r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0,f=r.indexOf("Edge/")>=0,d=r.indexOf("Gecko/")>=0&&r.indexOf("Firefox/")>=0,h=e==="Win32",p=r.toLowerCase().indexOf("electron")>=0,g=e==="MacIntel";!a&&g&&Hr.touch&&(i===1024&&o===1366||i===834&&o===1194||i===834&&o===1112||i===768&&o===1024)&&(a=r.match(/(Version)\/([\d.]+)/),g=!1),this.ie=u,this.edge=f,this.firefox=d,s&&!h&&(this.os="android",this.osVersion=s[2],this.android=!0,this.androidChrome=r.toLowerCase().indexOf("chrome")>=0),(a||c||l)&&(this.os="ios",this.ios=!0),c&&!l&&(this.osVersion=c[2].replace(/_/g,"."),this.iphone=!0),a&&(this.osVersion=a[2].replace(/_/g,"."),this.ipad=!0),l&&(this.osVersion=l[3]?l[3].replace(/_/g,"."):null,this.ipod=!0),this.ios&&this.osVersion&&r.indexOf("Version/")>=0&&this.osVersion.split(".")[0]==="10"&&(this.osVersion=r.toLowerCase().split("version/")[1].split(" ")[0]),this.webView=!!((c||a||l)&&(r.match(/.*AppleWebKit(?!.*Safari)/i)||window.navigator.standalone))||window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,this.webview=this.webView,this.standalone=this.webView,this.desktop=!(this.ios||this.android)||p,this.desktop&&(this.electron=p,this.macos=g,this.windows=h,this.macos&&(this.os="macos"),this.windows&&(this.os="windows")),this.pixelRatio=window.devicePixelRatio||1}}class wte{constructor(e,r,i,o){this.instance=e,this.settings=r,this.device=i,this.breakpoints=o,this.allowClick=!0,this.disableDragAngle=!1,this.pointerDown=!1,this.contentScrollTop=0,this.steps=[],this.inputBluredbyMove=!1,this.movedByKeyboard=!1,this.touchEvents=(()=>{const s=["touchstart","touchmove","touchend","touchcancel"];let a=["mousedown","mousemove","mouseup"];Hr.pointerEvents&&(a=["pointerdown","pointermove","pointerup"]);const l={start:s[0],move:s[1],end:s[2],cancel:s[3]},c={start:a[0],move:a[1],end:a[2]};return Hr.touch||!this.settings.simulateTouch?l:c})(),this.touchStartCb=s=>this.touchStart(s),this.touchMoveBackdropCb=s=>this.touchMoveBackdrop(s),this.touchMoveCb=s=>this.touchMove(s),this.touchEndCb=s=>this.touchEnd(s),this.onClickCb=s=>this.onClick(s),this.onKeyboardShowCb=s=>this.onKeyboardShow(s),this.onKeyboardHideCb=s=>this.onKeyboardHide(s),this.onWindowResizeCb=s=>this.onWindowResize(s)}attachAllEvents(){this.settings.dragBy?this.settings.dragBy.forEach(e=>{const r=document.querySelector(e);r&&this.eventListeners("addEventListener",r)}):this.eventListeners("addEventListener",this.instance.paneEl),this.settings.handleKeyboard&&this.device.cordova&&(window.addEventListener("keyboardWillShow",this.onKeyboardShowCb),window.addEventListener("keyboardWillHide",this.onKeyboardHideCb)),!this.settings.handleKeyboard&&this.device.cordova&&this.device.android&&window.addEventListener("keyboardWillHide",()=>{this.instance.parentEl.scrollTop=0,this.instance.parentEl.parentElement&&(this.instance.parentEl.parentElement.scrollTop=0,this.instance.parentEl.parentElement.parentElement&&(this.instance.parentEl.parentElement.parentElement.scrollTop=0))}),window.addEventListener("resize",this.onWindowResizeCb)}detachAllEvents(){this.settings.dragBy?this.settings.dragBy.forEach(e=>{const r=document.querySelector(e);r&&this.eventListeners("removeEventListener",r)}):this.eventListeners("removeEventListener",this.instance.paneEl),this.settings.handleKeyboard&&this.device.cordova&&(window.removeEventListener("keyboardWillShow",this.onKeyboardShowCb),window.removeEventListener("keyboardWillHide",this.onKeyboardHideCb)),window.removeEventListener("resize",this.onWindowResizeCb)}resetEvents(){this.detachAllEvents(),this.attachAllEvents()}eventListeners(e,r){var i,o,s;if(!Hr.touch&&Hr.pointerEvents)r[e](this.touchEvents.start,this.touchStartCb,!1),r[e](this.touchEvents.move,this.touchMoveCb,!1),r[e](this.touchEvents.end,this.touchEndCb,!1),(i=this.instance.backdropEl)===null||i===void 0||i[e](this.touchEvents.move,this.touchMoveBackdropCb,!1);else{if(Hr.touch){const a=this.touchEvents.start==="touchstart"&&Hr.passiveListener&&this.settings.passiveListeners?{passive:!0,capture:!1}:!1;r[e](this.touchEvents.start,this.touchStartCb,a),r[e](this.touchEvents.move,this.touchMoveCb,Hr.passiveListener?{passive:!1,capture:!1}:!1),r[e](this.touchEvents.end,this.touchEndCb,a),(o=this.instance.backdropEl)===null||o===void 0||o[e](this.touchEvents.move,this.touchMoveBackdropCb,Hr.passiveListener?{passive:!1,capture:!1}:!1),this.touchEvents.cancel&&r[e](this.touchEvents.cancel,this.touchEndCb,a)}(this.settings.simulateTouch&&!this.device.ios&&!this.device.android||this.settings.simulateTouch&&!Hr.touch&&this.device.ios)&&(r[e]("mousedown",this.touchStartCb,!1),r[e]("mousemove",this.touchMoveCb,!1),r[e]("mouseup",this.touchEndCb,!1),(s=this.instance.backdropEl)===null||s===void 0||s[e]("mousemove",this.touchMoveBackdropCb,!1))}this.settings.preventClicks&&r[e]("click",this.onClickCb,!0)}touchStart(e){if(this.settings.onDragStart(e),this.allowClick=!0,this.instance.disableDragEvents)return;this.disableDragAngle=!1,this.instance.preventedDismiss=!1;const{clientY:r,clientX:i}=this.getEvetClientYX(e,"touchstart");this.startY=r,this.startX=i,e.type==="mousedown"&&(this.pointerDown=!0),this.contentScrollTop&&this.willScrolled(e)&&this.isDragScrollabe(e.path||e.composedPath())&&(this.startY+=this.contentScrollTop),this.steps.push({posY:this.startY,time:Date.now()})}touchMoveBackdrop(e){this.settings.touchMoveStopPropagation&&e.stopPropagation()}touchMove(e){var r;const{clientY:i,clientX:o,velocityY:s}=this.getEvetClientYX(e,"touchmove");if(e.delta=((r=this.steps[0])===null||r===void 0?void 0:r.posY)-i,this.settings.onDrag(e),this.instance.disableDragEvents){this.steps=[];return}if(this.disableDragAngle||this.instance.preventedDismiss||(this.settings.touchMoveStopPropagation&&e.stopPropagation(),e.type==="mousemove"&&!this.pointerDown))return;const a=i-this.steps[this.steps.length-1].posY;let l=this.instance.getPanelTransformY()+(this.steps.length<2?a*s:a);if(!(this.isFormElement(e.target)&&this.isElementScrollable(e.target))){if(this.steps.length>2&&this.isFormElement(document.activeElement)&&!this.isFormElement(e.target)&&(document.activeElement.blur(),this.inputBluredbyMove=!0),this.settings.touchAngle){let c;const u=o-this.startX,f=i-this.startY;if(c=Math.atan2(Math.abs(f),Math.abs(u))*180/Math.PI,u*u+f*f>=25&&90-c>this.settings.touchAngle&&this.steps.length===1){this.disableDragAngle=!0;return}}if(this.isDragScrollabe(e.path||e.composedPath())&&this.instance.overflowEl.style.overflowY==="auto"){if(this.instance.overflowEl.addEventListener("scroll",c=>{this.contentScrollTop=c.target.scrollTop}),this.settings.inverse&&this.willScrolled(e)){this.contentScrollTop=0;return}if(!this.settings.inverse&&(l>this.breakpoints.topper&&this.contentScrollTop>0||l<=this.breakpoints.topper))return}if(this.settings.inverse){if(l>=this.breakpoints.topper&&this.settings.upperThanTop){const c=this.instance.screen_height-this.instance.screenHeightOffset,u=(c-this.instance.getPanelTransformY())/(c-this.breakpoints.topper)/8;l=this.instance.getPanelTransformY()+a*u}if(!this.settings.upperThanTop&&l>=this.breakpoints.topper){this.instance.paneEl.style.transform=`translateY(${this.breakpoints.topper}px) translateZ(0px)`;return}}else{if(!this.settings.upperThanTop&&l<=this.breakpoints.topper){this.instance.paneEl.style.transform=`translateY(${this.breakpoints.topper}px) translateZ(0px)`;return}if(l<=this.breakpoints.topper&&this.settings.upperThanTop){const c=this.instance.screen_height-this.instance.screenHeightOffset,u=(c-this.instance.getPanelTransformY())/(c-this.breakpoints.topper)/8;l=this.instance.getPanelTransformY()+a*u}if(!this.settings.lowerThanBottom&&l>=this.breakpoints.bottomer){this.instance.paneEl.style.transform=`translateY(${this.breakpoints.bottomer}px) translateZ(0px)`,this.instance.checkOpacityAttr(l);return}}if(!this.instance.preventedDismiss&&this.instance.preventDismissEvent&&this.settings.bottomClose){let c=(-this.breakpoints.topper+this.breakpoints.topper-this.instance.getPanelTransformY())/this.breakpoints.topper/-8;if(l=this.instance.getPanelTransformY()+a*(.5-c),(i-220-this.instance.screen_height)*-1<=this.instance.screen_height-this.breakpoints.bottomer){this.instance.preventedDismiss=!0,this.settings.onWillDismiss({prevented:!0}),this.instance.moveToBreak(this.breakpoints.prevBreakpoint);return}}this.allowClick=!1,this.instance.checkOpacityAttr(l),this.instance.checkOverflowAttr(l),this.instance.doTransition({type:"move",translateY:l}),this.steps.push({posY:i,time:Date.now()})}}touchEnd(e){var r,i;if(this.instance.disableDragEvents)return;e.type==="mouseup"&&(this.pointerDown=!1);let o=this.breakpoints.getClosestBreakY();const s=((r=this.steps[this.steps.length-1])===null||r===void 0?void 0:r.posY)-((i=this.steps[this.steps.length-2])===null||i===void 0?void 0:i.posY),a=window.hasOwnProperty("cordova")?this.settings.fastSwipeSensivity+2:this.settings.fastSwipeSensivity;if(Math.abs(s)>=a&&(o=this.instance.swipeNextPoint(s,a,o),this.settings.fastSwipeClose&&this.breakpoints.currentBreakpoint<o)){this.instance.destroy({animate:!0});return}let c=!1;if(this.isFormElement(document.activeElement)&&!this.isFormElement(e.target)&&this.steps.length===2&&(c=!0),this.steps=[],this.breakpoints.currentBreakpoint=o,this.settings.onDragEnd(e),!(isNaN(s)||c)){if(this.instance.checkOpacityAttr(this.breakpoints.currentBreakpoint),this.instance.checkOverflowAttr(this.breakpoints.currentBreakpoint),this.settings.bottomClose&&o===this.breakpoints.breaks.bottom){this.instance.destroy({animate:!0});return}this.instance.getPanelTransformY()===o&&this.settings.onTransitionEnd({target:this.instance.paneEl}),this.instance.doTransition({type:"end",translateY:o})}}onClick(e){if(!this.allowClick){this.settings.preventClicks&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation());return}if(this.settings.clickBottomOpen&&this.breakpoints.breaks.bottom===this.instance.getPanelTransformY()){let r;this.settings.breaks.top.enabled&&(r="top"),this.settings.breaks.middle.enabled&&(r="middle"),this.instance.moveToBreak(r)}}onKeyboardShow(e){if(!this.isPaneDescendant(document.activeElement)||!this.isOnViewport())return;this.device.android&&setTimeout(()=>this.fixAndroidResize(),20),this.movedByKeyboard=!0,this.breakpoints.prevBreakpoint=Object.entries(this.breakpoints.breaks).find(o=>o[1]===this.instance.getPanelTransformY())[0];let r=this.settings.breaks[this.instance.currentBreak()].height+e.keyboardHeight;window.matchMedia("(orientation: landscape)").matches&&(r=this.instance.screen_height),r>this.instance.screen_height-80&&(r=this.instance.screen_height-80),r-50>=this.settings.breaks[this.instance.currentBreak()].height&&this.instance.moveToHeight(r),setTimeout(()=>{this.instance.setOverflowHeight(e.keyboardHeight-this.settings.topperOverflowOffset),this.instance.overflowEl.scrollTop=document.activeElement.offsetTop},300)}onKeyboardHide(e){if(!!this.movedByKeyboard&&!!this.isOnViewport()){if(this.device.android&&this.fixAndroidResize(),this.movedByKeyboard=!1,this.instance.setOverflowHeight(),this.inputBluredbyMove){this.inputBluredbyMove=!1;return}this.instance.isHidden()||this.instance.moveToBreak(this.breakpoints.prevBreakpoint)}}onWindowResize(e){return qs(this,void 0,void 0,function*(){yield new Promise(r=>setTimeout(()=>r(!0),150)),this.instance.updateScreenHeights(),this.breakpoints.buildBreakpoints(JSON.parse(this.breakpoints.lockedBreakpoints))})}getEvetClientYX(e,r){var i,o;const s=e.type===r&&e.targetTouches&&(e.targetTouches[0]||e.changedTouches[0]),a=e.type===r?s.clientY:e.clientY,l=e.type===r?s.clientX:e.clientX,c=Date.now()-(((i=this.steps[this.steps.length-1])===null||i===void 0?void 0:i.time)||0),f=Math.abs(a-(((o=this.steps[this.steps.length-1])===null||o===void 0?void 0:o.posY)||0))/c;return{clientY:a,clientX:l,velocityY:f}}fixAndroidResize(){!this.instance.paneEl||(document.querySelector("ion-app"),window.requestAnimationFrame(()=>{this.instance.wrapperEl.style.width="100%",this.instance.paneEl.style.position="absolute",window.requestAnimationFrame(()=>{this.instance.wrapperEl.style.width="unset",this.instance.paneEl.style.position="fixed"})}))}isDragScrollabe(e){return!!e.find(r=>r===this.instance.overflowEl)}willScrolled(e){return!!(this.isElementScrollable(this.instance.overflowEl)&&this.instance.overflowEl.style.overflow!=="hidden"&&this.isDragScrollabe(e.path||e.composedPath()))}isPaneDescendant(e){let r=e.parentNode;for(;r!=null;){if(r==this.instance.paneEl)return!0;r=r.parentNode}return!1}isFormElement(e){const r=["input","select","option","textarea","button","label"];return!!(e&&e.tagName&&r.includes(e.tagName.toLowerCase()))}isElementScrollable(e){return e.scrollHeight>e.clientHeight}isOnViewport(){return!(this.instance.paneEl&&this.instance.paneEl.offsetWidth===0&&this.instance.paneEl.offsetHeight===0)}}class Ete{constructor(){this.instance={initialBreak:"middle",inverse:!1,parentElement:null,followerElement:null,cssClass:null,fitHeight:!1,maxFitHeight:null,fitScreenHeight:!0,backdrop:!1,backdropOpacity:.4,animationType:"ease",animationDuration:300,dragBy:null,bottomOffset:0,bottomClose:!1,fastSwipeClose:!1,fastSwipeSensivity:3,freeMode:!1,buttonDestroy:!0,buttonClose:!0,topperOverflow:!0,topperOverflowOffset:0,lowerThanBottom:!0,upperThanTop:!1,showDraggable:!0,draggableOver:!1,clickBottomOpen:!0,preventClicks:!0,handleKeyboard:!0,simulateTouch:!0,passiveListeners:!0,touchMoveStopPropagation:!1,touchAngle:null,breaks:{},zStack:null,onDidDismiss:()=>{},onWillDismiss:()=>{},onDidPresent:()=>{},onWillPresent:()=>{},onDragStart:()=>{},onDrag:()=>{},onDragEnd:()=>{},onBackdropTap:()=>{},onTransitionStart:()=>{},onTransitionEnd:()=>{}}}}class Ste{constructor(e,r){this.instance=e,this.settings=r,this.breaks={},this.calcHeightInProcess=!1,this.brs=[],this.defaultBreaksConf={top:{enabled:!0,height:window.innerHeight-135*.35},middle:{enabled:!0,height:300},bottom:{enabled:!0,height:100}}}buildBreakpoints(e,r=0){var i,o,s,a,l;return qs(this,void 0,void 0,function*(){if(this.settings.bottomOffset=r||this.settings.bottomOffset,this.breaks={top:this.instance.screenHeightOffset,middle:this.instance.screenHeightOffset,bottom:this.instance.screenHeightOffset},this.settings.fitHeight){this.settings.fitScreenHeight=!1,this.settings.initialBreak="top",this.settings.topperOverflow=!1;let c=yield this.getPaneFitHeight();this.settings.maxFitHeight&&c>this.settings.maxFitHeight&&(c=this.settings.maxFitHeight,this.settings.topperOverflow=!0),e={top:{enabled:!0,height:c},middle:{enabled:!1}},e.top.bounce=(o=(i=this.settings.breaks)===null||i===void 0?void 0:i.top)===null||o===void 0?void 0:o.bounce,e.bottom=((s=this.settings.breaks)===null||s===void 0?void 0:s.bottom)||{enabled:!0,height:0}}if(["top","middle","bottom"].forEach(c=>{var u;this.breaks[c]-=this.settings.bottomOffset,this.settings.breaks[c]||(this.settings.breaks[c]=this.defaultBreaksConf[c]),e&&e[c]&&(this.settings.breaks[c]=e[c]),this.settings.fitScreenHeight&&(((u=this.settings.breaks[c])===null||u===void 0?void 0:u.height)>this.instance.screen_height&&(this.settings.breaks[c].height=this.instance.screen_height-this.settings.bottomOffset),this.settings.breaks.top&&this.settings.breaks.middle&&this.settings.breaks.top.height-50<=this.settings.breaks.middle.height&&(this.settings.breaks.middle.enabled=!1,this.settings.initialBreak="top")),this.settings.fitHeight&&c==="top"&&(this.settings.breaks[c].height>this.instance.screen_height?(this.settings.breaks[c].height=this.instance.screen_height-this.settings.bottomOffset*2,this.settings.topperOverflow=!0):this.instance.overflowEl&&!this.settings.maxFitHeight&&(this.settings.topperOverflow=!1,this.instance.overflowEl.style.overflowY="hidden")),this.settings.breaks[c]&&this.settings.breaks[c].enabled&&this.settings.breaks[c].height&&(this.settings.inverse?this.breaks[c]=this.settings.breaks[c].height+this.settings.bottomOffset:this.breaks[c]-=this.settings.breaks[c].height)}),this.lockedBreakpoints||(this.lockedBreakpoints=JSON.stringify(this.settings.breaks)),this.instance.isPanePresented()||this.settings.breaks[this.settings.initialBreak].enabled||console.warn("Cupertino Pane: Please set initialBreak for enabled breakpoint"),this.settings.breaks.middle.height>=this.settings.breaks.top.height&&console.warn("Cupertino Pane: Please set middle height lower than top height"),this.settings.breaks.middle.height<=this.settings.breaks.bottom.height&&console.warn("Cupertino Pane: Please set bottom height lower than middle height"),this.brs=[],["top","middle","bottom"].forEach(c=>{this.settings.breaks[c].enabled&&this.brs.push(this.breaks[c])}),this.topper=this.brs.reduce((c,u)=>u<c?u:c),this.bottomer=this.brs.reduce((c,u)=>Math.abs(u)>Math.abs(c)?u:c),this.settings.inverse&&(this.topper=this.bottomer),this.instance.isPanePresented()||(this.currentBreakpoint=this.breaks[this.settings.initialBreak],this.settings.inverse&&!this.settings.breaks.bottom.enabled&&!this.settings.breaks.middle.enabled&&(this.settings.topperOverflow=!1)),this.instance.isPanePresented()){if(((a=this.settings.breaks[this.prevBreakpoint])===null||a===void 0?void 0:a.enabled)&&this.instance.moveToBreak(this.prevBreakpoint),!((l=this.settings.breaks[this.prevBreakpoint])===null||l===void 0?void 0:l.enabled)){let c=this.instance.swipeNextPoint(1,1,this.getClosestBreakY());const u=Object.entries(this.breaks).find(f=>f[1]===c);this.instance.moveToBreak(u[0])}this.instance.paneEl.style.top=this.settings.inverse?`-${this.bottomer-this.settings.bottomOffset}px`:"unset",this.instance.paneEl.style.height=`${this.instance.getPaneHeight()}px`,this.instance.scrollElementInit(),this.instance.checkOpacityAttr(this.currentBreakpoint),this.instance.checkOverflowAttr(this.currentBreakpoint)}})}getCurrentBreakName(){return this.breaks.top===this.currentBreakpoint?"top":this.breaks.middle===this.currentBreakpoint?"middle":this.breaks.bottom===this.currentBreakpoint?"bottom":null}getPaneFitHeight(){return qs(this,void 0,void 0,function*(){this.calcHeightInProcess=!0;let e=this.instance.el.querySelectorAll("img"),r;this.instance.el.style.height="unset",this.instance.rendered||(this.instance.el.style.visibility="hidden",this.instance.el.style.pointerEvents="none",this.instance.el.style.display="block",this.instance.wrapperEl.style.visibility="hidden",this.instance.wrapperEl.style.pointerEvents="none",this.instance.wrapperEl.style.display="block");let i=[];e.length&&(i=Array.from(e).map(l=>new Promise(c=>{l.complete&&l.naturalHeight?c(!0):l.onload=()=>c(!0)}))),i.push(new Promise(l=>setTimeout(()=>l(!0),this.instance.rendered?0:150))),yield Promise.all(i);let o=parseInt(document.defaultView.getComputedStyle(this.instance.el,"").getPropertyValue("height")),s=parseInt(document.defaultView.getComputedStyle(this.instance.el,"").getPropertyValue("margin-top"))+parseInt(document.defaultView.getComputedStyle(this.instance.el,"").getPropertyValue("margin-bottom")),a=parseInt(document.defaultView.getComputedStyle(this.instance.el.parentElement,"").getPropertyValue("padding-bottom"));return r=o+s,r+=this.instance.el.offsetTop,r+=a,this.instance.rendered||(this.instance.el.style.visibility="unset",this.instance.el.style.pointerEvents="unset",this.instance.el.style.display="none",this.instance.wrapperEl.style.visibility="unset",this.instance.wrapperEl.style.pointerEvents="unset",this.instance.wrapperEl.style.display="none"),this.calcHeightInProcess=!1,r})}getClosestBreakY(){return this.brs.reduce((e,r)=>Math.abs(r-this.instance.getPanelTransformY())<Math.abs(e-this.instance.getPanelTransformY())?r:e)}}class Zne{constructor(e,r={}){if(this.selector=e,this.disableDragEvents=!1,this.preventDismissEvent=!1,this.preventedDismiss=!1,this.rendered=!1,this.settings=new Ete().instance,this.device=new _te,this.zStackDefaults={pushElements:null,minPushHeight:null,cardYOffset:0,cardZScale:.93,cardContrast:.85,stackZAngle:160},this.swipeNextPoint=(i,o,s)=>{let a={},l={};if(this.settings.inverse?(a.top=this.breakpoints.breaks.bottom,a.middle=this.breakpoints.breaks.middle,a.bottom=this.breakpoints.breaks.top,l.top=Object.assign({},this.settings.breaks.bottom),l.middle=Object.assign({},this.settings.breaks.middle),l.bottom=Object.assign({},this.settings.breaks.top)):(a=Object.assign({},this.breakpoints.breaks),l=Object.assign({},this.settings.breaks)),this.breakpoints.currentBreakpoint===a.top){if(i>o){if(l.middle.enabled)return a.middle;if(l.bottom.enabled)return a.middle<s?s:a.bottom}return a.top}if(this.breakpoints.currentBreakpoint===a.middle)return i<-o&&l.top.enabled?a.top:i>o&&l.bottom.enabled?a.bottom:a.middle;if(this.breakpoints.currentBreakpoint===a.bottom){if(i<-o){if(l.middle.enabled)return a.middle>s?s:a.middle;if(l.top.enabled)return a.top}return a.bottom}return s},e instanceof HTMLElement?this.selector=e:this.selector=document.querySelector(e),!this.selector){console.warn("Cupertino Pane: wrong selector or DOM element specified",this.selector);return}if(this.isPanePresented()){console.error("Cupertino Pane: specified selector or DOM element already in use",this.selector);return}this.el=this.selector,this.el.style.display="none",this.settings=Object.assign(Object.assign({},this.settings),r),this.settings.parentElement?this.settings.parentElement=document.querySelector(this.settings.parentElement):this.settings.parentElement=this.el.parentElement,this.breakpoints=new Ste(this,this.settings),this.events=new wte(this,this.settings,this.device,this.breakpoints)}drawBaseElements(){this.parentEl=this.settings.parentElement,this.wrapperEl=document.createElement("div"),this.wrapperEl.classList.add("cupertino-pane-wrapper"),this.settings.inverse&&this.wrapperEl.classList.add("inverse"),this.settings.cssClass&&(this.wrapperEl.className+=` ${this.settings.cssClass}`);let e="";e+=`
      .cupertino-pane-wrapper {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
      }
    `,this.paneEl=document.createElement("div"),this.paneEl.style.transform=`translateY(${this.screenHeightOffset}px) translateZ(0px)`,this.paneEl.classList.add("pane"),e+=`
      .cupertino-pane-wrapper .pane {
        position: fixed;
        z-index: 11;
        width: 100%;
        max-width: 500px;
        left: 0px;
        right: 0px;
        margin-left: auto;
        margin-right: auto;
        background: var(--cupertino-pane-background, #ffffff);
        color: var(--cupertino-pane-color, #333333);
        box-shadow: var(--cupertino-pane-shadow, 0 4px 16px rgba(0,0,0,.12));
        will-change: transform;
        padding-top: 15px; 
        border-radius: var(--cupertino-pane-border-radius, 20px) 
                       var(--cupertino-pane-border-radius, 20px) 
                       0 0;
      }
      .cupertino-pane-wrapper.inverse .pane {
        padding-bottom: 15px; 
        border-radius: 0 0 20px 20px;
        border-radius: 0 0
                       var(--cupertino-pane-border-radius, 20px) 
                       var(--cupertino-pane-border-radius, 20px);
      }
    `,this.draggableEl=document.createElement("div"),this.draggableEl.classList.add("draggable"),this.settings.draggableOver&&this.draggableEl.classList.add("over"),e+=`
      .cupertino-pane-wrapper .draggable {
        padding: 5px;
        position: absolute;
        left: 0;
        right: 0;
        margin-left: auto;
        margin-right: auto;
        height: 30px;
        z-index: 12;
        top: 0;
        bottom: initial;
      }
      .cupertino-pane-wrapper .draggable.over {
        top: -30px;
        padding: 15px;
      }
      .cupertino-pane-wrapper.inverse .draggable {
        bottom: 0;
        top: initial;
      }
      .cupertino-pane-wrapper.inverse .draggable.over {
        bottom: -30px;
        top: initial;
      }
    `,this.moveEl=document.createElement("div"),this.moveEl.classList.add("move"),e+=`
      .cupertino-pane-wrapper .move {
        margin: 0 auto;
        height: 5px;
        background: var(--cupertino-pane-move-background, #c0c0c0);
        width: 36px;
        border-radius: 4px;
      }
      .cupertino-pane-wrapper .draggable.over .move {
        width: 70px; 
        background: var(--cupertino-pane-move-background, rgba(225, 225, 225, 0.6));
        ${Hr.backdropFilter?`
          backdrop-filter: saturate(180%) blur(20px);
          -webkit-backdrop-filter: saturate(180%) blur(20px);
        `:""}
      }
      .cupertino-pane-wrapper.inverse .move {
        margin-top: 15px;
      }
      .cupertino-pane-wrapper.inverse .draggable.over .move {
        margin-top: -5px;
      }
    `,this.destroyButtonEl=document.createElement("div"),this.destroyButtonEl.classList.add("destroy-button"),e+=`
      .cupertino-pane-wrapper .destroy-button {
        width: 26px;
        height: 26px;
        position: absolute;
        background: var(--cupertino-pane-destroy-button-background, #ebebeb);
        fill: var(--cupertino-pane-icon-close-color, #7a7a7e);
        right: 20px;
        z-index: 14;
        border-radius: 100%;
        top: 16px;
      }
    `,this.contentEl=this.el,this.contentEl.style.transition=`opacity ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,this.contentEl.style.overflowX="hidden",e+=`
      .cupertino-pane-wrapper .backdrop {
        overflow: hidden;
        position: fixed;
        width: 100%;
        bottom: 0;
        right: 0;
        left: 0;
        top: 0;
        display: none;
        z-index: 10;
      }
    `,this.addStyle(e),this.parentEl.appendChild(this.wrapperEl),this.wrapperEl.appendChild(this.paneEl),this.paneEl.appendChild(this.contentEl),this.settings.showDraggable&&(this.paneEl.appendChild(this.draggableEl),this.draggableEl.appendChild(this.moveEl))}present(e={animate:!1}){var r;return qs(this,void 0,void 0,function*(){if(!!this.el){if(this.isPanePresented()&&this.rendered){this.moveToBreak(this.settings.initialBreak);return}if(this.isPanePresented()&&!this.rendered){console.warn("Cupertino Pane: specified selector or DOM element already in use",this.selector);return}if(this.settings.onWillPresent(),this.updateScreenHeights(),this.drawBaseElements(),yield this.setBreakpoints(),this.paneEl.style.height=`${this.getPaneHeight()}px`,this.settings.inverse&&(this.paneEl.style.top=`-${this.breakpoints.bottomer-this.settings.bottomOffset}px`),this.wrapperEl.style.display="block",this.contentEl.style.display="block",this.wrapperEl.classList.add("rendered"),this.rendered=!0,this.settings.followerElement){if(!document.querySelector(this.settings.followerElement)){console.warn("Cupertino Pane: wrong follower element selector specified",this.settings.followerElement);return}this.followerEl=document.querySelector(this.settings.followerElement),this.followerEl.style.willChange="transform, border-radius",this.followerEl.style.transform="translateY(0px) translateZ(0px)",this.followerEl.style.transition=`all ${this.settings.animationDuration}ms ${this.getTimingFunction((r=this.settings.breaks[this.currentBreak()])===null||r===void 0?void 0:r.bounce)} 0s`}return this.settings.zStack&&(this.setZstackConfig(this.settings.zStack),this.setPushMultiplicators()),this.settings.buttonClose&&this.settings.buttonDestroy&&!this.settings.inverse&&(this.paneEl.appendChild(this.destroyButtonEl),this.destroyButtonEl.addEventListener("click",i=>this.destroy({animate:!0,destroyButton:!0})),this.destroyButtonEl.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path d="M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"/>
        </svg>`),this.settings.bottomClose&&(this.settings.breaks.bottom.enabled=!0),this.settings.freeMode&&(this.settings.lowerThanBottom=!1),this.settings.backdrop&&this.renderBackdrop(),this.checkOpacityAttr(this.breakpoints.currentBreakpoint),this.device.android&&(document.body.style.overscrollBehaviorY="none"),this.events.attachAllEvents(),e.animate?yield this.doTransition({type:"present",translateY:this.breakpoints.breaks[this.settings.initialBreak]}):(this.breakpoints.prevBreakpoint=this.settings.initialBreak,this.paneEl.style.transform=`translateY(${this.breakpoints.breaks[this.settings.initialBreak]}px) translateZ(0px)`,this.settings.backdrop&&(this.backdropEl.style.display="block"),this.settings.zStack&&this.settings.zStack.pushElements.forEach(i=>this.pushTransition(document.querySelector(i),this.breakpoints.breaks[this.settings.initialBreak],"unset")),this.settings.onDidPresent()),yield new Promise(i=>setTimeout(()=>i(!0),150)),this.scrollElementInit(),this.checkOverflowAttr(this.breakpoints.currentBreakpoint),this}})}getPaneHeight(){return this.settings.inverse?this.breakpoints.bottomer-this.settings.bottomOffset:this.screen_height-this.breakpoints.topper-this.settings.bottomOffset}updateScreenHeights(){this.settings.inverse?(this.screen_height=window.innerHeight,this.screenHeightOffset=0):(this.screen_height=window.innerHeight,this.screenHeightOffset=window.innerHeight)}scrollElementInit(){let e=this.el.querySelectorAll("[overflow-y]");!e.length||e.length>1?this.overflowEl=this.contentEl:(this.overflowEl=e[0],this.overflowEl.style.overflowX="hidden"),this.settings.topperOverflow&&(this.settings.upperThanTop&&console.warn('Cupertino Pane: "upperThanTop" allowed for disabled "topperOverflow"'),this.setOverflowHeight())}setOverflowHeight(e=0){this.settings.inverse?this.overflowEl.style.height=`${this.getPaneHeight()-30-this.settings.topperOverflowOffset-this.overflowEl.offsetTop}px`:this.overflowEl.style.height=`${this.getPaneHeight()-this.settings.topperOverflowOffset-this.overflowEl.offsetTop-e}px`}checkOpacityAttr(e){let r=this.el.querySelectorAll("[hide-on-bottom]");!r.length||this.settings.inverse||r.forEach(i=>{i.style.transition=`opacity ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,i.style.opacity=e>=this.breakpoints.breaks.bottom?"0":"1"})}checkOverflowAttr(e){!this.settings.topperOverflow||!this.overflowEl||(this.settings.inverse?this.overflowEl.style.overflowY=e>=this.breakpoints.bottomer?"auto":"hidden":this.overflowEl.style.overflowY=e<=this.breakpoints.topper?"auto":"hidden")}isPanePresented(){let e=Array.from(document.querySelectorAll(".cupertino-pane-wrapper.rendered"));return e.length?!!e.find(r=>r.contains(this.selector)):!1}getTimingFunction(e){return e?"cubic-bezier(0.175, 0.885, 0.370, 1.120)":this.settings.animationType}isBackdropPresented(){return!!document.querySelector(".cupertino-pane-wrapper .backdrop")}renderBackdrop(){this.backdropEl=document.createElement("div"),this.backdropEl.classList.add("backdrop"),this.backdropEl.style.transition=`all ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,this.backdropEl.style.backgroundColor=`rgba(0,0,0, ${this.settings.backdropOpacity})`,this.wrapperEl.appendChild(this.backdropEl),this.backdropEl.addEventListener("click",e=>this.settings.onBackdropTap())}addStyle(e){if(document.querySelector("#cupertino-panes-internal"))return;const r=document.createElement("style");r.id="cupertino-panes-internal",e=e.replace(/\s\s+/g," "),r.textContent=e,document.head.prepend(r)}setPushMultiplicators(){this.settings.zStack.pushElements.forEach(e=>{let r=document.querySelector(e),i=this.getPushMulitplicator(r);i=i?i+1:1,r.style.setProperty("--push-multiplicator",`${i}`)})}clearPushMultiplicators(){for(let e=0;e<this.settings.zStack.pushElements.length;e++){let r=document.querySelector(this.settings.zStack.pushElements[e]),i=this.getPushMulitplicator(r);i-=1,i?r.style.setProperty("--push-multiplicator",`${i}`):r.style.removeProperty("--push-multiplicator")}}getPushMulitplicator(e){let r=e.style.getPropertyValue("--push-multiplicator");return parseInt(r)}setZstackConfig(e){this.settings.zStack=e?Object.assign(Object.assign({},this.zStackDefaults),e):null}backdrop(e={show:!0}){if(!this.isPanePresented())return console.warn("Cupertino Pane: Present pane before call backdrop()"),null;this.isBackdropPresented()||(this.renderBackdrop(),this.events.resetEvents());const r=()=>{this.backdropEl.style.transition="initial",this.backdropEl.style.display="none",this.backdropEl.removeEventListener("transitionend",r)};if(this.backdropEl.style.transition=`all ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,this.backdropEl.style.backgroundColor="rgba(0,0,0,.0)",e.show)this.backdropEl.style.display="block",setTimeout(()=>{this.backdropEl.style.backgroundColor=`rgba(0,0,0, ${this.settings.backdropOpacity})`},50);else{if(this.backdropEl.style.display==="none")return;this.backdropEl.addEventListener("transitionend",r)}}getPanelTransformY(){return parseFloat(/\.*translateY\((.*)px\)/i.exec(this.paneEl.style.transform)[1])}preventDismiss(e=!1){this.preventDismissEvent=e}disableDrag(){this.disableDragEvents=!0}enableDrag(){this.disableDragEvents=!1}setBreakpoints(e,r){return qs(this,void 0,void 0,function*(){if(this.isPanePresented()&&!e){console.warn("Cupertino Pane: Provide any breaks configuration");return}yield this.breakpoints.buildBreakpoints(e,r)})}calcFitHeight(){return qs(this,void 0,void 0,function*(){if(!this.wrapperEl||!this.el)return null;if(this.breakpoints.calcHeightInProcess)return console.warn("Cupertino Pane: calcFitHeight() already in process"),null;yield this.breakpoints.buildBreakpoints(this.breakpoints.lockedBreakpoints)})}moveToBreak(e){if(!this.isPanePresented())return console.warn("Cupertino Pane: Present pane before call moveToBreak()"),null;if(!this.settings.breaks[e].enabled){console.warn("Cupertino Pane: %s breakpoint disabled",e);return}this.checkOpacityAttr(this.breakpoints.breaks[e]),this.checkOverflowAttr(this.breakpoints.breaks[e]),this.doTransition({type:"breakpoint",translateY:this.breakpoints.breaks[e]}),this.breakpoints.currentBreakpoint=this.breakpoints.breaks[e]}moveToHeight(e){if(!this.isPanePresented())return console.warn("Cupertino Pane: Present pane before call moveToHeight()"),null;let r=this.screenHeightOffset?this.screen_height-e:e;this.checkOpacityAttr(r),this.doTransition({type:"breakpoint",translateY:r})}hide(){if(!this.isPanePresented())return console.warn("Cupertino Pane: Present pane before call hide()"),null;if(this.isHidden())return console.warn("Cupertino Pane: Pane already hidden"),null;this.doTransition({type:"hide",translateY:this.screenHeightOffset})}isHidden(){return this.isPanePresented()?this.paneEl.style.transform===`translateY(${this.screenHeightOffset}px) translateZ(0px)`:(console.warn("Cupertino Pane: Present pane before call isHidden()"),null)}currentBreak(){return this.isPanePresented()?this.breakpoints.getCurrentBreakName():(console.warn("Cupertino Pane: Present pane before call currentBreak()"),null)}destroyResets(){this.parentEl.appendChild(this.contentEl),this.wrapperEl.remove(),this.events.detachAllEvents(),this.settings.zStack,delete this.rendered,delete this.breakpoints.prevBreakpoint,this.contentEl.style.display="none"}destroy(e={animate:!1,destroyButton:!1}){return qs(this,void 0,void 0,function*(){if(!this.isPanePresented())return console.warn("Cupertino Pane: Present pane before call destroy()"),null;if(this.preventDismissEvent){this.preventedDismiss||(this.settings.onWillDismiss({prevented:!0}),this.moveToBreak(this.breakpoints.prevBreakpoint));return}this.settings.onWillDismiss(),e.animate?yield this.doTransition({type:"destroy",translateY:this.screenHeightOffset,destroyButton:e.destroyButton}):(this.destroyResets(),this.settings.onDidDismiss({destroyButton:e.destroyButton}))})}pushTransition(e,r,i){let o=this.settings.zStack.pushElements;e.style.transition=i,r=this.screenHeightOffset-r;const s=this.settings.zStack.minPushHeight?this.settings.zStack.minPushHeight:this.screenHeightOffset-this.breakpoints.bottomer,a=this.screenHeightOffset-this.breakpoints.topper;let l=this.getPushMulitplicator(e),c=Math.pow(this.settings.zStack.cardZScale,l),u=Math.pow(this.settings.zStack.cardZScale,l-1),f=6+this.settings.zStack.cardYOffset,d=-1*(f*l),h=d+f,p=Math.pow(this.settings.zStack.cardContrast,l),g=Math.pow(this.settings.zStack.cardContrast,l-1);const v=(b,S,E,y)=>{let k=Math.pow(b,this.settings.zStack.stackZAngle/100);e.style.transform=`translateY(${S*(k/b)}px) scale(${b})`,e.style.borderRadius=`${y}px`,e.style.filter=`contrast(${E})`;let D=document.querySelector(o[o.length-1]);!r&&e.className===D.className&&this.clearPushMultiplicators()};if(r<=s){v(u,h,g,0);return}const w=(b,S)=>{let E=(a*S-s*b)*-1;return E-=(b-S)*r,E/=s-a,E>S&&(E=S),E<b&&(E=b),E};v(w(c,u),w(d,h),w(p,g),w(-10,0)*-1)}doTransition(e={}){return new Promise(r=>{var i;if(e.type==="move")return this.paneEl.style.transition="all 0ms linear 0ms",this.paneEl.style.transform=`translateY(${e.translateY}px) translateZ(0px)`,this.followerEl&&(this.followerEl.style.transition="all 0ms linear 0ms",this.followerEl.style.transform=`translateY(${e.translateY-this.breakpoints.breaks[this.settings.initialBreak]}px) translateZ(0px)`),this.settings.zStack&&this.settings.zStack.pushElements.forEach(s=>this.pushTransition(document.querySelector(s),this.getPanelTransformY(),"all 0ms linear 0ms")),r(!0);const o=()=>(e.type==="destroy"&&this.destroyResets(),this.paneEl.style.transition="initial",this.followerEl&&(this.followerEl.style.transition="initial"),this.settings.backdrop&&(e.type==="destroy"||e.type==="hide")&&(this.backdropEl.style.transition="initial",this.backdropEl.style.display="none"),e.type==="present"&&this.settings.onDidPresent(),e.type==="destroy"&&this.settings.onDidDismiss({destroyButton:e.destroyButton}),this.settings.onTransitionEnd({target:document.body.contains(this.paneEl)?this.paneEl:null}),this.paneEl.removeEventListener("transitionend",o),r(!0));if(e.type==="breakpoint"||e.type==="end"||e.type==="present"||e.type==="hide"||e.type==="destroy"){if(this.settings.backdrop&&(this.isHidden()||e.type==="hide"||e.type==="destroy"||e.type==="present")&&(this.backdropEl.style.backgroundColor="rgba(0,0,0,.0)",this.backdropEl.style.transition=`all ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,e.type!=="hide"&&e.type!=="destroy"&&(this.backdropEl.style.display="block",setTimeout(()=>{this.backdropEl.style.backgroundColor=`rgba(0,0,0, ${this.settings.backdropOpacity})`},50))),e.type==="end"&&this.settings.freeMode)return r(!0);const s=Object.entries(this.breakpoints.breaks).find(u=>u[1]===e.translateY);let a=s&&((i=this.settings.breaks[s[0]])===null||i===void 0?void 0:i.bounce);const l=this.getTimingFunction(a);this.paneEl.style.transition=`transform ${this.settings.animationDuration}ms ${l} 0s`,this.followerEl&&(this.followerEl.style.transition=`transform ${this.settings.animationDuration}ms ${l} 0s`),this.settings.zStack&&setTimeout(()=>{this.settings.zStack.pushElements.forEach(u=>this.pushTransition(document.querySelector(u),e.translateY,`all ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`))},this.settings.zStack.cardYOffset&&e.type==="present"?50:0),setTimeout(()=>{this.settings.onTransitionStart({translateY:{new:e.translateY}}),this.paneEl.style.transform=`translateY(${e.translateY}px) translateZ(0px)`,this.followerEl&&(this.followerEl.style.transform=`translateY(${e.translateY-this.breakpoints.breaks[this.settings.initialBreak]}px) translateZ(0px)`)},e.type==="present"?50:0);let c=Object.entries(this.breakpoints.breaks).find(u=>u[1]===e.translateY);c&&(this.breakpoints.prevBreakpoint=c[0]),this.paneEl.addEventListener("transitionend",o)}})}}var kte=Object.defineProperty,nN=Object.getOwnPropertySymbols,Cte=Object.prototype.hasOwnProperty,xte=Object.prototype.propertyIsEnumerable,rN=(n,e,r)=>e in n?kte(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,Ate=(n,e)=>{for(var r in e||(e={}))Cte.call(e,r)&&rN(n,r,e[r]);if(nN)for(var r of nN(e))xte.call(e,r)&&rN(n,r,e[r]);return n},Ote="usehead",iN="head:count",x0="data-head-attrs",Dte=(n,e,r)=>{const i=r.createElement(n);for(const o of Object.keys(e)){let s=e[o];o==="key"||s===!1||(o==="children"?i.textContent=s:i.setAttribute(o,s))}return i},oN=n=>{if(n.key!==void 0)return{name:"key",value:n.key};if(n.name!==void 0)return{name:"name",value:n.name};if(n.property!==void 0)return{name:"property",value:n.property}},Tte=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],Mte=n=>{const e=[];for(const r of Object.keys(n))if(n[r]!=null){if(r==="title")e.push({tag:r,props:{children:n[r]}});else if(r==="base")e.push({tag:r,props:Ate({key:"default"},n[r])});else if(Tte.includes(r)){const i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({tag:r,props:o})}):i&&e.push({tag:r,props:i})}}return e},sN=(n,e)=>{const r=n.getAttribute(x0);if(r)for(const o of r.split(","))n.removeAttribute(o);const i=[];for(const o in e){const s=e[o];s!=null&&(s===!1?n.removeAttribute(o):n.setAttribute(o,s),i.push(o))}i.length?n.setAttribute(x0,i.join(",")):n.removeAttribute(x0)},Nte=(n,e=window.document)=>{const r=e.head;let i=r.querySelector(`meta[name="${iN}"]`);const o=i?Number(i.getAttribute("content")):0,s=[];if(i)for(let f=0,d=i.previousElementSibling;f<o;f++,d=d.previousElementSibling)d&&s.push(d);else i=e.createElement("meta"),i.setAttribute("name",iN),i.setAttribute("content","0"),r.append(i);const a=[];let l,c={},u={};for(const f of n){if(f.tag==="title"){l=f.props.children;continue}if(f.tag==="htmlAttrs"){Object.assign(c,f.props);continue}if(f.tag==="bodyAttrs"){Object.assign(u,f.props);continue}if(f.tag==="meta"){const d=oN(f.props);if(d){const h=[...r.querySelectorAll(`meta[${d.name}="${d.value}"]`)];for(const p of h)s.includes(p)||s.push(p)}}a.push(Dte(f.tag,f.props,e))}s.forEach(f=>{f.nextSibling&&f.nextSibling.nodeType===Node.TEXT_NODE&&f.nextSibling.remove(),f.remove()}),l!==void 0&&(e.title=l),sN(e.documentElement,c),sN(e.body,u),a.forEach(f=>{r.insertBefore(f,i)}),i.setAttribute("content",""+a.length)},Qne=()=>{let n=[];const e={install(r){r.config.globalProperties.$head=e,r.provide(Ote,e)},get headTags(){const r=[];return n.forEach(i=>{Mte(i.value).forEach(s=>{if(s.tag==="meta"||s.tag==="base"){const a=oN(s.props);if(a){let l=-1;for(let c=0;c<r.length;c++){const u=r[c],f=u.props[a.name],d=s.props[a.name];if(u.tag===s.tag&&f===d){l=c;break}}l!==-1&&r.splice(l,1)}}r.push(s)})}),r},addHeadObjs(r){n.push(r)},removeHeadObjs(r){n=n.filter(i=>i!==r)},updateDOM(r){Nte(e.headTags,r)}};return e};function Rte(){return aN().__VUE_DEVTOOLS_GLOBAL_HOOK__}function aN(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const Ite=typeof Proxy=="function",Pte="devtools-plugin:setup",Lte="plugin:settings:set";class Bte{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const i={};if(e.settings)for(const a in e.settings){const l=e.settings[a];i[a]=l.defaultValue}const o=`__vue-devtools-plugin-settings__${e.id}`;let s=ce({},i);try{const a=localStorage.getItem(o),l=JSON.parse(a);Object.assign(s,l)}catch(a){}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(o,JSON.stringify(a))}catch(l){}s=a}},r.on(Lte,(a,l)=>{a===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(a,l)=>this.target?this.target.on[l]:(...c)=>{this.onQueue.push({method:l,args:c})}}),this.proxiedTarget=new Proxy({},{get:(a,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...c)=>(this.targetQueue.push({method:l,args:c,resolve:()=>{}}),this.fallbacks[l](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:l,args:c,resolve:u})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function Fte(n,e){const r=aN(),i=Rte(),o=Ite&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(Pte,n,e);else{const s=o?new Bte(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var $te="store";function _l(n,e){Object.keys(n).forEach(function(r){return e(n[r],r)})}function zte(n){return n!==null&&typeof n=="object"}function Ute(n){return n&&typeof n.then=="function"}function Hte(n,e){return function(){return n(e)}}function lN(n,e,r){return e.indexOf(n)<0&&(r&&r.prepend?e.unshift(n):e.push(n)),function(){var i=e.indexOf(n);i>-1&&e.splice(i,1)}}function cN(n,e){n._actions=Object.create(null),n._mutations=Object.create(null),n._wrappedGetters=Object.create(null),n._modulesNamespaceMap=Object.create(null);var r=n.state;sp(n,r,[],n._modules.root,!0),A0(n,r,e)}function A0(n,e,r){var i=n._state;n.getters={},n._makeLocalGettersCache=Object.create(null);var o=n._wrappedGetters,s={};_l(o,function(a,l){s[l]=Hte(a,n),Object.defineProperty(n.getters,l,{get:function(){return s[l]()},enumerable:!0})}),n._state=qe({data:e}),n.strict&&Kte(n),i&&r&&n._withCommit(function(){i.data=null})}function sp(n,e,r,i,o){var s=!r.length,a=n._modules.getNamespace(r);if(i.namespaced&&(n._modulesNamespaceMap[a],n._modulesNamespaceMap[a]=i),!s&&!o){var l=O0(e,r.slice(0,-1)),c=r[r.length-1];n._withCommit(function(){l[c]=i.state})}var u=i.context=Vte(n,a,r);i.forEachMutation(function(f,d){var h=a+d;jte(n,h,f,u)}),i.forEachAction(function(f,d){var h=f.root?d:a+d,p=f.handler||f;qte(n,h,p,u)}),i.forEachGetter(function(f,d){var h=a+d;Wte(n,h,f,u)}),i.forEachChild(function(f,d){sp(n,e,r.concat(d),f,o)})}function Vte(n,e,r){var i=e==="",o={dispatch:i?n.dispatch:function(s,a,l){var c=ap(s,a,l),u=c.payload,f=c.options,d=c.type;return(!f||!f.root)&&(d=e+d),n.dispatch(d,u)},commit:i?n.commit:function(s,a,l){var c=ap(s,a,l),u=c.payload,f=c.options,d=c.type;(!f||!f.root)&&(d=e+d),n.commit(d,u,f)}};return Object.defineProperties(o,{getters:{get:i?function(){return n.getters}:function(){return uN(n,e)}},state:{get:function(){return O0(n.state,r)}}}),o}function uN(n,e){if(!n._makeLocalGettersCache[e]){var r={},i=e.length;Object.keys(n.getters).forEach(function(o){if(o.slice(0,i)===e){var s=o.slice(i);Object.defineProperty(r,s,{get:function(){return n.getters[o]},enumerable:!0})}}),n._makeLocalGettersCache[e]=r}return n._makeLocalGettersCache[e]}function jte(n,e,r,i){var o=n._mutations[e]||(n._mutations[e]=[]);o.push(function(a){r.call(n,i.state,a)})}function qte(n,e,r,i){var o=n._actions[e]||(n._actions[e]=[]);o.push(function(a){var l=r.call(n,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:n.getters,rootState:n.state},a);return Ute(l)||(l=Promise.resolve(l)),n._devtoolHook?l.catch(function(c){throw n._devtoolHook.emit("vuex:error",c),c}):l})}function Wte(n,e,r,i){n._wrappedGetters[e]||(n._wrappedGetters[e]=function(s){return r(i.state,i.getters,s.state,s.getters)})}function Kte(n){Cn(function(){return n._state.data},function(){},{deep:!0,flush:"sync"})}function O0(n,e){return e.reduce(function(r,i){return r[i]},n)}function ap(n,e,r){return zte(n)&&n.type&&(r=e,e=n,n=n.type),{type:n,payload:e,options:r}}var Gte="vuex bindings",fN="vuex:mutations",D0="vuex:actions",wl="vuex",Yte=0;function Jte(n,e){Fte({id:"org.vuejs.vuex",app:n,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Gte]},function(r){r.addTimelineLayer({id:fN,label:"Vuex Mutations",color:dN}),r.addTimelineLayer({id:D0,label:"Vuex Actions",color:dN}),r.addInspector({id:wl,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree(function(i){if(i.app===n&&i.inspectorId===wl)if(i.filter){var o=[];mN(o,e._modules.root,i.filter,""),i.rootNodes=o}else i.rootNodes=[gN(e._modules.root,"")]}),r.on.getInspectorState(function(i){if(i.app===n&&i.inspectorId===wl){var o=i.nodeId;uN(e,o),i.state=Qte(tne(e._modules,o),o==="root"?e.getters:e._makeLocalGettersCache,o)}}),r.on.editInspectorState(function(i){if(i.app===n&&i.inspectorId===wl){var o=i.nodeId,s=i.path;o!=="root"&&(s=o.split("/").filter(Boolean).concat(s)),e._withCommit(function(){i.set(e._state.data,s,i.state.value)})}}),e.subscribe(function(i,o){var s={};i.payload&&(s.payload=i.payload),s.state=o,r.notifyComponentUpdate(),r.sendInspectorTree(wl),r.sendInspectorState(wl),r.addTimelineEvent({layerId:fN,event:{time:Date.now(),title:i.type,data:s}})}),e.subscribeAction({before:function(i,o){var s={};i.payload&&(s.payload=i.payload),i._id=Yte++,i._time=Date.now(),s.state=o,r.addTimelineEvent({layerId:D0,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:s}})},after:function(i,o){var s={},a=Date.now()-i._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},i.payload&&(s.payload=i.payload),s.state=o,r.addTimelineEvent({layerId:D0,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:s}})}})})}var dN=8702998,Xte=6710886,Zte=16777215,hN={label:"namespaced",textColor:Zte,backgroundColor:Xte};function pN(n){return n&&n!=="root"?n.split("/").slice(-2,-1)[0]:"Root"}function gN(n,e){return{id:e||"root",label:pN(e),tags:n.namespaced?[hN]:[],children:Object.keys(n._children).map(function(r){return gN(n._children[r],e+r+"/")})}}function mN(n,e,r,i){i.includes(r)&&n.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[hN]:[]}),Object.keys(e._children).forEach(function(o){mN(n,e._children[o],r,i+o+"/")})}function Qte(n,e,r){e=r==="root"?e:e[r];var i=Object.keys(e),o={state:Object.keys(n.state).map(function(a){return{key:a,editable:!0,value:n.state[a]}})};if(i.length){var s=ene(e);o.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?pN(a):a,editable:!1,value:T0(function(){return s[a]})}})}return o}function ene(n){var e={};return Object.keys(n).forEach(function(r){var i=r.split("/");if(i.length>1){var o=e,s=i.pop();i.forEach(function(a){o[a]||(o[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),o=o[a]._custom.value}),o[s]=T0(function(){return n[r]})}else e[r]=T0(function(){return n[r]})}),e}function tne(n,e){var r=e.split("/").filter(function(i){return i});return r.reduce(function(i,o,s){var a=i[o];if(!a)throw new Error('Missing module "'+o+'" for path "'+e+'".');return s===r.length-1?a:a._children},e==="root"?n:n.root._children)}function T0(n){try{return n()}catch(e){return e}}var Vr=function(e,r){this.runtime=r,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=(typeof i=="function"?i():i)||{}},vN={namespaced:{configurable:!0}};vN.namespaced.get=function(){return!!this._rawModule.namespaced};Vr.prototype.addChild=function(e,r){this._children[e]=r};Vr.prototype.removeChild=function(e){delete this._children[e]};Vr.prototype.getChild=function(e){return this._children[e]};Vr.prototype.hasChild=function(e){return e in this._children};Vr.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Vr.prototype.forEachChild=function(e){_l(this._children,e)};Vr.prototype.forEachGetter=function(e){this._rawModule.getters&&_l(this._rawModule.getters,e)};Vr.prototype.forEachAction=function(e){this._rawModule.actions&&_l(this._rawModule.actions,e)};Vr.prototype.forEachMutation=function(e){this._rawModule.mutations&&_l(this._rawModule.mutations,e)};Object.defineProperties(Vr.prototype,vN);var Ws=function(e){this.register([],e,!1)};Ws.prototype.get=function(e){return e.reduce(function(r,i){return r.getChild(i)},this.root)};Ws.prototype.getNamespace=function(e){var r=this.root;return e.reduce(function(i,o){return r=r.getChild(o),i+(r.namespaced?o+"/":"")},"")};Ws.prototype.update=function(e){yN([],this.root,e)};Ws.prototype.register=function(e,r,i){var o=this;i===void 0&&(i=!0);var s=new Vr(r,i);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}r.modules&&_l(r.modules,function(l,c){o.register(e.concat(c),l,i)})};Ws.prototype.unregister=function(e){var r=this.get(e.slice(0,-1)),i=e[e.length-1],o=r.getChild(i);!o||!o.runtime||r.removeChild(i)};Ws.prototype.isRegistered=function(e){var r=this.get(e.slice(0,-1)),i=e[e.length-1];return r?r.hasChild(i):!1};function yN(n,e,r){if(e.update(r),r.modules)for(var i in r.modules){if(!e.getChild(i))return;yN(n.concat(i),e.getChild(i),r.modules[i])}}function ere(n){return new Pn(n)}var Pn=function(e){var r=this;e===void 0&&(e={});var i=e.plugins;i===void 0&&(i=[]);var o=e.strict;o===void 0&&(o=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ws(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var a=this,l=this,c=l.dispatch,u=l.commit;this.dispatch=function(h,p){return c.call(a,h,p)},this.commit=function(h,p,g){return u.call(a,h,p,g)},this.strict=o;var f=this._modules.root.state;sp(this,f,[],this._modules.root),A0(this,f),i.forEach(function(d){return d(r)})},M0={state:{configurable:!0}};Pn.prototype.install=function(e,r){e.provide(r||$te,this),e.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&Jte(e,this)};M0.state.get=function(){return this._state.data};M0.state.set=function(n){};Pn.prototype.commit=function(e,r,i){var o=this,s=ap(e,r,i),a=s.type,l=s.payload,c={type:a,payload:l},u=this._mutations[a];!u||(this._withCommit(function(){u.forEach(function(d){d(l)})}),this._subscribers.slice().forEach(function(f){return f(c,o.state)}))};Pn.prototype.dispatch=function(e,r){var i=this,o=ap(e,r),s=o.type,a=o.payload,l={type:s,payload:a},c=this._actions[s];if(!!c){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(l,i.state)})}catch(f){}var u=c.length>1?Promise.all(c.map(function(f){return f(a)})):c[0](a);return new Promise(function(f,d){u.then(function(h){try{i._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(l,i.state)})}catch(p){}f(h)},function(h){try{i._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(l,i.state,h)})}catch(p){}d(h)})})}};Pn.prototype.subscribe=function(e,r){return lN(e,this._subscribers,r)};Pn.prototype.subscribeAction=function(e,r){var i=typeof e=="function"?{before:e}:e;return lN(i,this._actionSubscribers,r)};Pn.prototype.watch=function(e,r,i){var o=this;return Cn(function(){return e(o.state,o.getters)},r,Object.assign({},i))};Pn.prototype.replaceState=function(e){var r=this;this._withCommit(function(){r._state.data=e})};Pn.prototype.registerModule=function(e,r,i){i===void 0&&(i={}),typeof e=="string"&&(e=[e]),this._modules.register(e,r),sp(this,this.state,e,this._modules.get(e),i.preserveState),A0(this,this.state)};Pn.prototype.unregisterModule=function(e){var r=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var i=O0(r.state,e.slice(0,-1));delete i[e[e.length-1]]}),cN(this)};Pn.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Pn.prototype.hotUpdate=function(e){this._modules.update(e),cN(this,!0)};Pn.prototype._withCommit=function(e){var r=this._committing;this._committing=!0,e(),this._committing=r};Object.defineProperties(Pn.prototype,M0);export{une as $,L3 as A,Ze as B,$ne as C,Kl as D,Ane as E,Si as F,Dne as G,_ne as H,bne as I,Mne as J,Rne as K,One as L,Ine as M,Vt as N,Pne as O,It as P,zne as Q,qa as R,Lne as S,Tne as T,Nne as U,kne as V,wne as W,Bne as X,or as Y,Fne as Z,Ene as _,U_ as a,Sne as a0,I2 as a1,O2 as a2,bR as a3,fp as a4,Cn as a5,Er as a6,OK as a7,Hne as a8,sI as a9,ine as aa,cne as ab,fne as ac,Wne as ad,Une as ae,DK as af,Kne as ag,dF as ah,Zee as ai,Gne as aj,Jne as ak,Xne as al,Yne as am,Hb as an,bJ as ao,c2 as ap,Zne as aq,Vne as ar,qne as as,jne as at,gne as au,pne as av,ere as aw,Qne as ax,dne as ay,ane as b,sne as c,Ne as d,one as e,Bn as f,rE as g,mne as h,vne as i,Je as j,qe as k,Xu as l,Cne as m,dp as n,tI as o,lne as p,rI as q,le as r,aI as s,Et as t,$t as u,hne as v,bt as w,rne as x,x4 as y,xne as z};
